/*! For license information please see 867-c0519901690583da878c.js.LICENSE.txt */
(self.webpackChunkpoetry_me_uk=self.webpackChunkpoetry_me_uk||[]).push([[867],{9345:function(e,t,n){"use strict";t.Xx=t._w=t.aP=t.KS=t.jQ=void 0;var r=n(2293),o=n(69542),i=n(46819);function s(e){var t=new Float64Array(16);if(e)for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.jQ=64,t.KS=64,t.aP=32,new Uint8Array(32)[0]=9;var a=s(),c=s([1]),u=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t){for(var n=0;n<16;n++)e[n]=0|t[n]}function v(e){for(var t=1,n=0;n<16;n++){var r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function y(e,t,n){for(var r=~(n-1),o=0;o<16;o++){var i=r&(e[o]^t[o]);e[o]^=i,t[o]^=i}}function g(e,t){for(var n=s(),r=s(),o=0;o<16;o++)r[o]=t[o];v(r),v(r),v(r);for(var i=0;i<2;i++){n[0]=r[0]-65517;for(var a=1;a<15;a++)n[a]=r[a]-65535-(n[a-1]>>16&1),n[a-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);var c=n[15]>>16&1;n[14]&=65535,y(r,n,1-c)}for(var u=0;u<16;u++)e[2*u]=255&r[u],e[2*u+1]=r[u]>>8}function m(e,t){for(var n=0,r=0;r<32;r++)n|=e[r]^t[r];return(1&n-1>>>8)-1}function b(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return g(n,e),g(r,t),m(n,r)}function w(e){var t=new Uint8Array(32);return g(t,e),1&t[0]}function _(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function x(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function E(e,t,n){var r,o,i=0,s=0,a=0,c=0,u=0,f=0,l=0,p=0,h=0,d=0,v=0,y=0,g=0,m=0,b=0,w=0,_=0,x=0,E=0,R=0,S=0,k=0,O=0,I=0,P=0,j=0,A=0,T=0,L=0,N=0,Z=0,q=n[0],M=n[1],C=n[2],D=n[3],U=n[4],V=n[5],J=n[6],B=n[7],z=n[8],H=n[9],F=n[10],G=n[11],K=n[12],Q=n[13],W=n[14],Y=n[15];i+=(r=t[0])*q,s+=r*M,a+=r*C,c+=r*D,u+=r*U,f+=r*V,l+=r*J,p+=r*B,h+=r*z,d+=r*H,v+=r*F,y+=r*G,g+=r*K,m+=r*Q,b+=r*W,w+=r*Y,s+=(r=t[1])*q,a+=r*M,c+=r*C,u+=r*D,f+=r*U,l+=r*V,p+=r*J,h+=r*B,d+=r*z,v+=r*H,y+=r*F,g+=r*G,m+=r*K,b+=r*Q,w+=r*W,_+=r*Y,a+=(r=t[2])*q,c+=r*M,u+=r*C,f+=r*D,l+=r*U,p+=r*V,h+=r*J,d+=r*B,v+=r*z,y+=r*H,g+=r*F,m+=r*G,b+=r*K,w+=r*Q,_+=r*W,x+=r*Y,c+=(r=t[3])*q,u+=r*M,f+=r*C,l+=r*D,p+=r*U,h+=r*V,d+=r*J,v+=r*B,y+=r*z,g+=r*H,m+=r*F,b+=r*G,w+=r*K,_+=r*Q,x+=r*W,E+=r*Y,u+=(r=t[4])*q,f+=r*M,l+=r*C,p+=r*D,h+=r*U,d+=r*V,v+=r*J,y+=r*B,g+=r*z,m+=r*H,b+=r*F,w+=r*G,_+=r*K,x+=r*Q,E+=r*W,R+=r*Y,f+=(r=t[5])*q,l+=r*M,p+=r*C,h+=r*D,d+=r*U,v+=r*V,y+=r*J,g+=r*B,m+=r*z,b+=r*H,w+=r*F,_+=r*G,x+=r*K,E+=r*Q,R+=r*W,S+=r*Y,l+=(r=t[6])*q,p+=r*M,h+=r*C,d+=r*D,v+=r*U,y+=r*V,g+=r*J,m+=r*B,b+=r*z,w+=r*H,_+=r*F,x+=r*G,E+=r*K,R+=r*Q,S+=r*W,k+=r*Y,p+=(r=t[7])*q,h+=r*M,d+=r*C,v+=r*D,y+=r*U,g+=r*V,m+=r*J,b+=r*B,w+=r*z,_+=r*H,x+=r*F,E+=r*G,R+=r*K,S+=r*Q,k+=r*W,O+=r*Y,h+=(r=t[8])*q,d+=r*M,v+=r*C,y+=r*D,g+=r*U,m+=r*V,b+=r*J,w+=r*B,_+=r*z,x+=r*H,E+=r*F,R+=r*G,S+=r*K,k+=r*Q,O+=r*W,I+=r*Y,d+=(r=t[9])*q,v+=r*M,y+=r*C,g+=r*D,m+=r*U,b+=r*V,w+=r*J,_+=r*B,x+=r*z,E+=r*H,R+=r*F,S+=r*G,k+=r*K,O+=r*Q,I+=r*W,P+=r*Y,v+=(r=t[10])*q,y+=r*M,g+=r*C,m+=r*D,b+=r*U,w+=r*V,_+=r*J,x+=r*B,E+=r*z,R+=r*H,S+=r*F,k+=r*G,O+=r*K,I+=r*Q,P+=r*W,j+=r*Y,y+=(r=t[11])*q,g+=r*M,m+=r*C,b+=r*D,w+=r*U,_+=r*V,x+=r*J,E+=r*B,R+=r*z,S+=r*H,k+=r*F,O+=r*G,I+=r*K,P+=r*Q,j+=r*W,A+=r*Y,g+=(r=t[12])*q,m+=r*M,b+=r*C,w+=r*D,_+=r*U,x+=r*V,E+=r*J,R+=r*B,S+=r*z,k+=r*H,O+=r*F,I+=r*G,P+=r*K,j+=r*Q,A+=r*W,T+=r*Y,m+=(r=t[13])*q,b+=r*M,w+=r*C,_+=r*D,x+=r*U,E+=r*V,R+=r*J,S+=r*B,k+=r*z,O+=r*H,I+=r*F,P+=r*G,j+=r*K,A+=r*Q,T+=r*W,L+=r*Y,b+=(r=t[14])*q,w+=r*M,_+=r*C,x+=r*D,E+=r*U,R+=r*V,S+=r*J,k+=r*B,O+=r*z,I+=r*H,P+=r*F,j+=r*G,A+=r*K,T+=r*Q,L+=r*W,N+=r*Y,w+=(r=t[15])*q,s+=38*(x+=r*C),a+=38*(E+=r*D),c+=38*(R+=r*U),u+=38*(S+=r*V),f+=38*(k+=r*J),l+=38*(O+=r*B),p+=38*(I+=r*z),h+=38*(P+=r*H),d+=38*(j+=r*F),v+=38*(A+=r*G),y+=38*(T+=r*K),g+=38*(L+=r*Q),m+=38*(N+=r*W),b+=38*(Z+=r*Y),i=(r=(i+=38*(_+=r*M))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),w=(r=w+o+65535)-65536*(o=Math.floor(r/65536)),i=(r=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),w=(r=w+o+65535)-65536*(o=Math.floor(r/65536)),i+=o-1+37*(o-1),e[0]=i,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=f,e[6]=l,e[7]=p,e[8]=h,e[9]=d,e[10]=v,e[11]=y,e[12]=g,e[13]=m,e[14]=b,e[15]=w}function R(e,t){E(e,t,t)}function S(e,t){var n,r=s();for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)R(r,r),2!==n&&4!==n&&E(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function k(e,t){var n=s(),r=s(),o=s(),i=s(),a=s(),c=s(),u=s(),l=s(),p=s();x(n,e[1],e[0]),x(p,t[1],t[0]),E(n,n,p),_(r,e[0],e[1]),_(p,t[0],t[1]),E(r,r,p),E(o,e[3],t[3]),E(o,o,f),E(i,e[2],t[2]),_(i,i,i),x(a,r,n),x(c,i,o),_(u,i,o),_(l,r,n),E(e[0],a,c),E(e[1],l,u),E(e[2],u,c),E(e[3],a,l)}function O(e,t,n){for(var r=0;r<4;r++)y(e[r],t[r],n)}function I(e,t){var n=s(),r=s(),o=s();S(o,t[2]),E(n,t[0],o),E(r,t[1],o),g(e,r),e[31]^=w(n)<<7}function P(e,t,n){d(e[0],a),d(e[1],c),d(e[2],c),d(e[3],a);for(var r=255;r>=0;--r){var o=n[r/8|0]>>(7&r)&1;O(e,t,o),k(t,e),k(e,e),O(e,t,o)}}function j(e,t){var n=[s(),s(),s(),s()];d(n[0],l),d(n[1],p),d(n[2],c),E(n[3],l,p),P(e,n,t)}function A(e){if(e.length!==t.aP)throw new Error("ed25519: seed must be ".concat(t.aP," bytes"));var n=(0,o.hash)(e);n[0]&=248,n[31]&=127,n[31]|=64;var r=new Uint8Array(32),i=[s(),s(),s(),s()];j(i,n),I(r,i);var a=new Uint8Array(64);return a.set(e),a.set(r,32),{publicKey:r,secretKey:a}}t._w=A;var T=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function L(e,t){var n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)t[o]+=n-16*t[r]*T[o-(r-32)],n=Math.floor((t[o]+128)/256),t[o]-=256*n;t[o]+=n,t[r]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*T[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*T[o];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function N(e){for(var t=new Float64Array(64),n=0;n<64;n++)t[n]=e[n];for(var r=0;r<64;r++)e[r]=0;L(e,t)}function Z(e,t){var n=s(),r=s(),o=s(),i=s(),f=s(),l=s(),p=s();return d(e[2],c),function(e,t){for(var n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),R(o,e[1]),E(i,o,u),x(o,o,e[2]),_(i,e[2],i),R(f,i),R(l,f),E(p,l,f),E(n,p,o),E(n,n,i),function(e,t){var n,r=s();for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)R(r,r),1!==n&&E(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(n,n),E(n,n,o),E(n,n,i),E(n,n,i),E(e[0],n,i),R(r,e[0]),E(r,r,i),b(r,o)&&E(e[0],e[0],h),R(r,e[0]),E(r,r,i),b(r,o)?-1:(w(e[0])===t[31]>>7&&x(e[0],a,e[0]),E(e[3],e[0],e[1]),0)}t.Xx=function(e,t){var n=new Float64Array(64),r=[s(),s(),s(),s()],i=(0,o.hash)(e.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;var a=new Uint8Array(64);a.set(i.subarray(32),32);var c=new o.SHA512;c.update(a.subarray(32)),c.update(t);var u=c.digest();c.clean(),N(u),j(r,u),I(a,r),c.reset(),c.update(a.subarray(0,32)),c.update(e.subarray(32)),c.update(t);var f=c.digest();N(f);for(var l=0;l<32;l++)n[l]=u[l];for(var p=0;p<32;p++)for(var h=0;h<32;h++)n[p+h]+=f[p]*i[h];return L(a.subarray(32),n),a}},69542:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37297),o=n(46819);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var i=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._tempHi),o.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,o=t/536870912|0,i=t<<3,s=t%128<112?128:256;this._buffer[n]=128;for(var c=n+1;c<s-8;c++)this._buffer[c]=0;r.writeUint32BE(o,this._buffer,s-8),r.writeUint32BE(i,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/8;c++)r.writeUint32BE(this._stateHi[c],e,8*c),r.writeUint32BE(this._stateLo[c],e,8*c+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){o.wipe(e.stateHi),o.wipe(e.stateLo),e.buffer&&o.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=i;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,n,o,i,a,c){for(var u,f,l,p,h,d,v,y,g=n[0],m=n[1],b=n[2],w=n[3],_=n[4],x=n[5],E=n[6],R=n[7],S=o[0],k=o[1],O=o[2],I=o[3],P=o[4],j=o[5],A=o[6],T=o[7];c>=128;){for(var L=0;L<16;L++){var N=8*L+a;e[L]=r.readUint32BE(i,N),t[L]=r.readUint32BE(i,N+4)}for(L=0;L<80;L++){var Z,q,M=g,C=m,D=b,U=w,V=_,J=x,B=E,z=S,H=k,F=O,G=I,K=P,Q=j,W=A;if(h=65535&(f=T),d=f>>>16,v=65535&(u=R),y=u>>>16,h+=65535&(f=(P>>>14|_<<18)^(P>>>18|_<<14)^(_>>>9|P<<23)),d+=f>>>16,v+=65535&(u=(_>>>14|P<<18)^(_>>>18|P<<14)^(P>>>9|_<<23)),y+=u>>>16,h+=65535&(f=P&j^~P&A),d+=f>>>16,v+=65535&(u=_&x^~_&E),y+=u>>>16,u=s[2*L],h+=65535&(f=s[2*L+1]),d+=f>>>16,v+=65535&u,y+=u>>>16,u=e[L%16],d+=(f=t[L%16])>>>16,v+=65535&u,y+=u>>>16,v+=(d+=(h+=65535&f)>>>16)>>>16,h=65535&(f=p=65535&h|d<<16),d=f>>>16,v=65535&(u=l=65535&v|(y+=v>>>16)<<16),y=u>>>16,h+=65535&(f=(S>>>28|g<<4)^(g>>>2|S<<30)^(g>>>7|S<<25)),d+=f>>>16,v+=65535&(u=(g>>>28|S<<4)^(S>>>2|g<<30)^(S>>>7|g<<25)),y+=u>>>16,d+=(f=S&k^S&O^k&O)>>>16,v+=65535&(u=g&m^g&b^m&b),y+=u>>>16,Z=65535&(v+=(d+=(h+=65535&f)>>>16)>>>16)|(y+=v>>>16)<<16,q=65535&h|d<<16,h=65535&(f=G),d=f>>>16,v=65535&(u=U),y=u>>>16,d+=(f=p)>>>16,v+=65535&(u=l),y+=u>>>16,m=M,b=C,w=D,_=U=65535&(v+=(d+=(h+=65535&f)>>>16)>>>16)|(y+=v>>>16)<<16,x=V,E=J,R=B,g=Z,k=z,O=H,I=F,P=G=65535&h|d<<16,j=K,A=Q,T=W,S=q,L%16==15)for(N=0;N<16;N++)u=e[N],h=65535&(f=t[N]),d=f>>>16,v=65535&u,y=u>>>16,u=e[(N+9)%16],h+=65535&(f=t[(N+9)%16]),d+=f>>>16,v+=65535&u,y+=u>>>16,l=e[(N+1)%16],h+=65535&(f=((p=t[(N+1)%16])>>>1|l<<31)^(p>>>8|l<<24)^(p>>>7|l<<25)),d+=f>>>16,v+=65535&(u=(l>>>1|p<<31)^(l>>>8|p<<24)^l>>>7),y+=u>>>16,l=e[(N+14)%16],d+=(f=((p=t[(N+14)%16])>>>19|l<<13)^(l>>>29|p<<3)^(p>>>6|l<<26))>>>16,v+=65535&(u=(l>>>19|p<<13)^(p>>>29|l<<3)^l>>>6),y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,e[N]=65535&v|y<<16,t[N]=65535&h|d<<16}h=65535&(f=S),d=f>>>16,v=65535&(u=g),y=u>>>16,u=n[0],d+=(f=o[0])>>>16,v+=65535&u,y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,n[0]=g=65535&v|y<<16,o[0]=S=65535&h|d<<16,h=65535&(f=k),d=f>>>16,v=65535&(u=m),y=u>>>16,u=n[1],d+=(f=o[1])>>>16,v+=65535&u,y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,n[1]=m=65535&v|y<<16,o[1]=k=65535&h|d<<16,h=65535&(f=O),d=f>>>16,v=65535&(u=b),y=u>>>16,u=n[2],d+=(f=o[2])>>>16,v+=65535&u,y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,n[2]=b=65535&v|y<<16,o[2]=O=65535&h|d<<16,h=65535&(f=I),d=f>>>16,v=65535&(u=w),y=u>>>16,u=n[3],d+=(f=o[3])>>>16,v+=65535&u,y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,n[3]=w=65535&v|y<<16,o[3]=I=65535&h|d<<16,h=65535&(f=P),d=f>>>16,v=65535&(u=_),y=u>>>16,u=n[4],d+=(f=o[4])>>>16,v+=65535&u,y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,n[4]=_=65535&v|y<<16,o[4]=P=65535&h|d<<16,h=65535&(f=j),d=f>>>16,v=65535&(u=x),y=u>>>16,u=n[5],d+=(f=o[5])>>>16,v+=65535&u,y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,n[5]=x=65535&v|y<<16,o[5]=j=65535&h|d<<16,h=65535&(f=A),d=f>>>16,v=65535&(u=E),y=u>>>16,u=n[6],d+=(f=o[6])>>>16,v+=65535&u,y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,n[6]=E=65535&v|y<<16,o[6]=A=65535&h|d<<16,h=65535&(f=T),d=f>>>16,v=65535&(u=R),y=u>>>16,u=n[7],d+=(f=o[7])>>>16,v+=65535&u,y+=u>>>16,y+=(v+=(d+=(h+=65535&f)>>>16)>>>16)>>>16,n[7]=R=65535&v|y<<16,o[7]=T=65535&h|d<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new i;t.update(e);var n=t.digest();return t.clean(),n}},86151:function(e,t,n){"use strict";var r=n(64687),o=n(56690),i=n(89728);var s=n(74720),a=n(71410),c=s.__importDefault(n(21907)),u=n(92843),f=function(){function e(){o(this,e),this.localStorage=c.default}return i(e,[{key:"getKeys",value:function(){return s.__awaiter(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(this.localStorage));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getEntries",value:function(){return s.__awaiter(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.entries(this.localStorage).map(u.parseEntry));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getItem",value:function(e){return s.__awaiter(this,void 0,void 0,r.mark((function t(){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=this.localStorage.getItem(e))){t.next=3;break}return t.abrupt("return",void 0);case 3:return t.abrupt("return",a.safeJsonParse(n));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"setItem",value:function(e,t){return s.__awaiter(this,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.localStorage.setItem(e,a.safeJsonStringify(t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"removeItem",value:function(e){return s.__awaiter(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.localStorage.removeItem(e);case 1:case"end":return t.stop()}}),t,this)})))}}]),e}();t.ZP=f},21907:function(e,t,n){"use strict";!function(){var t;function r(){}(t=r).prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},t.prototype.setItem=function(e,t){this[e]=String(t)},t.prototype.removeItem=function(e){delete this[e]},t.prototype.clear=function(){var e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},t.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},t.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),void 0!==n.g&&n.g.localStorage?e.exports=n.g.localStorage:"undefined"!=typeof window&&window.localStorage?e.exports=window.localStorage:e.exports=new r}()},92843:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(74720);r.__exportStar(n(74097),t),r.__exportStar(n(20626),t)},74097:function(e,t,n){"use strict";var r=n(89728),o=n(56690);Object.defineProperty(t,"__esModule",{value:!0}),t.IKeyValueStorage=void 0;var i=r((function e(){o(this,e)}));t.IKeyValueStorage=i},20626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEntry=void 0;var r=n(71410);t.parseEntry=function(e){var t;return[e[0],r.safeJsonParse(null!==(t=e[1])&&void 0!==t?t:"")]}},74720:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return i},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return f},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return k},__createBinding:function(){return p},__decorate:function(){return a},__exportStar:function(){return h},__extends:function(){return o},__generator:function(){return l},__importDefault:function(){return R},__importStar:function(){return E},__makeTemplateObject:function(){return x},__metadata:function(){return u},__param:function(){return c},__read:function(){return v},__rest:function(){return s},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return d}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(c,u):f(i[0][2],n)}catch(r){f(i[0][3],r)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},90528:function(e,t,n){"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function o(){var e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=o,t.isBrowserCryptoAvailable=function(){return!!r()&&!!o()}},65955:function(e,t){"use strict";function n(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function r(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=r,t.isBrowser=function(){return!n()&&!r()}},70213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13086);r.__exportStar(n(90528),t),r.__exportStar(n(65955),t)},13086:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return i},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return f},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return k},__createBinding:function(){return p},__decorate:function(){return a},__exportStar:function(){return h},__extends:function(){return o},__generator:function(){return l},__importDefault:function(){return R},__importStar:function(){return E},__makeTemplateObject:function(){return x},__metadata:function(){return u},__param:function(){return c},__read:function(){return v},__rest:function(){return s},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return d}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(c,u):f(i[0][2],n)}catch(r){f(i[0][3],r)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},44637:function(e,t,n){"use strict";n.r(t),n.d(t,{EthereumProvider:function(){return N},OPTIONAL_EVENTS:function(){return w},OPTIONAL_METHODS:function(){return m},REQUIRED_EVENTS:function(){return b},REQUIRED_METHODS:function(){return g},default:function(){return L}});var r=n(29439),o=n(15861),i=n(15671),s=n(43144),a=n(93433),c=n(4942),u=n(64687),f=n.n(u),l=n(7555),p=n(15836),h=n(77943);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y="".concat("wc","@2:").concat("ethereum_provider",":"),g=["eth_sendTransaction","personal_sign"],m=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],b=["chainChanged","accountsChanged"],w=["message","disconnect","connect"],_=Object.defineProperty,x=Object.defineProperties,E=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,O=function(e,t,n){return t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},I=function(e,t){for(var n in t||(t={}))S.call(t,n)&&O(e,n,t[n]);if(R){var r,o=d(R(t));try{for(o.s();!(r=o.n()).done;){n=r.value;k.call(t,n)&&O(e,n,t[n])}}catch(i){o.e(i)}finally{o.f()}}return e},P=function(e,t){return x(e,E(t))};function j(e){return Number(e[0].split(":")[1])}function A(e){return"0x".concat(e.toString(16))}function T(e){var t=e.chains,n=e.optionalChains,r=e.methods,o=e.optionalMethods,i=e.events,s=e.optionalEvents,u=e.rpcMap;if(!(0,p.qt)(t))throw new Error("Invalid chains");var f={chains:t,methods:r||g,events:i||b,rpcMap:I({},t.length?(0,c.Z)({},j(t),u[j(t)]):{})},l=null==i?void 0:i.filter((function(e){return!b.includes(e)})),h=null==r?void 0:r.filter((function(e){return!g.includes(e)}));if(!(n||s||o||null!=l&&l.length||null!=h&&h.length))return{required:t.length?f:void 0};var d=(null==l?void 0:l.length)&&(null==h?void 0:h.length)||!n,v={chains:(0,a.Z)(new Set(d?f.chains.concat(n||[]):n)),methods:(0,a.Z)(new Set(f.methods.concat(null!=o&&o.length?o:m))),events:(0,a.Z)(new Set(f.events.concat(s||w))),rpcMap:u};return{required:t.length?f:void 0,optional:n.length?v:void 0}}var L=function(){function e(){var t=this;(0,i.Z)(this,e),this.events=new l.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=y,this.on=function(e,n){return t.events.on(e,n),t},this.once=function(e,n){return t.events.once(e,n),t},this.removeListener=function(e,n){return t.events.removeListener(e,n),t},this.off=function(e,n){return t.events.off(e,n),t},this.parseAccount=function(e){return t.isCompatibleChainId(e)?t.parseAccountId(e).address:e},this.signer={},this.rpc={}}var t,a,u,d,v,m,w;return(0,s.Z)(e,[{key:"request",value:(w=(0,o.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signer.request(t,this.formatChainId(this.chainId));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"sendAsync",value:function(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}},{key:"connected",get:function(){return!!this.signer.client&&this.signer.client.core.relayer.connected}},{key:"connecting",get:function(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}},{key:"enable",value:(m=(0,o.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.session,e.t0){e.next=4;break}return e.next=4,this.connect();case 4:return e.next=6,this.request({method:"eth_requestAccounts"});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"connect",value:(v=(0,o.Z)(f().mark((function e(t){var n,r,i,s,a,u=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.signer.client){e.next=2;break}throw new Error("Provider not initialized. Call init() first");case 2:return this.loadConnectOpts(t),n=T(this.rpc),r=n.required,i=n.optional,e.prev=4,e.next=7,new Promise(function(){var e=(0,o.Z)(f().mark((function e(n,o){var s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.rpc.showQrModal&&(null==(s=u.modal)||s.subscribeModal((function(e){!e.open&&!u.signer.session&&(u.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))}))),e.next=3,u.signer.connect(P(I({namespaces:I({},r&&(0,c.Z)({},u.namespace,r))},i&&{optionalNamespaces:(0,c.Z)({},u.namespace,i)}),{pairingTopic:null==t?void 0:t.pairingTopic})).then((function(e){n(e)})).catch((function(e){o(new Error(e.message))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:if(s=e.sent){e.next=10;break}return e.abrupt("return");case 10:a=(0,p.gu)(s.namespaces,[this.namespace]),this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:A(this.chainId)}),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(4),this.signer.logger.error(e.t0),e.t0;case 17:return e.prev=17,this.modal&&this.modal.closeModal(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))),function(e){return v.apply(this,arguments)})},{key:"disconnect",value:(d=(0,o.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.session,!e.t0){e.next=4;break}return e.next=4,this.signer.disconnect();case 4:this.reset();case 5:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"isWalletConnect",get:function(){return!0}},{key:"session",get:function(){return this.signer.session}},{key:"registerEventListeners",value:function(){var e=this;this.signer.on("session_event",(function(t){var n=t.params.event;"accountsChanged"===n.name?(e.accounts=e.parseAccounts(n.data),e.events.emit("accountsChanged",e.accounts)):"chainChanged"===n.name?e.setChainId(e.formatChainId(n.data)):e.events.emit(n.name,n.data),e.events.emit("session_event",t)})),this.signer.on("chainChanged",(function(t){var n=parseInt(t);e.chainId=n,e.events.emit("chainChanged",A(e.chainId)),e.persist()})),this.signer.on("session_update",(function(t){e.events.emit("session_update",t)})),this.signer.on("session_delete",(function(t){e.reset(),e.events.emit("session_delete",t),e.events.emit("disconnect",P(I({},(0,p.D6)("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(function(t){var n,r;e.rpc.showQrModal&&(null==(n=e.modal)||n.closeModal(),null==(r=e.modal)||r.openModal({uri:t})),e.events.emit("display_uri",t)}))}},{key:"switchEthereumChain",value:function(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}},{key:"isCompatibleChainId",value:function(e){return"string"==typeof e&&e.startsWith("".concat(this.namespace,":"))}},{key:"formatChainId",value:function(e){return"".concat(this.namespace,":").concat(e)}},{key:"parseChainId",value:function(e){return Number(e.split(":")[1])}},{key:"setChainIds",value:function(e){var t=this,n=e.filter((function(e){return t.isCompatibleChainId(e)})).map((function(e){return t.parseChainId(e)}));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",A(this.chainId)),this.persist())}},{key:"setChainId",value:function(e){if(this.isCompatibleChainId(e)){var t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}},{key:"parseAccountId",value:function(e){var t=e.split(":"),n=(0,r.Z)(t,3),o=n[0],i=n[1],s=n[2];return{chainId:"".concat(o,":").concat(i),address:s}}},{key:"setAccounts",value:function(e){var t=this;this.accounts=e.filter((function(e){return t.parseChainId(t.parseAccountId(e).chainId)===t.chainId})).map((function(e){return t.parseAccountId(e).address})),this.events.emit("accountsChanged",this.accounts)}},{key:"getRpcConfig",value:function(e){var t,n,r=this,o=null!=(t=null==e?void 0:e.chains)?t:[],i=null!=(n=null==e?void 0:e.optionalChains)?n:[],s=o.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");var a=o.length?(null==e?void 0:e.methods)||g:[],c=o.length?(null==e?void 0:e.events)||b:[],u=(null==e?void 0:e.optionalMethods)||[],f=(null==e?void 0:e.optionalEvents)||[],l=(null==e?void 0:e.rpcMap)||this.buildRpcMap(s,e.projectId),p=(null==e?void 0:e.qrModalOptions)||void 0;return{chains:null==o?void 0:o.map((function(e){return r.formatChainId(e)})),optionalChains:i.map((function(e){return r.formatChainId(e)})),methods:a,events:c,optionalMethods:u,optionalEvents:f,rpcMap:l,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:p,projectId:e.projectId,metadata:e.metadata}}},{key:"buildRpcMap",value:function(e,t){var n=this,r={};return e.forEach((function(e){r[e]=n.getRpcUrl(e,t)})),r}},{key:"initialize",value:(u=(0,o.Z)(f().mark((function e(t){var r,o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?j(this.rpc.chains):j(this.rpc.optionalChains),e.next=4,h.k.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions});case 4:return this.signer=e.sent,this.registerEventListeners(),e.next=8,this.loadPersistedSession();case 8:if(!this.rpc.showQrModal){e.next=28;break}return e.prev=9,e.next=12,n.e(46).then(n.bind(n,71046));case 12:o=e.sent,i=o.WalletConnectModal,r=i,e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(9),new Error("To use QR modal, please install @walletconnect/modal package");case 20:if(!r){e.next=28;break}e.prev=21,this.modal=new r(I({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions)),e.next=28;break;case 25:throw e.prev=25,e.t1=e.catch(21),this.signer.logger.error(e.t1),new Error("Could not generate WalletConnectModal Instance");case 28:case"end":return e.stop()}}),e,this,[[9,17],[21,25]])}))),function(e){return u.apply(this,arguments)})},{key:"loadConnectOpts",value:function(e){var t=this;if(e){var n=e.chains,r=e.optionalChains,o=e.rpcMap;n&&(0,p.qt)(n)&&(this.rpc.chains=n.map((function(e){return t.formatChainId(e)})),n.forEach((function(e){t.rpc.rpcMap[e]=(null==o?void 0:o[e])||t.getRpcUrl(e)}))),r&&(0,p.qt)(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=null==r?void 0:r.map((function(e){return t.formatChainId(e)})),r.forEach((function(e){t.rpc.rpcMap[e]=(null==o?void 0:o[e])||t.getRpcUrl(e)})))}}},{key:"getRpcUrl",value:function(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||"".concat("https://rpc.walletconnect.com/v1/","?chainId=eip155:").concat(e,"&projectId=").concat(t||this.rpc.projectId)}},{key:"loadPersistedSession",value:(a=(0,o.Z)(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.session){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.signer.client.core.storage.getItem("".concat(this.STORAGE_KEY,"/chainId"));case 4:t=e.sent,n=this.session.namespaces["".concat(this.namespace,":").concat(t)]?this.session.namespaces["".concat(this.namespace,":").concat(t)]:this.session.namespaces[this.namespace],this.setChainIds(t?[this.formatChainId(t)]:null==n?void 0:n.accounts),this.setAccounts(null==n?void 0:n.accounts);case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"reset",value:function(){this.chainId=1,this.accounts=[]}},{key:"persist",value:function(){this.session&&this.signer.client.core.storage.setItem("".concat(this.STORAGE_KEY,"/chainId"),this.chainId)}},{key:"parseAccounts",value:function(e){var t=this;return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map((function(e){return t.parseAccount(e)}))}}],[{key:"init",value:(t=(0,o.Z)(f().mark((function t(n){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new e,t.next=3,r.initialize(n);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),e}(),N=L},21425:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(43144),o=n(15671),i=(0,r.Z)((function e(){(0,o.Z)(this,e)}))},49895:function(e,t,n){"use strict";n.r(t),n.d(t,{IEvents:function(){return r.q}});var r=n(21425)},47921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;var r=n(75225);t.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},62707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(27326).__exportStar(n(47921),t)},17676:function(e,t,n){"use strict";var r=n(64687),o=n(56690),i=n(89728),s=n(61655),a=n(94993),c=n(73808);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;var f=n(27326),l=n(7555),p=n(75225),h=n(97787),d=n(62707),v=function(e){s(n,e);var t=u(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).events=new l.EventEmitter,r.interval=d.HEARTBEAT_INTERVAL,r.interval=(null==e?void 0:e.interval)||d.HEARTBEAT_INTERVAL,r}return i(n,[{key:"init",value:function(){return f.__awaiter(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){clearInterval(this.intervalRef)}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"initialize",value:function(){return f.__awaiter(this,void 0,void 0,r.mark((function e(){var t=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.intervalRef=setInterval((function(){return t.pulse()}),p.toMiliseconds(this.interval));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"pulse",value:function(){this.events.emit(d.HEARTBEAT_EVENTS.pulse)}}],[{key:"init",value:function(e){return f.__awaiter(this,void 0,void 0,r.mark((function t(){var o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new n(e),t.next=3,o.init();case 3:return t.abrupt("return",o);case 4:case"end":return t.stop()}}),t)})))}}]),n}(h.IHeartBeat);t.HeartBeat=v},29858:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27326);r.__exportStar(n(17676),t),r.__exportStar(n(97787),t),r.__exportStar(n(62707),t)},80271:function(e,t,n){"use strict";var r=n(89728),o=n(56690),i=n(61655),s=n(94993),a=n(73808);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;var u=function(e){i(n,e);var t=c(n);function n(e){return o(this,n),t.call(this)}return r(n)}(n(49895).IEvents);t.IHeartBeat=u},97787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(27326).__exportStar(n(80271),t)},27326:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return i},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return f},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return k},__createBinding:function(){return p},__decorate:function(){return a},__exportStar:function(){return h},__extends:function(){return o},__generator:function(){return l},__importDefault:function(){return R},__importStar:function(){return E},__makeTemplateObject:function(){return x},__metadata:function(){return u},__param:function(){return c},__read:function(){return v},__rest:function(){return s},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return d}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(c,u):f(i[0][2],n)}catch(r){f(i[0][3],r)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},87499:function(e,t,n){"use strict";n.d(t,{k:function(){return d},Z:function(){return v}});var r=n(15861),o=n(15671),i=n(43144),s=n(64687),a=n.n(s),c=n(7555),u=n(14944),f=n.n(u),l=n(46421),p=n(45765),h={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,o.Z)(this,e),this.url=t,this.disableProviderPing=n,this.events=new c.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,p.isHttpUrl)(t))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(t));this.url=t,this.disableProviderPing=n}var t,n,s,u;return(0,i.Z)(e,[{key:"connected",get:function(){return this.isAvailable}},{key:"connecting",get:function(){return this.registering}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:(u=(0,r.Z)(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"close",value:(s=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=2;break}throw new Error("Connection already closed");case 2:this.onClose();case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"send",value:(n=(0,r.Z)(a().mark((function e(t,n){var r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=3;break}return e.next=3,this.register();case 3:return e.prev=3,r=(0,l.u)(t),e.next=7,f()(this.url,Object.assign(Object.assign({},h),{body:r}));case 7:return o=e.sent,e.next=10,o.json();case 10:i=e.sent,this.onPayload({data:i}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),this.onError(t.id,e.t0);case 17:case"end":return e.stop()}}),e,this,[[3,14]])}))),function(e,t){return n.apply(this,arguments)})},{key:"register",value:(t=(0,r.Z)(a().mark((function e(){var t,n,r,o,i=this,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:this.url,(0,p.isHttpUrl)(t)){e.next=3;break}throw new Error("Provided URL is not compatible with HTTP connection: ".concat(t));case 3:if(!this.registering){e.next=7;break}return n=this.events.getMaxListeners(),(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),e.abrupt("return",new Promise((function(e,t){i.events.once("register_error",(function(e){i.resetMaxListeners(),t(e)})),i.events.once("open",(function(){if(i.resetMaxListeners(),void 0===i.isAvailable)return t(new Error("HTTP connection is missing or invalid"));e()}))})));case 7:if(this.url=t,this.registering=!0,e.prev=9,this.disableProviderPing){e.next=14;break}return r=(0,l.u)({id:1,jsonrpc:"2.0",method:"test",params:[]}),e.next=14,f()(t,Object.assign(Object.assign({},h),{body:r}));case 14:this.onOpen(),e.next=23;break;case 17:throw e.prev=17,e.t0=e.catch(9),o=this.parseError(e.t0),this.events.emit("register_error",o),this.onClose(),o;case 23:case"end":return e.stop()}}),e,this,[[9,17]])}))),function(){return t.apply(this,arguments)})},{key:"onOpen",value:function(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}},{key:"onPayload",value:function(e){if(void 0!==e.data){var t="string"==typeof e.data?(0,l.D)(e.data):e.data;this.events.emit("payload",t)}}},{key:"onError",value:function(e,t){var n=this.parseError(t),r=n.message||n.toString(),o=(0,p.formatJsonRpcError)(e,r);this.events.emit("payload",o)}},{key:"parseError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,p.parseConnectionError)(e,t,"HTTP")}},{key:"resetMaxListeners",value:function(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}]),e}(),v=d},29062:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var r=n(15861),o=n(15671),i=n(43144),s=n(60136),a=n(82963),c=n(61120),u=n(64687),f=n.n(u),l=n(7555),p=n(45765);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d=function(e){(0,s.Z)(y,e);var t,n,a,c,u,d,v=h(y);function y(e){var t;return(0,o.Z)(this,y),(t=v.call(this,e)).events=new l.EventEmitter,t.hasRegisteredEventListeners=!1,t.connection=t.setConnection(e),t.connection.connected&&t.registerEventListeners(),t}return(0,i.Z)(y,[{key:"connect",value:(d=(0,r.Z)(f().mark((function e(){var t,n=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.connection,e.next=3,this.open(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"disconnect",value:(u=(0,r.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"request",value:(c=(0,r.Z)(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.requestStrict((0,p.formatJsonRpcRequest)(t.method,t.params||[],t.id||(0,p.getBigIntRpcId)().toString()),n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"requestStrict",value:(a=(0,r.Z)(f().mark((function e(t,n){var o=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,r.Z)(f().mark((function e(r,i){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.connection.connected){e.next=9;break}return e.prev=1,e.next=4,o.open();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),i(e.t0);case 9:return o.events.on("".concat(t.id),(function(e){(0,p.isJsonRpcError)(e)?i(e.error):r(e.result)})),e.prev=10,e.next=13,o.connection.send(t,n);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(10),i(e.t1);case 18:case"end":return e.stop()}}),e,null,[[1,6],[10,15]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"setConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;return e}},{key:"onPayload",value:function(e){this.events.emit("payload",e),(0,p.isJsonRpcResponse)(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}},{key:"onClose",value:function(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}},{key:"open",value:(n=(0,r.Z)(f().mark((function e(){var t,n=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:this.connection,this.connection!==t||!this.connection.connected){e.next=3;break}return e.abrupt("return");case 3:if(this.connection.connected&&this.close(),"string"!=typeof t){e.next=8;break}return e.next=7,this.connection.open(t);case 7:t=this.connection;case 8:return this.connection=this.setConnection(t),e.next=11,this.connection.open();case 11:this.registerEventListeners(),this.events.emit("connect");case 13:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"close",value:(t=(0,r.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.close();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var e=this;this.hasRegisteredEventListeners||(this.connection.on("payload",(function(t){return e.onPayload(t)})),this.connection.on("close",(function(t){return e.onClose(t)})),this.connection.on("error",(function(t){return e.events.emit("error",t)})),this.connection.on("register_error",(function(t){return e.onClose()})),this.hasRegisteredEventListeners=!0)}}]),y}(p.IJsonRpcProvider)},874:function(e,t,n){"use strict";n.d(t,{CA:function(){return s},JV:function(){return u},O4:function(){return i},dQ:function(){return a},xK:function(){return c}});var r,o=n(4942),i="INTERNAL_ERROR",s="SERVER_ERROR",a=[-32700,-32600,-32601,-32602,-32603],c=(r={},(0,o.Z)(r,"PARSE_ERROR",{code:-32700,message:"Parse error"}),(0,o.Z)(r,"INVALID_REQUEST",{code:-32600,message:"Invalid Request"}),(0,o.Z)(r,"METHOD_NOT_FOUND",{code:-32601,message:"Method not found"}),(0,o.Z)(r,"INVALID_PARAMS",{code:-32602,message:"Invalid params"}),(0,o.Z)(r,i,{code:-32603,message:"Internal error"}),(0,o.Z)(r,s,{code:-32e3,message:"Server error"}),r),u=s},22075:function(e,t,n){"use strict";var r=n(70213);n.o(r,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return r.IJsonRpcProvider}}),n.o(r,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return r.formatJsonRpcError}}),n.o(r,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return r.formatJsonRpcRequest}}),n.o(r,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return r.formatJsonRpcResult}}),n.o(r,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return r.getBigIntRpcId}}),n.o(r,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return r.isHttpUrl}}),n.o(r,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return r.isJsonRpcError}}),n.o(r,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return r.isJsonRpcRequest}}),n.o(r,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return r.isJsonRpcResponse}}),n.o(r,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return r.isJsonRpcResult}}),n.o(r,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return r.isLocalhostUrl}}),n.o(r,"isReactNative")&&n.d(t,{isReactNative:function(){return r.isReactNative}}),n.o(r,"isWsUrl")&&n.d(t,{isWsUrl:function(){return r.isWsUrl}}),n.o(r,"payloadId")&&n.d(t,{payloadId:function(){return r.payloadId}})},64672:function(e,t,n){"use strict";n.d(t,{CX:function(){return a},L2:function(){return s},by:function(){return i},i5:function(){return o}});var r=n(874);function o(e){return r.dQ.includes(e)}function i(e){return Object.keys(r.xK).includes(e)?r.xK[e]:r.xK[r.JV]}function s(e){var t=Object.values(r.xK).find((function(t){return t.code===e}));return t||r.xK[r.JV]}function a(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(n," RPC url at ").concat(t)):e}},74634:function(e,t,n){"use strict";n.d(t,{CS:function(){return s},RI:function(){return u},o0:function(){return i},sT:function(){return a},tm:function(){return c}});var r=n(64672),o=n(874);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return BigInt(i(e))}function a(e,t,n){return{id:n||i(),jsonrpc:"2.0",method:e,params:t}}function c(e,t){return{id:e,jsonrpc:"2.0",result:t}}function u(e,t,n){return{id:e,jsonrpc:"2.0",error:f(t,n)}}function f(e,t){return void 0===e?(0,r.by)(o.O4):("string"==typeof e&&(e=Object.assign(Object.assign({},(0,r.by)(o.CA)),{message:e})),void 0!==t&&(e.data=t),(0,r.i5)(e.code)&&(e=(0,r.L2)(e.code)),e)}},45765:function(e,t,n){"use strict";n.d(t,{IJsonRpcProvider:function(){return s.x0},formatJsonRpcError:function(){return i.RI},formatJsonRpcRequest:function(){return i.sT},formatJsonRpcResult:function(){return i.tm},getBigIntRpcId:function(){return i.CS},isHttpUrl:function(){return a.jK},isJsonRpcError:function(){return c.jg},isJsonRpcRequest:function(){return c.DW},isJsonRpcResponse:function(){return c.u},isJsonRpcResult:function(){return c.k4},isLocalhostUrl:function(){return a.JF},isWsUrl:function(){return a.UZ},parseConnectionError:function(){return r.CX},payloadId:function(){return i.o0}});n(874);var r=n(64672),o=n(22075);n.o(o,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return o.IJsonRpcProvider}}),n.o(o,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return o.formatJsonRpcError}}),n.o(o,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return o.formatJsonRpcRequest}}),n.o(o,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return o.formatJsonRpcResult}}),n.o(o,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return o.getBigIntRpcId}}),n.o(o,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return o.isHttpUrl}}),n.o(o,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return o.isJsonRpcError}}),n.o(o,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return o.isJsonRpcRequest}}),n.o(o,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return o.isJsonRpcResponse}}),n.o(o,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return o.isJsonRpcResult}}),n.o(o,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return o.isLocalhostUrl}}),n.o(o,"isReactNative")&&n.d(t,{isReactNative:function(){return o.isReactNative}}),n.o(o,"isWsUrl")&&n.d(t,{isWsUrl:function(){return o.isWsUrl}}),n.o(o,"payloadId")&&n.d(t,{payloadId:function(){return o.payloadId}});var i=n(74634),s=n(70543),a=n(91601),c=n(22918)},70543:function(e,t,n){"use strict";n.d(t,{x0:function(){return u}});var r=n(43144),o=n(15671),i=n(60136),s=n(82963),a=n(61120);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var u=function(e){(0,i.Z)(n,e);var t=c(n);function n(e){return(0,o.Z)(this,n),t.call(this)}return(0,r.Z)(n)}(function(e){(0,i.Z)(n,e);var t=c(n);function n(){return(0,o.Z)(this,n),t.call(this)}return(0,r.Z)(n)}((0,r.Z)((function e(){(0,o.Z)(this,e)}))))},91601:function(e,t,n){"use strict";n.d(t,{JF:function(){return s},UZ:function(){return i},jK:function(){return o}});function r(e,t){var n=function(e){var t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}function o(e){return r(e,"^https?:")}function i(e){return r(e,"^wss?:")}function s(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}},22918:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function o(e){return r(e)&&"method"in e}function i(e){return r(e)&&(s(e)||a(e))}function s(e){return"result"in e}function a(e){return"error"in e}n.d(t,{DW:function(){return o},jg:function(){return a},k4:function(){return s},u:function(){return i}})},1584:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(15861),o=n(15671),i=n(43144),s=n(64687),a=n.n(s),c=n(7555),u=n(46421),f=n(45765),l=function(){return"undefined"!=typeof WebSocket||void 0!==n.g&&void 0!==n.g.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket},p=function(e){return e.split("?")[0]},h="undefined"!=typeof WebSocket?WebSocket:void 0!==n.g&&void 0!==n.g.WebSocket?n.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:n(62458),d=function(){function e(t){if((0,o.Z)(this,e),this.url=t,this.events=new c.EventEmitter,this.registering=!1,!(0,f.isWsUrl)(t))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(t));this.url=t}var t,n,s;return(0,i.Z)(e,[{key:"connected",get:function(){return void 0!==this.socket}},{key:"connecting",get:function(){return this.registering}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:(s=(0,r.Z)(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"close",value:(n=(0,r.Z)(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){void 0!==t.socket?(t.socket.onclose=function(n){t.onClose(n),e()},t.socket.close()):n(new Error("Connection already closed"))})));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"send",value:(t=(0,r.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.socket){e.next=4;break}return e.next=3,this.register();case 3:this.socket=e.sent;case 4:try{this.socket.send((0,u.u)(t))}catch(n){this.onError(t.id,n)}case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"register",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!(0,f.isWsUrl)(t))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(t));if(this.registering){var n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((function(t,n){e.events.once("register_error",(function(t){e.resetMaxListeners(),n(t)})),e.events.once("open",(function(){if(e.resetMaxListeners(),void 0===e.socket)return n(new Error("WebSocket connection is missing or invalid"));t(e.socket)}))}))}return this.url=t,this.registering=!0,new Promise((function(n,r){var o=(0,f.isReactNative)()?void 0:{rejectUnauthorized:!(0,f.isLocalhostUrl)(t)},i=new h(t,[],o);l()?i.onerror=function(t){var n=t;r(e.emitError(n.error))}:i.on("error",(function(t){r(e.emitError(t))})),i.onopen=function(){e.onOpen(i),n(i)}}))}},{key:"onOpen",value:function(e){var t=this;e.onmessage=function(e){return t.onPayload(e)},e.onclose=function(e){return t.onClose(e)},this.socket=e,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}},{key:"onPayload",value:function(e){if(void 0!==e.data){var t="string"==typeof e.data?(0,u.D)(e.data):e.data;this.events.emit("payload",t)}}},{key:"onError",value:function(e,t){var n=this.parseError(t),r=n.message||n.toString(),o=(0,f.formatJsonRpcError)(e,r);this.events.emit("payload",o)}},{key:"parseError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,f.parseConnectionError)(e,p(t),"WS")}},{key:"resetMaxListeners",value:function(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}},{key:"emitError",value:function(e){var t=this.parseError(new Error((null==e?void 0:e.message)||"WebSocket connection failed for host: ".concat(p(this.url))));return this.events.emit("register_error",t),t}}]),e}(),v=d},62742:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PINO_CUSTOM_CONTEXT_KEY=t.PINO_LOGGER_DEFAULTS=void 0,t.PINO_LOGGER_DEFAULTS={level:"info"},t.PINO_CUSTOM_CONTEXT_KEY="custom_context"},71747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;var r=n(85947),o=r.__importDefault(n(35774));Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return o.default}}),r.__exportStar(n(62742),t),r.__exportStar(n(30295),t)},30295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateChildLogger=t.formatChildLoggerContext=t.getLoggerContext=t.setBrowserLoggerContext=t.getBrowserLoggerContext=t.getDefaultLoggerOptions=void 0;var r=n(62742);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.PINO_CUSTOM_CONTEXT_KEY;return e[t]||""}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.PINO_CUSTOM_CONTEXT_KEY;return e[n]=t,e}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.PINO_CUSTOM_CONTEXT_KEY;return void 0===e.bindings?o(e,t):e.bindings().context||""}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.PINO_CUSTOM_CONTEXT_KEY,o=s(e,n),i=o.trim()?"".concat(o,"/").concat(t):t;return i}t.getDefaultLoggerOptions=function(e){return Object.assign(Object.assign({},e),{level:(null==e?void 0:e.level)||r.PINO_LOGGER_DEFAULTS.level})},t.getBrowserLoggerContext=o,t.setBrowserLoggerContext=i,t.getLoggerContext=s,t.formatChildLoggerContext=a,t.generateChildLogger=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.PINO_CUSTOM_CONTEXT_KEY,o=a(e,t,n),s=e.child({context:o});return i(s,o,n)}},85947:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return i},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return f},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return k},__createBinding:function(){return p},__decorate:function(){return a},__exportStar:function(){return h},__extends:function(){return o},__generator:function(){return l},__importDefault:function(){return R},__importStar:function(){return E},__makeTemplateObject:function(){return x},__metadata:function(){return u},__param:function(){return c},__read:function(){return v},__rest:function(){return s},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return d}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(c,u):f(i[0][2],n)}catch(r){f(i[0][3],r)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},44705:function(e,t,n){"use strict";n.d(t,{encodeIss:function(){return w},generateKeyPair:function(){return E},signJWT:function(){return R}});var r=n(15861),o=n(64687),i=n.n(o),s=n(9345),a=n(2293),c=n(75225),u="EdDSA",f="JWT",l="base64url",p="did",h="key",d="base58btc",v=n(66616),y=n(83087),g=n(1283),m=n(46421);function b(e){return(0,y.B)((0,g.m)((0,m.u)(e),"utf8"),l)}function w(e){var t=(0,g.m)("K36",d),n="z"+(0,y.B)((0,v.z)([t,e]),d);return[p,h,n].join(":")}function _(e){return(0,g.m)([b(e.header),b(e.payload)].join("."),"utf8")}function x(e){return[b(e.header),b(e.payload),(t=e.signature,(0,y.B)(t,l))].join(".");var t}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.randomBytes)(32);return s._w(e)}function R(e,t,n,r){return S.apply(this,arguments)}function S(){return S=(0,r.Z)(i().mark((function e(t,n,r,o){var a,l,p,h,d,v,y=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.length>4&&void 0!==y[4]?y[4]:(0,c.fromMiliseconds)(Date.now()),l={alg:u,typ:f},p=w(o.publicKey),d=_({header:l,payload:h={iss:p,sub:t,aud:n,iat:a,exp:a+r}}),v=s.Xx(o.secretKey,d),e.abrupt("return",x({header:l,payload:h,signature:v}));case 8:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}n(41291)},41291:function(){},46421:function(e,t,n){"use strict";n.d(t,{D:function(){return r},u:function(){return o}});function r(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),JSON.parse(t,(function(e,t){return"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t}))}catch(n){return e}var t}function o(e){return"string"==typeof e?e:(t=e,JSON.stringify(t,(function(e,t){return"bigint"==typeof t?t.toString()+"n":t}))||"");var t}},49092:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Q},lO:function(){return P}});var r=n(97326),o=n(93433),i=n(15861),s=n(15671),a=n(43144),c=n(60136),u=n(82963),f=n(61120),l=n(64687),p=n.n(l),h=n(27217),d=n(71747),v=n(31),y=n(15836),g=n(7555),m=n.n(g),b=n(75225),w=n(45765);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R="client",S="".concat("wc","@").concat(2,":").concat(R,":"),k=R,O="error",I="WALLETCONNECT_DEEPLINK_CHOICE",P=(b.THIRTY_DAYS,"Proposal expired"),j=b.SEVEN_DAYS,A={wc_sessionPropose:{req:{ttl:b.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:b.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:b.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:b.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:b.ONE_DAY,prompt:!1,tag:1104},res:{ttl:b.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:b.ONE_DAY,prompt:!1,tag:1106},res:{ttl:b.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:b.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:b.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:b.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:b.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:b.ONE_DAY,prompt:!1,tag:1112},res:{ttl:b.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:b.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:b.THIRTY_SECONDS,prompt:!1,tag:1115}}},T={min:b.FIVE_MINUTES,max:b.SEVEN_DAYS},L="IDLE",N="ACTIVE",Z=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],q=Object.defineProperty,M=Object.defineProperties,C=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,J=function(e,t,n){return t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},B=function(e,t){for(var n in t||(t={}))U.call(t,n)&&J(e,n,t[n]);if(D){var r,o=x(D(t));try{for(o.s();!(r=o.n()).done;){n=r.value;V.call(t,n)&&J(e,n,t[n])}}catch(i){o.e(i)}finally{o.f()}}return e},z=function(e,t){return M(e,C(t))},H=function(e){(0,c.Z)(l,e);var t,n,r,u,f=_(l);function l(e){var t;return(0,s.Z)(this,l),(t=f.call(this,e)).name="engine",t.events=new(m()),t.initialized=!1,t.ignoredPayloadTypes=[y.rV],t.requestQueue={state:L,queue:[]},t.sessionRequestQueue={state:L,queue:[]},t.requestQueueDelay=b.ONE_SECOND,t.init=(0,i.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.initialized,e.t0){e.next=9;break}return e.next=4,t.cleanup();case 4:t.registerRelayerEvents(),t.registerExpirerEvents(),t.client.core.pairing.register({methods:Object.keys(A)}),t.initialized=!0,setTimeout((function(){t.sessionRequestQueue.queue=t.getPendingSessionRequests(),t.processSessionRequestQueue()}),(0,b.toMiliseconds)(t.requestQueueDelay));case 9:case"end":return e.stop()}}),e)}))),t.connect=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,s,a,c,u,f,l,d,v,g,m,w,_,x,E,R,S,k,O,I,j;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return r=z(B({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}}),e.next=5,t.isValidConnect(r);case 5:if(o=r.pairingTopic,s=r.requiredNamespaces,a=r.optionalNamespaces,c=r.sessionProperties,u=r.relays,d=!1,(f=o)&&(d=t.client.core.pairing.pairings.get(f).active),f&&d){e.next=14;break}return e.next=10,t.client.core.pairing.create();case 10:v=e.sent,g=v.topic,m=v.uri,f=g,l=m;case 14:return e.next=16,t.client.core.crypto.generateKeyPair();case 16:if(w=e.sent,_=B({requiredNamespaces:s,optionalNamespaces:a,relays:null!=u?u:[{protocol:h.ZF}],proposer:{publicKey:w,metadata:t.client.metadata}},c&&{sessionProperties:c}),x=(0,y.H1)(b.FIVE_MINUTES,P),E=x.reject,R=x.resolve,S=x.done,t.events.once((0,y.E0)("session_connect"),function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.error,o=n.session,!r){e.next=5;break}E(r),e.next=17;break;case 5:if(!o){e.next=17;break}return o.self.publicKey=w,i=z(B({},o),{requiredNamespaces:o.requiredNamespaces,optionalNamespaces:o.optionalNamespaces}),e.next=10,t.client.session.set(o.topic,i);case 10:return e.next=12,t.setExpiry(o.topic,o.expiry);case 12:if(e.t0=f,!e.t0){e.next=16;break}return e.next=16,t.client.core.pairing.updateMetadata({topic:f,metadata:o.peer.metadata});case 16:R(i);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f){e.next=25;break}throw k=(0,y.Z7)("NO_MATCHING_KEY","connect() pairing topic: ".concat(f)),O=k.message,new Error(O);case 25:return e.next=27,t.sendRequest({topic:f,method:"wc_sessionPropose",params:_});case 27:return I=e.sent,j=(0,y.gn)(b.FIVE_MINUTES),e.next=31,t.setProposal(I,B({id:I,expiry:j},_));case 31:return e.abrupt("return",{uri:l,approval:S});case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.pair=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.client.core.pairing.pair(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.approve=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u,f,l,h,d,v,g,m;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidApprove(n);case 4:return r=n.id,o=n.relayProtocol,i=n.namespaces,s=n.sessionProperties,a=t.client.proposal.get(r),c=a.pairingTopic,u=a.proposer,f=a.requiredNamespaces,l=a.optionalNamespaces,c=c||"",(0,y.L5)(f)||(f=(0,y.fc)(i,"approve()")),e.next=9,t.client.core.crypto.generateKeyPair();case 9:return h=e.sent,d=u.publicKey,e.next=13,t.client.core.crypto.generateSharedKey(h,d);case 13:if(v=e.sent,e.t0=c&&r,!e.t0){e.next=24;break}return e.next=18,t.client.core.pairing.updateMetadata({topic:c,metadata:u.metadata});case 18:return e.next=20,t.sendResult({id:r,topic:c,result:{relay:{protocol:null!=o?o:"irn"},responderPublicKey:h}});case 20:return e.next=22,t.client.proposal.delete(r,(0,y.D6)("USER_DISCONNECTED"));case 22:return e.next=24,t.client.core.pairing.activate({topic:c});case 24:return g=B({relay:{protocol:null!=o?o:"irn"},namespaces:i,requiredNamespaces:f,optionalNamespaces:l,pairingTopic:c,controller:{publicKey:h,metadata:t.client.metadata},expiry:(0,y.gn)(j)},s&&{sessionProperties:s}),e.next=27,t.client.core.relayer.subscribe(v);case 27:return e.next=29,t.sendRequest({topic:v,method:"wc_sessionSettle",params:g,throwOnFailedPublish:!0});case 29:return m=z(B({},g),{topic:v,pairingTopic:c,acknowledged:!1,self:g.controller,peer:{publicKey:u.publicKey,metadata:u.metadata},controller:h}),e.next=32,t.client.session.set(v,m);case 32:return e.next=34,t.setExpiry(v,(0,y.gn)(j));case 34:return e.abrupt("return",{topic:v,acknowledged:function(){return new Promise((function(e){return setTimeout((function(){return e(t.client.session.get(v))}),500)}))}});case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.reject=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidReject(n);case 4:if(r=n.id,o=n.reason,i=t.client.proposal.get(r),s=i.pairingTopic,e.t0=s,!e.t0){e.next=11;break}return e.next=9,t.sendError(r,s,o);case 9:return e.next=11,t.client.proposal.delete(r,(0,y.D6)("USER_DISCONNECTED"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidUpdate(n);case 4:return r=n.topic,o=n.namespaces,e.next=8,t.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:o}});case 8:return i=e.sent,s=(0,y.H1)(),a=s.done,c=s.resolve,u=s.reject,t.events.once((0,y.E0)("session_update",i),(function(e){var t=e.error;t?u(t):c()})),e.next=16,t.client.session.update(r,{namespaces:o});case 16:return e.abrupt("return",{acknowledged:a});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.extend=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidExtend(n);case 4:return r=n.topic,e.next=7,t.sendRequest({topic:r,method:"wc_sessionExtend",params:{}});case 7:return o=e.sent,i=(0,y.H1)(),s=i.done,a=i.resolve,c=i.reject,t.events.once((0,y.E0)("session_extend",o),(function(e){var t=e.error;t?c(t):a()})),e.next=15,t.setExpiry(r,(0,y.gn)(j));case 15:return e.abrupt("return",{acknowledged:s});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.request=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,s,a,c,u,f,l,h;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidRequest(n);case 4:return r=n.chainId,o=n.request,s=n.topic,a=n.expiry,c=(0,w.payloadId)(),u=(0,y.H1)(a),f=u.done,l=u.resolve,h=u.reject,t.events.once((0,y.E0)("session_request",c),(function(e){var t=e.error,n=e.result;t?h(t):l(n)})),e.next=8,Promise.all([new Promise(function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendRequest({clientRpcId:c,topic:s,method:"wc_sessionRequest",params:{request:o,chainId:r},expiry:a,throwOnFailedPublish:!0}).catch((function(e){return h(e)}));case 2:t.client.events.emit("session_request_sent",{topic:s,request:o,chainId:r,id:c}),n();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),new Promise(function(){var e=(0,i.Z)(p().mark((function e(n){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.core.storage.getItem(I);case 2:r=e.sent,(0,y.Hh)({id:c,topic:s,wcDeepLink:r}),n();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f()]).then((function(e){return e[2]}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.respond=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidRespond(n);case 4:if(r=n.topic,o=n.response,i=o.id,!(0,w.isJsonRpcResult)(o)){e.next=10;break}return e.next=8,t.sendResult({id:i,topic:r,result:o.result,throwOnFailedPublish:!0});case 8:e.next=14;break;case 10:if(e.t0=(0,w.isJsonRpcError)(o),!e.t0){e.next=14;break}return e.next=14,t.sendError(i,r,o.error);case 14:t.cleanupAfterResponse(n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ping=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidPing(n);case 4:if(r=n.topic,!t.client.session.keys.includes(r)){e.next=18;break}return e.next=8,t.sendRequest({topic:r,method:"wc_sessionPing",params:{}});case 8:return o=e.sent,i=(0,y.H1)(),s=i.done,a=i.resolve,c=i.reject,t.events.once((0,y.E0)("session_ping",o),(function(e){var t=e.error;t?c(t):a()})),e.next=16,s();case 16:e.next=22;break;case 18:if(e.t0=t.client.core.pairing.pairings.keys.includes(r),!e.t0){e.next=22;break}return e.next=22,t.client.core.pairing.ping({topic:r});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.emit=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidEmit(n);case 4:return r=n.topic,o=n.event,i=n.chainId,e.next=7,t.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:o,chainId:i}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.disconnect=function(){var e=(0,i.Z)(p().mark((function e(n){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidDisconnect(n);case 4:if(r=n.topic,!t.client.session.keys.includes(r)){e.next=12;break}return e.next=8,t.sendRequest({topic:r,method:"wc_sessionDelete",params:(0,y.D6)("USER_DISCONNECTED"),throwOnFailedPublish:!0});case 8:return e.next=10,t.deleteSession(r);case 10:e.next=14;break;case 12:return e.next=14,t.client.core.pairing.disconnect({topic:r});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.find=function(e){return t.isInitialized(),t.client.session.getAll().filter((function(t){return(0,y.Ih)(t,e)}))},t.getPendingSessionRequests=function(){return t.isInitialized(),t.client.pendingRequest.getAll()},t.cleanupDuplicatePairings=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.pairingTopic){e.next=14;break}if(e.prev=1,r=t.client.core.pairing.pairings.get(n.pairingTopic),0!==(o=t.client.core.pairing.pairings.getAll().filter((function(e){var t,o;return(null==(t=e.peerMetadata)?void 0:t.url)&&(null==(o=e.peerMetadata)?void 0:o.url)===n.peer.metadata.url&&e.topic&&e.topic!==r.topic}))).length){e.next=5;break}return e.abrupt("return");case 5:return t.client.logger.info("Cleaning up ".concat(o.length," duplicate pairing(s)")),e.next=8,Promise.all(o.map((function(e){return t.client.core.pairing.disconnect({topic:e.topic})})));case 8:t.client.logger.info("Duplicate pairings clean up finished"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.client.logger.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),t.deleteSession=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.client.session.get(n),i=o.self,e.next=3,t.client.core.relayer.unsubscribe(n);case 3:if(t.client.session.delete(n,(0,y.D6)("USER_DISCONNECTED")),e.t0=t.client.core.crypto.keychain.has(i.publicKey),!e.t0){e.next=8;break}return e.next=8,t.client.core.crypto.deleteKeyPair(i.publicKey);case 8:if(e.t1=t.client.core.crypto.keychain.has(n),!e.t1){e.next=12;break}return e.next=12,t.client.core.crypto.deleteSymKey(n);case 12:r||t.client.core.expirer.del(n),t.client.core.storage.removeItem(I).catch((function(e){return t.client.logger.warn(e)}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.deleteProposal=function(){var e=(0,i.Z)(p().mark((function e(n,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.client.proposal.delete(n,(0,y.D6)("USER_DISCONNECTED")),r?Promise.resolve():t.client.core.expirer.del(n)]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.deletePendingSessionRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length>2&&void 0!==i[2]&&i[2],e.next=3,Promise.all([t.client.pendingRequest.delete(n,r),o?Promise.resolve():t.client.core.expirer.del(n)]);case 3:t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter((function(e){return e.id!==n})),o&&(t.sessionRequestQueue.state=L);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.setExpiry=function(){var e=(0,i.Z)(p().mark((function e(n,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.client.session.keys.includes(n),!e.t0){e.next=4;break}return e.next=4,t.client.session.update(n,{expiry:r});case 4:t.client.core.expirer.set(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.setProposal=function(){var e=(0,i.Z)(p().mark((function e(n,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.proposal.set(n,r);case 2:t.client.core.expirer.set(n,r.expiry);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.setPendingSessionRequest=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A.wc_sessionRequest.req.ttl,o=n.id,i=n.topic,s=n.params,e.next=3,t.client.pendingRequest.set(o,{id:o,topic:i,params:s});case 3:r&&t.client.core.expirer.set(o,(0,y.gn)(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendRequest=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u,f,l,h,d;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.topic,o=n.method,i=n.params,s=n.expiry,a=n.relayRpcId,c=n.clientRpcId,u=n.throwOnFailedPublish,f=(0,w.formatJsonRpcRequest)(o,i,c),(0,y.jU)()&&Z.includes(o)&&(l=(0,y.rj)(JSON.stringify(f)),t.client.core.verify.register({attestationId:l})),e.next=4,t.client.core.crypto.encode(r,f);case 4:if(h=e.sent,d=A[o].req,s&&(d.ttl=s),a&&(d.id=a),t.client.core.history.set(r,f),!u){e.next=15;break}return d.internal=z(B({},d.internal),{throwOnFailedPublish:!0}),e.next=13,t.client.core.relayer.publish(r,h,d);case 13:e.next=16;break;case 15:t.client.core.relayer.publish(r,h,d).catch((function(e){return t.client.logger.error(e)}));case 16:return e.abrupt("return",f.id);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendResult=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u,f;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,o=n.topic,i=n.result,s=n.throwOnFailedPublish,a=(0,w.formatJsonRpcResult)(r,i),e.next=7,t.client.core.crypto.encode(o,a);case 7:return c=e.sent,e.next=10,t.client.core.history.get(o,r);case 10:if(u=e.sent,f=A[u.request.method].res,!s){e.next=18;break}return f.internal=z(B({},f.internal),{throwOnFailedPublish:!0}),e.next=16,t.client.core.relayer.publish(o,c,f);case 16:e.next=19;break;case 18:t.client.core.relayer.publish(o,c,f).catch((function(e){return t.client.logger.error(e)}));case 19:return e.next=21,t.client.core.history.resolve(a);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendError=function(){var e=(0,i.Z)(p().mark((function e(n,r,o){var i,s,a,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,w.formatJsonRpcError)(n,o),e.next=3,t.client.core.crypto.encode(r,i);case 3:return s=e.sent,e.next=6,t.client.core.history.get(r,n);case 6:return a=e.sent,c=A[a.request.method].res,t.client.core.relayer.publish(r,s,c),e.next=11,t.client.core.history.resolve(i);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.cleanup=(0,i.Z)(p().mark((function e(){var n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=[],t.client.session.getAll().forEach((function(e){(0,y.Bw)(e.expiry)&&n.push(e.topic)})),t.client.proposal.getAll().forEach((function(e){(0,y.Bw)(e.expiry)&&r.push(e.id)})),e.next=5,Promise.all([].concat((0,o.Z)(n.map((function(e){return t.deleteSession(e)}))),(0,o.Z)(r.map((function(e){return t.deleteProposal(e)})))));case 5:case"end":return e.stop()}}),e)}))),t.onRelayEventRequest=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.requestQueue.queue.push(n),e.next=3,t.processRequestsQueue();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.processRequestsQueue=(0,i.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.requestQueue.state!==N){e.next=3;break}return t.client.logger.info("Request queue already active, skipping..."),e.abrupt("return");case 3:t.client.logger.info("Request queue starting with ".concat(t.requestQueue.queue.length," requests"));case 4:if(!(t.requestQueue.queue.length>0)){e.next=19;break}if(t.requestQueue.state=N,!(n=t.requestQueue.queue.shift())){e.next=17;break}return e.prev=8,t.processRequest(n),e.next=12,new Promise((function(e){return setTimeout(e,300)}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),t.client.logger.warn(e.t0);case 17:e.next=4;break;case 19:t.requestQueue.state=L;case 20:case"end":return e.stop()}}),e,null,[[8,14]])}))),t.processRequest=function(e){var n=e.topic,r=e.payload,o=r.method;switch(o){case"wc_sessionPropose":return t.onSessionProposeRequest(n,r);case"wc_sessionSettle":return t.onSessionSettleRequest(n,r);case"wc_sessionUpdate":return t.onSessionUpdateRequest(n,r);case"wc_sessionExtend":return t.onSessionExtendRequest(n,r);case"wc_sessionPing":return t.onSessionPingRequest(n,r);case"wc_sessionDelete":return t.onSessionDeleteRequest(n,r);case"wc_sessionRequest":return t.onSessionRequest(n,r);case"wc_sessionEvent":return t.onSessionEventRequest(n,r);default:return t.client.logger.info("Unsupported request method ".concat(o))}},t.onRelayEventResponse=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.topic,o=n.payload,e.next=4,t.client.core.history.get(r,o.id);case 4:i=e.sent.request.method,e.t0=i,e.next="wc_sessionPropose"===e.t0?8:"wc_sessionSettle"===e.t0?9:"wc_sessionUpdate"===e.t0?10:"wc_sessionExtend"===e.t0?11:"wc_sessionPing"===e.t0?12:"wc_sessionRequest"===e.t0?13:14;break;case 8:return e.abrupt("return",t.onSessionProposeResponse(r,o));case 9:return e.abrupt("return",t.onSessionSettleResponse(r,o));case 10:return e.abrupt("return",t.onSessionUpdateResponse(r,o));case 11:return e.abrupt("return",t.onSessionExtendResponse(r,o));case 12:return e.abrupt("return",t.onSessionPingResponse(r,o));case 13:return e.abrupt("return",t.onSessionRequestResponse(r,o));case 14:return e.abrupt("return",t.client.logger.info("Unsupported response method ".concat(i)));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onRelayEventUnknownPayload=function(e){var t=e.topic,n=(0,y.Z7)("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response.")).message;throw new Error(n)},t.onSessionProposeRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i,s,a,c,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.params,i=r.id,e.prev=1,t.isValidConnect(B({},r.params)),s=(0,y.gn)(b.FIVE_MINUTES),a=B({id:i,pairingTopic:n,expiry:s},o),e.next=6,t.setProposal(i,a);case 6:return c=(0,y.rj)(JSON.stringify(r)),e.next=9,t.getVerifyContext(c,a.proposer.metadata);case 9:u=e.sent,t.client.events.emit("session_proposal",{id:i,params:a,verifyContext:u}),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,t.sendError(i,n,e.t0);case 17:t.client.logger.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionProposeResponse=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i,s,a,c,u,f;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.id,!(0,w.isJsonRpcResult)(r)){e.next=22;break}return i=r.result,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i}),s=t.client.proposal.get(o),t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s}),a=s.proposer.publicKey,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a}),c=i.responderPublicKey,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c}),e.next=12,t.client.core.crypto.generateSharedKey(a,c);case 12:return u=e.sent,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:u}),e.next=16,t.client.core.relayer.subscribe(u);case 16:return f=e.sent,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),e.next=20,t.client.core.pairing.activate({topic:n});case 20:e.next=27;break;case 22:if(e.t0=(0,w.isJsonRpcError)(r),!e.t0){e.next=27;break}return e.next=26,t.client.proposal.delete(o,(0,y.D6)("USER_DISCONNECTED"));case 26:t.events.emit((0,y.E0)("session_connect"),{error:r.error});case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionSettleRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i,s,a,c,u,f,l,h,d,v,g;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.id,i=r.params,e.prev=1,t.isValidSessionSettleRequest(i),s=r.params,a=s.relay,c=s.controller,u=s.expiry,f=s.namespaces,l=s.requiredNamespaces,h=s.optionalNamespaces,d=s.sessionProperties,v=s.pairingTopic,g=B({topic:n,relay:a,expiry:u,namespaces:f,acknowledged:!0,pairingTopic:v,requiredNamespaces:l,optionalNamespaces:h,controller:c.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},d&&{sessionProperties:d}),e.next=6,t.sendResult({id:r.id,topic:n,result:!0});case 6:t.events.emit((0,y.E0)("session_connect"),{session:g}),t.cleanupDuplicatePairings(g),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(o,n,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionSettleResponse=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.id,!(0,w.isJsonRpcResult)(r)){e.next=7;break}return e.next=4,t.client.session.update(n,{acknowledged:!0});case 4:t.events.emit((0,y.E0)("session_approve",o),{}),e.next=12;break;case 7:if(e.t0=(0,w.isJsonRpcError)(r),!e.t0){e.next=12;break}return e.next=11,t.client.session.delete(n,(0,y.D6)("USER_DISCONNECTED"));case 11:t.events.emit((0,y.E0)("session_approve",o),{error:r.error});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionUpdateRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i,s,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.params,i=r.id,e.prev=1,s="".concat(n,"_session_update"),!(a=y.O6.get(s))||!t.isRequestOutOfSync(a,i)){e.next=6;break}return t.client.logger.info("Discarding out of sync request - ".concat(i)),e.abrupt("return");case 6:return t.isValidUpdate(B({topic:n},o)),e.next=9,t.client.session.update(n,{namespaces:o.namespaces});case 9:return e.next=11,t.sendResult({id:i,topic:n,result:!0});case 11:t.client.events.emit("session_update",{id:i,topic:n,params:o}),y.O6.set(s,i),e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(1),e.next=19,t.sendError(i,n,e.t0);case 19:t.client.logger.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),t.isRequestOutOfSync=function(e,t){return parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3))},t.onSessionUpdateResponse=function(e,n){var r=n.id;(0,w.isJsonRpcResult)(n)?t.events.emit((0,y.E0)("session_update",r),{}):(0,w.isJsonRpcError)(n)&&t.events.emit((0,y.E0)("session_update",r),{error:n.error})},t.onSessionExtendRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.id,e.prev=1,t.isValidExtend({topic:n}),e.next=5,t.setExpiry(n,(0,y.gn)(j));case 5:return e.next=7,t.sendResult({id:o,topic:n,result:!0});case 7:t.client.events.emit("session_extend",{id:o,topic:n}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(o,n,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionExtendResponse=function(e,n){var r=n.id;(0,w.isJsonRpcResult)(n)?t.events.emit((0,y.E0)("session_extend",r),{}):(0,w.isJsonRpcError)(n)&&t.events.emit((0,y.E0)("session_extend",r),{error:n.error})},t.onSessionPingRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.id,e.prev=1,t.isValidPing({topic:n}),e.next=5,t.sendResult({id:o,topic:n,result:!0});case 5:t.client.events.emit("session_ping",{id:o,topic:n}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,t.sendError(o,n,e.t0);case 12:t.client.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionPingResponse=function(e,n){var r=n.id;setTimeout((function(){(0,w.isJsonRpcResult)(n)?t.events.emit((0,y.E0)("session_ping",r),{}):(0,w.isJsonRpcError)(n)&&t.events.emit((0,y.E0)("session_ping",r),{error:n.error})}),500)},t.onSessionDeleteRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.id,e.prev=1,t.isValidDisconnect({topic:n,reason:r.params}),e.next=5,Promise.all([new Promise((function(e){t.client.core.relayer.once(h.Mb.publish,(0,i.Z)(p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=e,r.next=3,t.deleteSession(n);case 3:r.t1=r.sent,(0,r.t0)(r.t1);case 5:case"end":return r.stop()}}),r)}))))})),t.sendResult({id:o,topic:n,result:!0})]);case 5:t.client.events.emit("session_delete",{id:o,topic:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.client.logger.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.id,i=r.params,e.prev=1,t.isValidRequest(B({topic:n},i)),e.next=5,t.setPendingSessionRequest({id:o,topic:n,params:i});case 5:return t.addSessionRequestToSessionRequestQueue({id:o,topic:n,params:i}),e.next=8,t.processSessionRequestQueue();case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(o,n,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),t.onSessionRequestResponse=function(e,n){var r=n.id;(0,w.isJsonRpcResult)(n)?t.events.emit((0,y.E0)("session_request",r),{result:n.result}):(0,w.isJsonRpcError)(n)&&t.events.emit((0,y.E0)("session_request",r),{error:n.error})},t.onSessionEventRequest=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i,s,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.id,i=r.params,e.prev=1,s="".concat(n,"_session_event_").concat(i.event.name),!(a=y.O6.get(s))||!t.isRequestOutOfSync(a,o)){e.next=6;break}return t.client.logger.info("Discarding out of sync request - ".concat(o)),e.abrupt("return");case 6:t.isValidEmit(B({topic:n},i)),t.client.events.emit("session_event",{id:o,topic:n,params:i}),y.O6.set(s,o),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,t.sendError(o,n,e.t0);case 13:t.client.logger.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),t.addSessionRequestToSessionRequestQueue=function(e){t.sessionRequestQueue.queue.push(e)},t.cleanupAfterResponse=function(e){t.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((function(){t.sessionRequestQueue.state=L,t.processSessionRequestQueue()}),(0,b.toMiliseconds)(t.requestQueueDelay))},t.processSessionRequestQueue=(0,i.Z)(p().mark((function e(){var n,r,o,i,s,a,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sessionRequestQueue.state!==N){e.next=3;break}return t.client.logger.info("session request queue is already active."),e.abrupt("return");case 3:if(n=t.sessionRequestQueue.queue[0]){e.next=7;break}return t.client.logger.info("session request queue is empty."),e.abrupt("return");case 7:return e.prev=7,r=n.id,o=n.topic,i=n.params,s=(0,y.rj)(JSON.stringify((0,w.formatJsonRpcRequest)("wc_sessionRequest",i,r))),a=t.client.session.get(o),e.next=15,t.getVerifyContext(s,a.peer.metadata);case 15:c=e.sent,t.sessionRequestQueue.state=N,t.client.events.emit("session_request",{id:r,topic:o,params:i,verifyContext:c}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),t.client.logger.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[7,19]])}))),t.isValidConnect=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u,f,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(n))),o=r.message,new Error(o);case 3:if(i=n.pairingTopic,s=n.requiredNamespaces,a=n.optionalNamespaces,c=n.sessionProperties,u=n.relays,e.t0=(0,y.o8)(i),e.t0){e.next=8;break}return e.next=8,t.isValidPairingTopic(i);case 8:if((0,y.PM)(u,!0)){e.next=11;break}throw f=(0,y.Z7)("MISSING_OR_INVALID","connect() relays: ".concat(u)),l=f.message,new Error(l);case 11:!(0,y.o8)(s)&&0!==(0,y.L5)(s)&&t.validateNamespaces(s,"requiredNamespaces"),!(0,y.o8)(a)&&0!==(0,y.L5)(a)&&t.validateNamespaces(a,"optionalNamespaces"),(0,y.o8)(c)||t.validateSessionProps(c,"sessionProperties");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.validateNamespaces=function(e,t){var n=(0,y.n)(e,"connect()",t);if(n)throw new Error(n.message)},t.isValidApprove=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u,f,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=2;break}throw new Error((0,y.Z7)("MISSING_OR_INVALID","approve() params: ".concat(n)).message);case 2:return r=n.id,o=n.namespaces,i=n.relayProtocol,s=n.sessionProperties,e.next=5,t.isValidProposalId(r);case 5:if(a=t.client.proposal.get(r),!(c=(0,y.in)(o,"approve()"))){e.next=8;break}throw new Error(c.message);case 8:if(!(u=(0,y.rF)(a.requiredNamespaces,o,"approve()"))){e.next=11;break}throw new Error(u.message);case 11:if((0,y.M_)(i,!0)){e.next=14;break}throw f=(0,y.Z7)("MISSING_OR_INVALID","approve() relayProtocol: ".concat(i)),l=f.message,new Error(l);case 14:(0,y.o8)(s)||t.validateSessionProps(s,"sessionProperties");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidReject=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","reject() params: ".concat(n)),o=r.message,new Error(o);case 3:return i=n.id,s=n.reason,e.next=6,t.isValidProposalId(i);case 6:if((0,y.$t)(s)){e.next=9;break}throw a=(0,y.Z7)("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(s))),c=a.message,new Error(c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidSessionSettleRequest=function(e){if(!(0,y.EJ)(e)){var t=(0,y.Z7)("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e)).message;throw new Error(t)}var n=e.relay,r=e.controller,o=e.namespaces,i=e.expiry;if(!(0,y.Z2)(n)){var s=(0,y.Z7)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string").message;throw new Error(s)}var a=(0,y.Dd)(r,"onSessionSettleRequest()");if(a)throw new Error(a.message);var c=(0,y.in)(o,"onSessionSettleRequest()");if(c)throw new Error(c.message);if((0,y.Bw)(i)){var u=(0,y.Z7)("EXPIRED","onSessionSettleRequest()").message;throw new Error(u)}},t.isValidUpdate=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","update() params: ".concat(n)),o=r.message,new Error(o);case 3:return i=n.topic,s=n.namespaces,e.next=6,t.isValidSessionTopic(i);case 6:if(a=t.client.session.get(i),!(c=(0,y.in)(s,"update()"))){e.next=9;break}throw new Error(c.message);case 9:if(!(u=(0,y.rF)(a.requiredNamespaces,s,"update()"))){e.next=12;break}throw new Error(u.message);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidExtend=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","extend() params: ".concat(n)),o=r.message,new Error(o);case 3:return i=n.topic,e.next=6,t.isValidSessionTopic(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidRequest=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u,f,l,h,d,v,g,m,b,w;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","request() params: ".concat(n)),o=r.message,new Error(o);case 3:return i=n.topic,s=n.request,a=n.chainId,c=n.expiry,e.next=6,t.isValidSessionTopic(i);case 6:if(u=t.client.session.get(i),f=u.namespaces,(0,y.p8)(f,a)){e.next=10;break}throw l=(0,y.Z7)("MISSING_OR_INVALID","request() chainId: ".concat(a)),h=l.message,new Error(h);case 10:if((0,y.hH)(s)){e.next=13;break}throw d=(0,y.Z7)("MISSING_OR_INVALID","request() ".concat(JSON.stringify(s))),v=d.message,new Error(v);case 13:if((0,y.al)(f,a,s.method)){e.next=16;break}throw g=(0,y.Z7)("MISSING_OR_INVALID","request() method: ".concat(s.method)),m=g.message,new Error(m);case 16:if(!c||(0,y.ON)(c,T)){e.next=19;break}throw b=(0,y.Z7)("MISSING_OR_INVALID","request() expiry: ".concat(c,". Expiry must be a number (in seconds) between ").concat(T.min," and ").concat(T.max)),w=b.message,new Error(w);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidRespond=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","respond() params: ".concat(n)),o=r.message,new Error(o);case 3:return i=n.topic,s=n.response,e.next=6,t.isValidSessionTopic(i);case 6:if((0,y.JT)(s)){e.next=9;break}throw a=(0,y.Z7)("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(s))),c=a.message,new Error(c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidPing=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","ping() params: ".concat(n)),o=r.message,new Error(o);case 3:return i=n.topic,e.next=6,t.isValidSessionOrPairingTopic(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidEmit=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i,s,a,c,u,f,l,h,d,v,g;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","emit() params: ".concat(n)),o=r.message,new Error(o);case 3:return i=n.topic,s=n.event,a=n.chainId,e.next=6,t.isValidSessionTopic(i);case 6:if(c=t.client.session.get(i),u=c.namespaces,(0,y.p8)(u,a)){e.next=10;break}throw f=(0,y.Z7)("MISSING_OR_INVALID","emit() chainId: ".concat(a)),l=f.message,new Error(l);case 10:if((0,y.nf)(s)){e.next=13;break}throw h=(0,y.Z7)("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(s))),d=h.message,new Error(d);case 13:if((0,y.sI)(u,a,s.name)){e.next=16;break}throw v=(0,y.Z7)("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(s))),g=v.message,new Error(g);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidDisconnect=function(){var e=(0,i.Z)(p().mark((function e(n){var r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.EJ)(n)){e.next=3;break}throw r=(0,y.Z7)("MISSING_OR_INVALID","disconnect() params: ".concat(n)),o=r.message,new Error(o);case 3:return i=n.topic,e.next=6,t.isValidSessionOrPairingTopic(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getVerifyContext=function(){var e=(0,i.Z)(p().mark((function e(n,r){var o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={verified:{verifyUrl:r.verifyUrl||h.sG,validation:"UNKNOWN",origin:r.url||""}},e.prev=1,e.next=4,t.client.core.verify.resolve({attestationId:n,verifyUrl:r.verifyUrl});case 4:(i=e.sent)&&(o.verified.origin=i,o.verified.validation=i===new URL(r.url).origin?"VALID":"INVALID"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.client.logger.error(e.t0);case 11:return e.abrupt("return",(t.client.logger.info("Verify context: ".concat(JSON.stringify(o))),o));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),t.validateSessionProps=function(e,t){Object.values(e).forEach((function(e){if(!(0,y.M_)(e,!1)){var n=(0,y.Z7)("MISSING_OR_INVALID","".concat(t," must be in Record<string, string> format. Received: ").concat(JSON.stringify(e))).message;throw new Error(n)}}))},t}return(0,a.Z)(l,[{key:"isInitialized",value:(u=(0,i.Z)(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initialized){e.next=3;break}throw t=(0,y.Z7)("NOT_INITIALIZED",this.name),n=t.message,new Error(n);case 3:return e.next=5,this.client.core.relayer.confirmOnlineStateOrThrow();case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"registerRelayerEvents",value:function(){var e=this;this.client.core.relayer.on(h.Mb.message,function(){var t=(0,i.Z)(p().mark((function t(n){var r,o,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.topic,o=n.message,!e.ignoredPayloadTypes.includes(e.client.core.crypto.getPayloadType(o))){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.client.core.crypto.decode(r,o);case 5:if(i=t.sent,t.prev=6,!(0,w.isJsonRpcRequest)(i)){t.next=11;break}e.client.core.history.set(r,i),e.onRelayEventRequest({topic:r,payload:i}),t.next=20;break;case 11:if(!(0,w.isJsonRpcResponse)(i)){t.next=19;break}return t.next=14,e.client.core.history.resolve(i);case 14:return t.next=16,e.onRelayEventResponse({topic:r,payload:i});case 16:e.client.core.history.delete(r,i.id),t.next=20;break;case 19:e.onRelayEventUnknownPayload({topic:r,payload:i});case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(6),e.client.logger.error(t.t0);case 25:case"end":return t.stop()}}),t,null,[[6,22]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var e=this;this.client.core.expirer.on(h.i9.expired,function(){var t=(0,i.Z)(p().mark((function t(n){var r,o,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(0,y.iP)(n.target),o=r.topic,!(i=r.id)||!e.client.pendingRequest.keys.includes(i)){t.next=5;break}return t.next=4,e.deletePendingSessionRequest(i,(0,y.Z7)("EXPIRED"),!0);case 4:return t.abrupt("return",t.sent);case 5:if(!o){t.next=13;break}if(t.t0=e.client.session.keys.includes(o),!t.t0){t.next=11;break}return t.next=10,e.deleteSession(o,!0);case 10:e.client.events.emit("session_expire",{topic:o});case 11:t.next=18;break;case 13:if(t.t1=i,!t.t1){t.next=18;break}return t.next=17,e.deleteProposal(i,!0);case 17:e.client.events.emit("proposal_expire",{id:i});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"isValidPairingTopic",value:function(e){if(!(0,y.M_)(e,!1)){var t=(0,y.Z7)("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e)).message;throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){var n=(0,y.Z7)("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e)).message;throw new Error(n)}if((0,y.Bw)(this.client.core.pairing.pairings.get(e).expiry)){var r=(0,y.Z7)("EXPIRED","pairing topic: ".concat(e)).message;throw new Error(r)}}},{key:"isValidSessionTopic",value:(r=(0,i.Z)(p().mark((function e(t){var n,r,o,i,s,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.M_)(t,!1)){e.next=3;break}throw n=(0,y.Z7)("MISSING_OR_INVALID","session topic should be a string: ".concat(t)),r=n.message,new Error(r);case 3:if(this.client.session.keys.includes(t)){e.next=6;break}throw o=(0,y.Z7)("NO_MATCHING_KEY","session topic doesn't exist: ".concat(t)),i=o.message,new Error(i);case 6:if(!(0,y.Bw)(this.client.session.get(t).expiry)){e.next=11;break}return e.next=9,this.deleteSession(t);case 9:throw s=(0,y.Z7)("EXPIRED","session topic: ".concat(t)),a=s.message,new Error(a);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"isValidSessionOrPairingTopic",value:(n=(0,i.Z)(p().mark((function e(t){var n,r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.client.session.keys.includes(t)){e.next=5;break}return e.next=3,this.isValidSessionTopic(t);case 3:e.next=16;break;case 5:if(!this.client.core.pairing.pairings.keys.includes(t)){e.next=9;break}this.isValidPairingTopic(t),e.next=16;break;case 9:if(!(0,y.M_)(t,!1)){e.next=14;break}throw n=(0,y.Z7)("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(t)),r=n.message,new Error(r);case 14:throw o=(0,y.Z7)("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(t)),i=o.message,new Error(i);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"isValidProposalId",value:(t=(0,i.Z)(p().mark((function e(t){var n,r,o,i,s,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.Q0)(t)){e.next=3;break}throw n=(0,y.Z7)("MISSING_OR_INVALID","proposal id should be a number: ".concat(t)),r=n.message,new Error(r);case 3:if(this.client.proposal.keys.includes(t)){e.next=6;break}throw o=(0,y.Z7)("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(t)),i=o.message,new Error(i);case 6:if(!(0,y.Bw)(this.client.proposal.get(t).expiry)){e.next=11;break}return e.next=9,this.deleteProposal(t);case 9:throw s=(0,y.Z7)("EXPIRED","proposal id: ".concat(t)),a=s.message,new Error(a);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),l}(v.W3),F=function(e){(0,c.Z)(n,e);var t=_(n);function n(e,r){var o;return(0,s.Z)(this,n),(o=t.call(this,e,r,"proposal",S)).core=e,o.logger=r,o}return(0,a.Z)(n)}(h.yh),G=function(e){(0,c.Z)(n,e);var t=_(n);function n(e,r){var o;return(0,s.Z)(this,n),(o=t.call(this,e,r,"session",S)).core=e,o.logger=r,o}return(0,a.Z)(n)}(h.yh),K=function(e){(0,c.Z)(n,e);var t=_(n);function n(e,r){var o;return(0,s.Z)(this,n),(o=t.call(this,e,r,"request",S,(function(e){return e.id}))).core=e,o.logger=r,o}return(0,a.Z)(n)}(h.yh),Q=function(e){(0,c.Z)(u,e);var t,n,o=_(u);function u(e){var t;(0,s.Z)(this,u),(t=o.call(this,e)).protocol="wc",t.version=2,t.name=k,t.events=new g.EventEmitter,t.on=function(e,n){return t.events.on(e,n)},t.once=function(e,n){return t.events.once(e,n)},t.off=function(e,n){return t.events.off(e,n)},t.removeListener=function(e,n){return t.events.removeListener(e,n)},t.removeAllListeners=function(e){return t.events.removeAllListeners(e)},t.connect=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.connect(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.pair=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.pair(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.approve=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.approve(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.reject=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.reject(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.update(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.extend=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.extend(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.request=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.request(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.respond=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.respond(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.ping=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.ping(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.emit=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.emit(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.disconnect=function(){var e=(0,i.Z)(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.disconnect(n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.find=function(e){try{return t.engine.find(e)}catch(n){throw t.logger.error(n.message),n}},t.getPendingSessionRequests=function(){try{return t.engine.getPendingSessionRequests()}catch(e){throw t.logger.error(e.message),e}},t.name=(null==e?void 0:e.name)||k,t.metadata=(null==e?void 0:e.metadata)||(0,y.D)();var n=typeof(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:(0,d.pino)((0,d.getDefaultLoggerOptions)({level:(null==e?void 0:e.logger)||O}));return t.core=(null==e?void 0:e.core)||new h.QY(e),t.logger=(0,d.generateChildLogger)(n,t.name),t.session=new G(t.core,t.logger),t.proposal=new F(t.core,t.logger),t.pendingRequest=new K(t.core,t.logger),t.engine=new H((0,r.Z)(t)),t}return(0,a.Z)(u,[{key:"context",get:function(){return(0,d.getLoggerContext)(this.logger)}},{key:"pairing",get:function(){return this.core.pairing.pairings}},{key:"initialize",value:(n=(0,i.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.core.start();case 4:return e.next=6,this.session.init();case 6:return e.next=8,this.proposal.init();case 8:return e.next=10,this.pendingRequest.init();case 10:return e.next=12,this.engine.init();case 12:this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success"),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),this.logger.info("SignClient Initialization Failure"),this.logger.error(e.t0.message),e.t0;case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(){return n.apply(this,arguments)})}],[{key:"init",value:(t=(0,i.Z)(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new u(t),e.next=3,n.initialize();case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),u}(v.lV)},31:function(e,t,n){"use strict";n.d(t,{D3:function(){return b},N1:function(){return p},W3:function(){return x},Yo:function(){return w},kZ:function(){return d},lV:function(){return _},oe:function(){return y},pZ:function(){return g},sY:function(){return m},yy:function(){return h},z9:function(){return v}});var r=n(43144),o=n(15671),i=n(60136),s=n(82963),a=n(61120),c=n(21425),u=n(7555),f=n.n(u);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var p=function(e){(0,i.Z)(n,e);var t=l(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).opts=e,r.protocol="wc",r.version=2,r}return(0,r.Z)(n)}(c.q),h=function(e){(0,i.Z)(n,e);var t=l(n);function n(e,r){var i;return(0,o.Z)(this,n),(i=t.call(this)).core=e,i.logger=r,i.records=new Map,i}return(0,r.Z)(n)}(c.q),d=(0,r.Z)((function e(t,n){(0,o.Z)(this,e),this.logger=t,this.core=n})),v=function(e){(0,i.Z)(n,e);var t=l(n);function n(e,r){var i;return(0,o.Z)(this,n),(i=t.call(this)).relayer=e,i.logger=r,i}return(0,r.Z)(n)}(c.q),y=function(e){(0,i.Z)(n,e);var t=l(n);function n(e){return(0,o.Z)(this,n),t.call(this)}return(0,r.Z)(n)}(c.q),g=(0,r.Z)((function e(t,n,r,i){(0,o.Z)(this,e),this.core=t,this.logger=n,this.name=r})),m=function(e){(0,i.Z)(n,e);var t=l(n);function n(e,r){var i;return(0,o.Z)(this,n),(i=t.call(this)).relayer=e,i.logger=r,i}return(0,r.Z)(n)}(c.q),b=function(e){(0,i.Z)(n,e);var t=l(n);function n(e,r){var i;return(0,o.Z)(this,n),(i=t.call(this)).core=e,i.logger=r,i}return(0,r.Z)(n)}(c.q),w=(0,r.Z)((function e(t,n){(0,o.Z)(this,e),this.projectId=t,this.logger=n})),_=(f(),(0,r.Z)((function e(t){(0,o.Z)(this,e),this.opts=t,this.protocol="wc",this.version=2}))),x=(u.EventEmitter,(0,r.Z)((function e(t){(0,o.Z)(this,e),this.client=t})))},14944:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=u(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[u(e)]},p.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},p.prototype.set=function(e,t){this.map[u(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,o=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];_.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(R){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,n){return new Promise((function(r,i){var s=new b(e,n);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new _(o,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=p,e.Request=b,e.Response=_),t.Headers=p,t.Request=b,t.Response=_,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},7555:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,s,u;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,u=f,console&&console.warn&&console.warn(u)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):d(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,f=d(c,u);for(n=0;n<u;++n)r(f[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},4934:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",l="[object Map]",p="[object Number]",h="[object Object]",d="[object Promise]",v="[object RegExp]",y="[object Set]",g="[object String]",m="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",x=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[i]=R[s]=R[w]=R[a]=R[_]=R[c]=R[u]=R[f]=R[l]=R[p]=R[h]=R[v]=R[y]=R[g]=R[b]=!1;var S="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,k="object"==typeof self&&self&&self.Object===Object&&self,O=S||k||Function("return this")(),I=t&&!t.nodeType&&t,P=I&&e&&!e.nodeType&&e,j=P&&P.exports===I,A=j&&S.process,T=function(){try{return A&&A.binding&&A.binding("util")}catch(e){}}(),L=T&&T.isTypedArray;function N(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var M,C,D,U=Array.prototype,V=Function.prototype,J=Object.prototype,B=O["__core-js_shared__"],z=V.toString,H=J.hasOwnProperty,F=(M=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",G=J.toString,K=RegExp("^"+z.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=j?O.Buffer:void 0,W=O.Symbol,Y=O.Uint8Array,X=J.propertyIsEnumerable,$=U.splice,ee=W?W.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=Q?Q.isBuffer:void 0,re=(C=Object.keys,D=Object,function(e){return C(D(e))}),oe=Te(O,"DataView"),ie=Te(O,"Map"),se=Te(O,"Promise"),ae=Te(O,"Set"),ce=Te(O,"WeakMap"),ue=Te(Object,"create"),fe=qe(oe),le=qe(ie),pe=qe(se),he=qe(ae),de=qe(ce),ve=W?W.prototype:void 0,ye=ve?ve.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new be;++t<n;)this.add(e[t])}function _e(e){var t=this.__data__=new me(e);this.size=t.size}function xe(e,t){var n=De(e),r=!n&&Ce(e),o=!n&&!r&&Ue(e),i=!n&&!r&&!o&&He(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var u in e)!t&&!H.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ze(u,c))||a.push(u);return a}function Ee(e,t){for(var n=e.length;n--;)if(Me(e[n][0],t))return n;return-1}function Re(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=H.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(i){}var o=G.call(e);r&&(t?e[ee]=n:delete e[ee]);return o}(e):function(e){return G.call(e)}(e)}function Se(e){return ze(e)&&Re(e)==i}function ke(e,t,n,r,o){return e===t||(null==e||null==t||!ze(e)&&!ze(t)?e!=e&&t!=t:function(e,t,n,r,o,f){var d=De(e),b=De(t),x=d?s:Ne(e),E=b?s:Ne(t),R=(x=x==i?h:x)==h,S=(E=E==i?h:E)==h,k=x==E;if(k&&Ue(e)){if(!Ue(t))return!1;d=!0,R=!1}if(k&&!R)return f||(f=new _e),d||He(e)?Pe(e,t,n,r,o,f):function(e,t,n,r,o,i,s){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!i(new Y(e),new Y(t)));case a:case c:case p:return Me(+e,+t);case u:return e.name==t.name&&e.message==t.message;case v:case g:return e==t+"";case l:var f=Z;case y:var h=1&r;if(f||(f=q),e.size!=t.size&&!h)return!1;var d=s.get(e);if(d)return d==t;r|=2,s.set(e,t);var b=Pe(f(e),f(t),r,o,i,s);return s.delete(e),b;case m:if(ye)return ye.call(e)==ye.call(t)}return!1}(e,t,x,n,r,o,f);if(!(1&n)){var O=R&&H.call(e,"__wrapped__"),I=S&&H.call(t,"__wrapped__");if(O||I){var P=O?e.value():e,j=I?t.value():t;return f||(f=new _e),o(P,j,n,r,f)}}if(!k)return!1;return f||(f=new _e),function(e,t,n,r,o,i){var s=1&n,a=je(e),c=a.length,u=je(t).length;if(c!=u&&!s)return!1;var f=c;for(;f--;){var l=a[f];if(!(s?l in t:H.call(t,l)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var h=!0;i.set(e,t),i.set(t,e);var d=s;for(;++f<c;){var v=e[l=a[f]],y=t[l];if(r)var g=s?r(y,v,l,t,e,i):r(v,y,l,e,t,i);if(!(void 0===g?v===y||o(v,y,n,r,i):g)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,f)}(e,t,n,r,ke,o))}function Oe(e){return!(!Be(e)||function(e){return!!F&&F in e}(e))&&(Ve(e)?K:x).test(qe(e))}function Ie(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||J,t!==r)return re(e);var t,n,r,o=[];for(var i in Object(e))H.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Pe(e,t,n,r,o,i){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var f=-1,l=!0,p=2&n?new we:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var h=e[f],d=t[f];if(r)var v=s?r(d,h,f,t,e,i):r(h,d,f,e,t,i);if(void 0!==v){if(v)continue;l=!1;break}if(p){if(!N(t,(function(e,t){if(s=t,!p.has(s)&&(h===e||o(h,e,n,r,i)))return p.push(t);var s}))){l=!1;break}}else if(h!==d&&!o(h,d,n,r,i)){l=!1;break}}return i.delete(e),i.delete(t),l}function je(e){return function(e,t,n){var r=t(e);return De(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Fe,Le)}function Ae(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Te(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Oe(n)?n:void 0}ge.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(ue){var n=t[e];return n===r?void 0:n}return H.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:H.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ue&&void 0===t?r:t,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0)&&(n==t.length-1?t.pop():$.call(t,n,1),--this.size,!0)},me.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]},me.prototype.has=function(e){return Ee(this.__data__,e)>-1},me.prototype.set=function(e,t){var n=this.__data__,r=Ee(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(ie||me),string:new ge}},be.prototype.delete=function(e){var t=Ae(this,e).delete(e);return this.size-=t?1:0,t},be.prototype.get=function(e){return Ae(this,e).get(e)},be.prototype.has=function(e){return Ae(this,e).has(e)},be.prototype.set=function(e,t){var n=Ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,r),this},we.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.clear=function(){this.__data__=new me,this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var n=this.__data__;if(n instanceof me){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new be(r)}return n.set(e,t),this.size=n.size,this};var Le=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}(te(e),(function(t){return X.call(e,t)})))}:function(){return[]},Ne=Re;function Ze(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||E.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){if(null!=e){try{return z.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Me(e,t){return e===t||e!=e&&t!=t}(oe&&Ne(new oe(new ArrayBuffer(1)))!=_||ie&&Ne(new ie)!=l||se&&Ne(se.resolve())!=d||ae&&Ne(new ae)!=y||ce&&Ne(new ce)!=b)&&(Ne=function(e){var t=Re(e),n=t==h?e.constructor:void 0,r=n?qe(n):"";if(r)switch(r){case fe:return _;case le:return l;case pe:return d;case he:return y;case de:return b}return t});var Ce=Se(function(){return arguments}())?Se:function(e){return ze(e)&&H.call(e,"callee")&&!X.call(e,"callee")},De=Array.isArray;var Ue=ne||function(){return!1};function Ve(e){if(!Be(e))return!1;var t=Re(e);return t==f||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ze(e){return null!=e&&"object"==typeof e}var He=L?function(e){return function(t){return e(t)}}(L):function(e){return ze(e)&&Je(e.length)&&!!R[Re(e)]};function Fe(e){return null!=(t=e)&&Je(t.length)&&!Ve(t)?xe(e):Ie(e);var t}e.exports=function(e,t){return ke(e,t)}},35774:function(e,t,n){"use strict";n(65743);var r=n(4487);e.exports=s;var o=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},i={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:d,res:d,err:function(e){var t={type:e.constructor.name,msg:e.message,stack:e.stack};for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function s(e){(e=e||{}).browser=e.browser||{};var t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");var n=e.browser.write||o;e.browser.write&&(e.browser.asObject=!0);var r=e.serializers||{},i=function(e,t){return Array.isArray(e)?e.filter((function(e){return"!stdSerializers.err"!==e})):!0===e&&Object.keys(t)}(e.browser.serialize,r),c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);"function"==typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");var l=e.level||"info",d=Object.create(n);d.log||(d.log=y),Object.defineProperty(d,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(d,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,a(v,d,"error","log"),a(v,d,"fatal","error"),a(v,d,"warn","error"),a(v,d,"info","log"),a(v,d,"debug","log"),a(v,d,"trace","log")}});var v={transmit:t,serialize:i,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:h(e)};return d.levels=s.levels,d.level=l,d.setMaxListeners=d.getMaxListeners=d.emit=d.addListener=d.on=d.prependListener=d.once=d.prependOnceListener=d.removeListener=d.removeAllListeners=d.listeners=d.listenerCount=d.eventNames=d.write=d.flush=y,d.serializers=r,d._serialize=i,d._stdErrSerialize=c,d.child=function(n,o){if(!n)throw new Error("missing bindings for child Pino");o=o||{},i&&n.serializers&&(o.serializers=n.serializers);var s=o.serializers;if(i&&s){var a=Object.assign({},r,s),c=!0===e.browser.serialize?Object.keys(a):i;delete n.serializers,u([n],c,a,this._stdErrSerialize)}function l(e){this._childLevel=1+(0|e._childLevel),this.error=f(e,n,"error"),this.fatal=f(e,n,"fatal"),this.warn=f(e,n,"warn"),this.info=f(e,n,"info"),this.debug=f(e,n,"debug"),this.trace=f(e,n,"trace"),a&&(this.serializers=a,this._serialize=c),t&&(this._logEvent=p([].concat(e._logEvent.bindings,n)))}return l.prototype=this,new l(this)},t&&(d._logEvent=p()),d}function a(e,t,n,r){var i=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?y:i[n]?i[n]:o[n]||o[r]||y,function(e,t,n){if(!e.transmit&&t[n]===y)return;t[n]=(r=t[n],function(){for(var i=e.timestamp(),a=new Array(arguments.length),f=Object.getPrototypeOf&&Object.getPrototypeOf(this)===o?o:this,p=0;p<a.length;p++)a[p]=arguments[p];if(e.serialize&&!e.asObject&&u(a,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?r.call(f,c(this,n,a,i)):r.apply(f,a),e.transmit){var h=e.transmit.level||t.level,d=s.levels.values[h],v=s.levels.values[n];if(v<d)return;l(this,{ts:i,methodLevel:n,methodValue:v,transmitLevel:h,transmitValue:s.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},a)}});var r}(e,t,n)}function c(e,t,n,o){e._serialize&&u(n,e._serialize,e.serializers,e._stdErrSerialize);var i=n.slice(),a=i[0],c={};o&&(c.time=o),c.level=s.levels.values[t];var f=1+(0|e._childLevel);if(f<1&&(f=1),null!==a&&"object"==typeof a){for(;f--&&"object"==typeof i[0];)Object.assign(c,i.shift());a=i.length?r(i.shift(),i):void 0}else"string"==typeof a&&(a=r(i.shift(),i));return void 0!==a&&(c.msg=a),c}function u(e,t,n,r){for(var o in e)if(r&&e[o]instanceof Error)e[o]=s.stdSerializers.err(e[o]);else if("object"==typeof e[o]&&!Array.isArray(e[o]))for(var i in e[o])t&&t.indexOf(i)>-1&&i in n&&(e[o][i]=n[i](e[o][i]))}function f(e,t,n){return function(){var r=new Array(1+arguments.length);r[0]=t;for(var o=1;o<r.length;o++)r[o]=arguments[o-1];return e[n].apply(this,r)}}function l(e,t,n){var r=t.send,o=t.ts,i=t.methodLevel,s=t.methodValue,a=t.val,c=e._logEvent.bindings;u(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=n.filter((function(e){return-1===c.indexOf(e)})),e._logEvent.level.label=i,e._logEvent.level.value=s,r(i,e._logEvent,a),e._logEvent=p(c)}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function h(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?g:m}function d(){return{}}function v(e){return e}function y(){}function g(){return!1}function m(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=i,s.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},4487:function(e){"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,n,r){var o=r&&r.stringify||t;if("object"==typeof e&&null!==e){var i=n.length+1;if(1===i)return e;var s=new Array(i);s[0]=o(e);for(var a=1;a<i;a++)s[a]=o(n[a]);return s.join(" ")}if("string"!=typeof e)return e;var c=n.length;if(0===c)return e;for(var u="",f=0,l=-1,p=e&&e.length||0,h=0;h<p;){if(37===e.charCodeAt(h)&&h+1<p){switch(l=l>-1?l:0,e.charCodeAt(h+1)){case 100:case 102:if(f>=c)break;if(null==n[f])break;l<h&&(u+=e.slice(l,h)),u+=Number(n[f]),l=h+2,h++;break;case 105:if(f>=c)break;if(null==n[f])break;l<h&&(u+=e.slice(l,h)),u+=Math.floor(Number(n[f])),l=h+2,h++;break;case 79:case 111:case 106:if(f>=c)break;if(void 0===n[f])break;l<h&&(u+=e.slice(l,h));var d=typeof n[f];if("string"===d){u+="'"+n[f]+"'",l=h+2,h++;break}if("function"===d){u+=n[f].name||"<anonymous>",l=h+2,h++;break}u+=o(n[f]),l=h+2,h++;break;case 115:if(f>=c)break;l<h&&(u+=e.slice(l,h)),u+=String(n[f]),l=h+2,h++;break;case 37:l<h&&(u+=e.slice(l,h)),u+="%",l=h+2,h++,f--}++f}++h}if(-1===l)return e;l<p&&(u+=e.slice(l));return u}},71410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return JSON.parse(e)}catch(t){return e}},t.safeJsonStringify=function(e){return"string"==typeof e?e:JSON.stringify(e,(function(e,t){return void 0===t?null:t}))}},62458:function(e){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},10365:function(e,t,n){"use strict";var r=n(53111).end,o=n(76091);e.exports=o("trimEnd")?function(){return r(this)}:"".trimEnd},76091:function(e,t,n){var r=n(76530).PROPER,o=n(47293),i=n(81361);e.exports=function(e){return o((function(){return!!i[e]()||"​᠎"!=="​᠎"[e]()||r&&i[e].name!==e}))}},33217:function(e,t,n){"use strict";var r=n(53111).start,o=n(76091);e.exports=o("trimStart")?function(){return r(this)}:"".trimStart},53111:function(e,t,n){var r=n(1702),o=n(84488),i=n(41340),s=n(81361),a=r("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$"),l=function(e){return function(t){var n=i(o(t));return 1&e&&(n=a(n,u,"")),2&e&&(n=a(n,f,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},81361:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},48702:function(e,t,n){n(83462);var r=n(82109),o=n(10365);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==o},{trimEnd:o})},99967:function(e,t,n){var r=n(82109),o=n(33217);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==o},{trimLeft:o})},83462:function(e,t,n){var r=n(82109),o=n(10365);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==o},{trimRight:o})},55674:function(e,t,n){n(99967);var r=n(82109),o=n(33217);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==o},{trimStart:o})},73808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,n){var r=n(18698).default,o=n(66115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=867-c0519901690583da878c.js.map