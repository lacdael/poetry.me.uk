"use strict";(self.webpackChunkpoetry_me_uk=self.webpackChunkpoetry_me_uk||[]).push([[46],{6845:function(e,t,n){n.d(t,{AV:function(){return f},Ic:function(){return ee},Vs:function(){return ne},jb:function(){return $},t0:function(){return I},uA:function(){return v},uc:function(){return z},zb:function(){return y},zv:function(){return p}});var r=n(3433),o=n(5861),a=n(9439),i=n(4687),s=n.n(i),c=(n(935),n(8091));function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,c.sj)({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),f={state:d,subscribe:function(e){return(0,c.Ld)(d,(function(){return e(d)}))},push:function(e,t){e!==d.view&&(d.view=e,t&&(d.data=t),d.history.push(e))},reset:function(e){d.view=e,d.history=[e]},replace:function(e){d.history.length>1&&(d.history[d.history.length-1]=e,d.view=e)},goBack:function(){if(d.history.length>1){d.history.pop();var e=d.history.slice(-1),t=(0,a.Z)(e,1)[0];d.view=t}},setData:function(e){d.data=e}},p={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:function(){return typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent))},isAndroid:function(){return p.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos:function(){var e=navigator.userAgent.toLowerCase();return p.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:function(e){return e.startsWith("http://")||e.startsWith("https://")},isArray:function(e){return Array.isArray(e)&&e.length>0},formatNativeUrl:function(e,t,n){if(p.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);var r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r="".concat(r,"://")),r.endsWith("/")||(r="".concat(r,"/")),this.setWalletConnectDeepLink(r,n);var o=encodeURIComponent(t);return"".concat(r,"wc?uri=").concat(o)},formatUniversalUrl:function(e,t,n){if(!p.isHttpUrl(e))return this.formatNativeUrl(e,t,n);var r=e;r.endsWith("/")||(r="".concat(r,"/")),this.setWalletConnectDeepLink(r,n);var o=encodeURIComponent(t);return"".concat(r,"wc?uri=").concat(o)},wait:function(e){return(0,o.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))()},openHref:function(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink:function(e,t){try{localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch(n){console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink:function(e){try{var t=e.split("?"),n=(0,a.Z)(t,1)[0];localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:n,name:"Android"}))}catch(r){console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink:function(){try{localStorage.removeItem(p.WALLETCONNECT_DEEPLINK_CHOICE)}catch(e){console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage:function(){try{typeof localStorage<"u"&&localStorage.setItem(p.WCM_VERSION,"2.6.1")}catch(e){console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData:function(){var e,t=null==(e=f.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},m=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),h=(0,c.sj)({enabled:m,userSessionId:"",events:[],connectedWalletId:void 0}),v={state:h,subscribe:function(e){return(0,c.Ld)(h.events,(function(){return e((0,c.CO)(h.events[h.events.length-1]))}))},initialize:function(){h.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(h.userSessionId=crypto.randomUUID())},setConnectedWalletId:function(e){h.connectedWalletId=e},click:function(e){if(h.enabled){var t={type:"CLICK",name:e.name,userSessionId:h.userSessionId,timestamp:Date.now(),data:e};h.events.push(t)}},track:function(e){if(h.enabled){var t={type:"TRACK",name:e.name,userSessionId:h.userSessionId,timestamp:Date.now(),data:e};h.events.push(t)}},view:function(e){if(h.enabled){var t={type:"VIEW",name:e.name,userSessionId:h.userSessionId,timestamp:Date.now(),data:e};h.events.push(t)}}},b=(0,c.sj)({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),y={state:b,subscribe:function(e){return(0,c.Ld)(b,(function(){return e(b)}))},setChains:function(e){b.chains=e},setWalletConnectUri:function(e){b.walletConnectUri=e},setIsCustomDesktop:function(e){b.isCustomDesktop=e},setIsCustomMobile:function(e){b.isCustomMobile=e},setIsDataLoaded:function(e){b.isDataLoaded=e},setIsUiLoaded:function(e){b.isUiLoaded=e},setIsAuth:function(e){b.isAuth=e}},g=(0,c.sj)({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),I={state:g,subscribe:function(e){return(0,c.Ld)(g,(function(){return e(g)}))},setConfig:function(e){var t,n;v.initialize(),y.setChains(e.chains),y.setIsAuth(Boolean(e.enableAuthMode)),y.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),y.setIsCustomDesktop(Boolean(null==(n=e.desktopWallets)?void 0:n.length)),p.setModalVersionInStorage(),Object.assign(g,e)}},w=Object.defineProperty,C=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,L=function(e,t,n){return t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},O=function(e,t){for(var n in t||(t={}))W.call(t,n)&&L(e,n,t[n]);if(C){var r,o=u(C(t));try{for(o.s();!(r=o.n()).done;){n=r.value;k.call(t,n)&&L(e,n,t[n])}}catch(a){o.e(a)}finally{o.f()}}return e},E="https://explorer-api.walletconnect.com",j="wcm",A="js-2.6.1";function x(e,t){return U.apply(this,arguments)}function U(){return(U=(0,o.Z)(s().mark((function e(t,n){var r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O({sdkType:j,sdkVersion:A},n),(o=new URL(t,E)).searchParams.append("projectId",I.state.projectId),Object.entries(r).forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];r&&o.searchParams.append(n,String(r))})),e.next=5,fetch(o);case 5:return e.abrupt("return",e.sent.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){return(0,o.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("/w3m/v1/getDesktopListings",e));case 1:case"end":return t.stop()}}),t)})))()},D=function(e){return(0,o.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("/w3m/v1/getMobileListings",e));case 1:case"end":return t.stop()}}),t)})))()},S=function(e){return(0,o.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("/w3m/v1/getAllListings",e));case 1:case"end":return t.stop()}}),t)})))()},N=function(e){return"".concat(E,"/w3m/v1/getWalletImage/").concat(e,"?projectId=").concat(I.state.projectId,"&sdkType=").concat(j,"&sdkVersion=").concat(A)},T=function(e){return"".concat(E,"/w3m/v1/getAssetImage/").concat(e,"?projectId=").concat(I.state.projectId,"&sdkType=").concat(j,"&sdkVersion=").concat(A)},P=Object.defineProperty,_=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,V=function(e,t,n){return t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},H=function(e,t){for(var n in t||(t={}))Z.call(t,n)&&V(e,n,t[n]);if(_){var r,o=u(_(t));try{for(o.s();!(r=o.n()).done;){n=r.value;R.call(t,n)&&V(e,n,t[n])}}catch(a){o.e(a)}finally{o.f()}}return e},B=p.isMobile(),K=(0,c.sj)({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),z={state:K,getRecomendedWallets:function(){return(0,o.Z)(s().mark((function e(){var t,n,r,o,a,i,c,u,l,d,f,m,h,v,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=I.state,n=t.explorerRecommendedWalletIds,r=t.explorerExcludedWalletIds,"NONE"!==n&&("ALL"!==r||n)){e.next=3;break}return e.abrupt("return",K.recomendedWallets);case 3:if(!p.isArray(n)){e.next=13;break}return o={recommendedIds:n.join(",")},e.next=7,S(o);case 7:a=e.sent,i=a.listings,(c=Object.values(i)).sort((function(e,t){return n.indexOf(e.id)-n.indexOf(t.id)})),K.recomendedWallets=c,e.next=31;break;case 13:if(u=y.state,l=u.chains,d=u.isAuth,f=null==l?void 0:l.join(","),m=p.isArray(r),h={page:1,sdks:d?"auth_v1":void 0,entries:p.RECOMMENDED_WALLET_AMOUNT,chains:f,version:2,excludedIds:m?r.join(","):void 0},!B){e.next=25;break}return e.next=22,D(h);case 22:e.t0=e.sent,e.next=28;break;case 25:return e.next=27,M(h);case 27:e.t0=e.sent;case 28:v=e.t0,b=v.listings,K.recomendedWallets=Object.values(b);case 31:return e.abrupt("return",K.recomendedWallets);case 32:case"end":return e.stop()}}),e)})))()},getWallets:function(e){return(0,o.Z)(s().mark((function t(){var n,o,a,i,c,u,l,d,f,m,h,v;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=H({},e),o=I.state,a=o.explorerRecommendedWalletIds,i=o.explorerExcludedWalletIds,c=K.recomendedWallets,"ALL"!==i){t.next=3;break}return t.abrupt("return",K.wallets);case 3:if(c.length?n.excludedIds=c.map((function(e){return e.id})).join(","):p.isArray(a)&&(n.excludedIds=a.join(",")),p.isArray(i)&&(n.excludedIds=[n.excludedIds,i].filter(Boolean).join(",")),y.state.isAuth&&(n.sdks="auth_v1"),u=e.page,l=e.search,!B){t.next=12;break}return t.next=9,D(n);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,M(n);case 14:t.t0=t.sent;case 15:return d=t.t0,f=d.listings,m=d.total,h=Object.values(f),v=l?"search":"wallets",t.abrupt("return",(K[v]={listings:[].concat((0,r.Z)(K[v].listings),h),total:m,page:null!=u?u:1},{listings:h,total:m}));case 21:case"end":return t.stop()}}),t)})))()},getWalletImageUrl:function(e){return N(e)},getAssetImageUrl:function(e){return T(e)},resetSearch:function(){K.search={listings:[],total:0,page:1}}},J=(0,c.sj)({open:!1}),$={state:J,subscribe:function(e){return(0,c.Ld)(J,(function(){return e(J)}))},open:function(e){return(0,o.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=y.state,r=n.isUiLoaded,o=n.isDataLoaded;if(p.removeWalletConnectDeepLink(),y.setWalletConnectUri(null==e?void 0:e.uri),y.setChains(null==e?void 0:e.chains),f.reset("ConnectWallet"),r&&o)J.open=!0,t();else var a=setInterval((function(){var e=y.state;e.isUiLoaded&&e.isDataLoaded&&(clearInterval(a),J.open=!0,t())}),200)})));case 1:case"end":return t.stop()}}),t)})))()},close:function(){J.open=!1}},q=Object.defineProperty,F=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,X=function(e,t,n){return t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n};var Y=(0,c.sj)({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),ee={state:Y,subscribe:function(e){return(0,c.Ld)(Y,(function(){return e(Y)}))},setThemeConfig:function(e){var t=e.themeMode,n=e.themeVariables;t&&(Y.themeMode=t),n&&(Y.themeVariables=function(e,t){for(var n in t||(t={}))G.call(t,n)&&X(e,n,t[n]);if(F){var r,o=u(F(t));try{for(o.s();!(r=o.n()).done;)n=r.value,Q.call(t,n)&&X(e,n,t[n])}catch(a){o.e(a)}finally{o.f()}}return e}({},n))}},te=(0,c.sj)({open:!1,message:"",variant:"success"}),ne={state:te,subscribe:function(e){return(0,c.Ld)(te,(function(){return e(te)}))},openToast:function(e,t){te.open=!0,te.message=e,te.variant=t},closeToast:function(){te.open=!1}}},1046:function(e,t,n){n.r(t),n.d(t,{WalletConnectModal:function(){return u}});var r=n(5861),o=n(5671),a=n(3144),i=n(4687),s=n.n(i),c=n(6845),u=function(){function e(t){(0,o.Z)(this,e),this.openModal=c.jb.open,this.closeModal=c.jb.close,this.subscribeModal=c.jb.subscribe,this.setTheme=c.Ic.setThemeConfig,c.Ic.setThemeConfig(t),c.t0.setConfig(t),this.initUi()}var t;return(0,a.Z)(e,[{key:"initUi",value:(t=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(typeof window<"u")){e.next=5;break}return e.next=3,Promise.all([n.e(317),n.e(305)]).then(n.bind(n,305));case 3:t=document.createElement("wcm-modal"),document.body.insertAdjacentElement("beforeend",t),c.zb.setIsUiLoaded(!0);case 5:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}()}}]);
//# sourceMappingURL=46-6863bd9a9087cec1c956.js.map