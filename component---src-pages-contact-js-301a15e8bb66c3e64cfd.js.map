{"version":3,"file":"component---src-pages-contact-js-301a15e8bb66c3e64cfd.js","mappings":"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","sources":["webpack://poetry.me.uk/./node_modules/core-js/internals/a-constructor.js","webpack://poetry.me.uk/./node_modules/core-js/internals/advance-string-index.js","webpack://poetry.me.uk/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://poetry.me.uk/./node_modules/core-js/internals/create-iter-result-object.js","webpack://poetry.me.uk/./node_modules/core-js/internals/iterator-create-constructor.js","webpack://poetry.me.uk/./node_modules/core-js/internals/iterators-core.js","webpack://poetry.me.uk/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://poetry.me.uk/./node_modules/core-js/internals/promise-native-constructor.js","webpack://poetry.me.uk/./node_modules/core-js/internals/promise-resolve.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-exec.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://poetry.me.uk/./node_modules/core-js/internals/set-to-string-tag.js","webpack://poetry.me.uk/./node_modules/core-js/internals/species-constructor.js","webpack://poetry.me.uk/./node_modules/core-js/internals/string-multibyte.js","webpack://poetry.me.uk/./node_modules/core-js/modules/es.promise.finally.js","webpack://poetry.me.uk/./node_modules/core-js/modules/es.string.match-all.js","webpack://poetry.me.uk/./node_modules/core-js/modules/esnext.string.match-all.js","webpack://poetry.me.uk/./src/images/youtube.png","webpack://poetry.me.uk/./src/images/email.png","webpack://poetry.me.uk/./node_modules/@babel/runtime/helpers/esm/OverloadYield.js","webpack://poetry.me.uk/./node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js","webpack://poetry.me.uk/./node_modules/@babel/runtime/helpers/esm/AsyncGenerator.js","webpack://poetry.me.uk/./node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/_assert.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/crypto.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/utils.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/_sha2.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/sha256.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/abstract/utils.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/abstract/modular.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/abstract/curve.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/abstract/weierstrass.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/hmac.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/_shortw_utils.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/secp256k1.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@scure/base/lib/esm/index.js","webpack://poetry.me.uk/./node_modules/@scure/bip39/esm/wordlists/english.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/hmac.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/pbkdf2.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/_sha2.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/sha256.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/sha512.js","webpack://poetry.me.uk/./node_modules/@scure/base/lib/esm/index.js","webpack://poetry.me.uk/./node_modules/@scure/bip39/esm/index.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/ripemd160.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/_u64.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/sha512.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@scure/bip32/lib/esm/index.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/utils.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/_assert.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/_poly1305.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/_salsa.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/chacha.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/hkdf.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/nostr-tools/lib/esm/index.js","webpack://poetry.me.uk/./node_modules/jotai/esm/index.mjs","webpack://poetry.me.uk/./node_modules/nostr-react/dist/nostr-react.esm.js","webpack://poetry.me.uk/./src/images/nostr.png","webpack://poetry.me.uk/./src/pages/contact.js"],"sourcesContent":["var isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a constructor');\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar $TypeError = TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw $TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","var defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn(target, TO_STRING_TAG)) {\n    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var anObject = require('../internals/an-object');\nvar aConstructor = require('../internals/a-constructor');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromiseConstructor && fails(function () {\n  // eslint-disable-next-line unicorn/no-thenable -- required for testing\n  NativePromisePrototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = isCallable(onFinally);\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && isCallable(NativePromiseConstructor)) {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromisePrototype['finally'] !== method) {\n    defineBuiltIn(NativePromisePrototype, 'finally', method, { unsafe: true });\n  }\n}\n","'use strict';\n/* eslint-disable es/no-string-prototype-matchall -- safe */\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar createIteratorConstructor = require('../internals/iterator-create-constructor');\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar classof = require('../internals/classof-raw');\nvar isRegExp = require('../internals/is-regexp');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar getMethod = require('../internals/get-method');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar InternalStateModule = require('../internals/internal-state');\nvar IS_PURE = require('../internals/is-pure');\n\nvar MATCH_ALL = wellKnownSymbol('matchAll');\nvar REGEXP_STRING = 'RegExp String';\nvar REGEXP_STRING_ITERATOR = REGEXP_STRING + ' Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(REGEXP_STRING_ITERATOR);\nvar RegExpPrototype = RegExp.prototype;\nvar $TypeError = TypeError;\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar nativeMatchAll = uncurryThis(''.matchAll);\n\nvar WORKS_WITH_NON_GLOBAL_REGEX = !!nativeMatchAll && !fails(function () {\n  nativeMatchAll('a', /./);\n});\n\nvar $RegExpStringIterator = createIteratorConstructor(function RegExpStringIterator(regexp, string, $global, fullUnicode) {\n  setInternalState(this, {\n    type: REGEXP_STRING_ITERATOR,\n    regexp: regexp,\n    string: string,\n    global: $global,\n    unicode: fullUnicode,\n    done: false\n  });\n}, REGEXP_STRING, function next() {\n  var state = getInternalState(this);\n  if (state.done) return createIterResultObject(undefined, true);\n  var R = state.regexp;\n  var S = state.string;\n  var match = regExpExec(R, S);\n  if (match === null) {\n    state.done = true;\n    return createIterResultObject(undefined, true);\n  }\n  if (state.global) {\n    if (toString(match[0]) === '') R.lastIndex = advanceStringIndex(S, toLength(R.lastIndex), state.unicode);\n    return createIterResultObject(match, false);\n  }\n  state.done = true;\n  return createIterResultObject(match, false);\n});\n\nvar $matchAll = function (string) {\n  var R = anObject(this);\n  var S = toString(string);\n  var C = speciesConstructor(R, RegExp);\n  var flags = toString(getRegExpFlags(R));\n  var matcher, $global, fullUnicode;\n  matcher = new C(C === RegExp ? R.source : R, flags);\n  $global = !!~stringIndexOf(flags, 'g');\n  fullUnicode = !!~stringIndexOf(flags, 'u');\n  matcher.lastIndex = toLength(R.lastIndex);\n  return new $RegExpStringIterator(matcher, S, $global, fullUnicode);\n};\n\n// `String.prototype.matchAll` method\n// https://tc39.es/ecma262/#sec-string.prototype.matchall\n$({ target: 'String', proto: true, forced: WORKS_WITH_NON_GLOBAL_REGEX }, {\n  matchAll: function matchAll(regexp) {\n    var O = requireObjectCoercible(this);\n    var flags, S, matcher, rx;\n    if (!isNullOrUndefined(regexp)) {\n      if (isRegExp(regexp)) {\n        flags = toString(requireObjectCoercible(getRegExpFlags(regexp)));\n        if (!~stringIndexOf(flags, 'g')) throw $TypeError('`.matchAll` does not allow non-global regexes');\n      }\n      if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll(O, regexp);\n      matcher = getMethod(regexp, MATCH_ALL);\n      if (matcher === undefined && IS_PURE && classof(regexp) == 'RegExp') matcher = $matchAll;\n      if (matcher) return call(matcher, regexp, O);\n    } else if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll(O, regexp);\n    S = toString(O);\n    rx = new RegExp(regexp, 'g');\n    return IS_PURE ? call($matchAll, rx, S) : rx[MATCH_ALL](S);\n  }\n});\n\nIS_PURE || MATCH_ALL in RegExpPrototype || defineBuiltIn(RegExpPrototype, MATCH_ALL, $matchAll);\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.string.match-all');\n","export default __webpack_public_path__ + \"static/youtube-2dda02a185aa42b635c96d700405101d.png\";","export default __webpack_public_path__ + \"static/email-a0dcd8b08d16e0369ae8181a37966e7e.png\";","export default function _OverloadYield(t, e) {\n  this.v = t, this.k = e;\n}","import OverloadYield from \"./OverloadYield.js\";\nexport default function _awaitAsyncGenerator(e) {\n  return new OverloadYield(e, 0);\n}","import OverloadYield from \"./OverloadYield.js\";\nexport default function AsyncGenerator(e) {\n  var r, t;\n  function resume(r, t) {\n    try {\n      var n = e[r](t),\n        o = n.value,\n        u = o instanceof OverloadYield;\n      Promise.resolve(u ? o.v : o).then(function (t) {\n        if (u) {\n          var i = \"return\" === r ? \"return\" : \"next\";\n          if (!o.k || t.done) return resume(i, t);\n          t = e[i](t).value;\n        }\n        settle(n.done ? \"return\" : \"normal\", t);\n      }, function (e) {\n        resume(\"throw\", e);\n      });\n    } catch (e) {\n      settle(\"throw\", e);\n    }\n  }\n  function settle(e, n) {\n    switch (e) {\n      case \"return\":\n        r.resolve({\n          value: n,\n          done: !0\n        });\n        break;\n      case \"throw\":\n        r.reject(n);\n        break;\n      default:\n        r.resolve({\n          value: n,\n          done: !1\n        });\n    }\n    (r = r.next) ? resume(r.key, r.arg) : t = null;\n  }\n  this._invoke = function (e, n) {\n    return new Promise(function (o, u) {\n      var i = {\n        key: e,\n        arg: n,\n        resolve: o,\n        reject: u,\n        next: null\n      };\n      t ? t = t.next = i : (r = t = i, resume(e, n));\n    });\n  }, \"function\" != typeof e[\"return\"] && (this[\"return\"] = void 0);\n}\nAsyncGenerator.prototype[\"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\"] = function () {\n  return this;\n}, AsyncGenerator.prototype.next = function (e) {\n  return this._invoke(\"next\", e);\n}, AsyncGenerator.prototype[\"throw\"] = function (e) {\n  return this._invoke(\"throw\", e);\n}, AsyncGenerator.prototype[\"return\"] = function (e) {\n  return this._invoke(\"return\", e);\n};","import AsyncGenerator from \"./AsyncGenerator.js\";\nexport default function _wrapAsyncGenerator(fn) {\n  return function () {\n    return new AsyncGenerator(fn.apply(this, arguments));\n  };\n}","export function number(n) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(\"Wrong positive integer: \".concat(n));\n}\nexport function bool(b) {\n  if (typeof b !== 'boolean') throw new Error(\"Expected boolean, not \".concat(b));\n}\nexport function bytes(b) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  for (var _len = arguments.length, lengths = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    lengths[_key - 1] = arguments[_key];\n  }\n  if (lengths.length > 0 && !lengths.includes(b.length)) throw new Error(\"Expected Uint8Array of length \".concat(lengths, \", not of length=\").concat(b.length));\n}\nexport function hash(hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function') throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\nexport function exists(instance) {\n  var checkFinished = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nexport function output(out, instance) {\n  bytes(out);\n  var min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(\"digestInto() expects output buffer of length at least \".concat(min));\n  }\n}\nvar assert = {\n  number: number,\n  bool: bool,\n  bytes: bytes,\n  hash: hash,\n  exists: exists,\n  output: output\n};\nexport default assert;","import \"core-js/modules/esnext.global-this.js\";\nexport var crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _asyncToGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/regenerator/index.js\";\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nvar u8a = function u8a(a) {\n  return a instanceof Uint8Array;\n};\n// Cast array to different type\nexport var u8 = function u8(arr) {\n  return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n};\nexport var u32 = function u32(arr) {\n  return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n};\n// Cast array to view\nexport var createView = function createView(arr) {\n  return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n};\n// The rotate right (circular right shift) operation for uint32\nexport var rotr = function rotr(word, shift) {\n  return word << 32 - shift | word >>> shift;\n};\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport var isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\nvar hexes = Array.from({\n  length: 256\n}, function (v, i) {\n  return i.toString(16).padStart(2, '0');\n});\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  var hex = '';\n  for (var i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  var len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  var array = new Uint8Array(len / 2);\n  for (var i = 0; i < array.length; i++) {\n    var j = i * 2;\n    var hexByte = hex.slice(j, j + 2);\n    var byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport var nextTick = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function nextTick() {\n    return _ref.apply(this, arguments);\n  };\n}();\n// Returns control to thread each 'tick' ms to avoid blocking\nexport function asyncLoop(_x, _x2, _x3) {\n  return _asyncLoop.apply(this, arguments);\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction _asyncLoop() {\n  _asyncLoop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(iters, tick, cb) {\n    var ts, i, diff;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            ts = Date.now();\n            i = 0;\n          case 2:\n            if (!(i < iters)) {\n              _context2.next = 13;\n              break;\n            }\n            cb(i);\n            // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n            diff = Date.now() - ts;\n            if (!(diff >= 0 && diff < tick)) {\n              _context2.next = 7;\n              break;\n            }\n            return _context2.abrupt(\"continue\", 10);\n          case 7:\n            _context2.next = 9;\n            return nextTick();\n          case 9:\n            ts += diff;\n          case 10:\n            i++;\n            _context2.next = 2;\n            break;\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _asyncLoop.apply(this, arguments);\n}\nexport function utf8ToBytes(str) {\n  if (typeof str !== 'string') throw new Error(\"utf8ToBytes expected string, got \".concat(typeof str));\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(\"expected Uint8Array, got \".concat(typeof data));\n  return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes() {\n  for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n    arrays[_key] = arguments[_key];\n  }\n  var r = new Uint8Array(arrays.reduce(function (sum, a) {\n    return sum + a.length;\n  }, 0));\n  var pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach(function (a) {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n// For runtime check if class implements interface\nexport var Hash = /*#__PURE__*/function () {\n  function Hash() {\n    _classCallCheck(this, Hash);\n  }\n  _createClass(Hash, [{\n    key: \"clone\",\n    value:\n    // Safe version that clones internal state\n    function clone() {\n      return this._cloneInto();\n    }\n  }]);\n  return Hash;\n}();\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nvar isPlainObject = function isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\n};\nexport function checkOpts(defaults, opts) {\n  if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts))) throw new Error('Options should be object or undefined');\n  var merged = Object.assign(defaults, opts);\n  return merged;\n}\nexport function wrapConstructor(hashCons) {\n  var hashC = function hashC(msg) {\n    return hashCons().update(toBytes(msg)).digest();\n  };\n  var tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = function () {\n    return hashCons();\n  };\n  return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n  var hashC = function hashC(msg, opts) {\n    return hashCons(opts).update(toBytes(msg)).digest();\n  };\n  var tmp = hashCons({});\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = function (opts) {\n    return hashCons(opts);\n  };\n  return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n  var hashC = function hashC(msg, opts) {\n    return hashCons(opts).update(toBytes(msg)).digest();\n  };\n  var tmp = hashCons({});\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = function (opts) {\n    return hashCons(opts);\n  };\n  return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes() {\n  var bytesLength = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}","import _toConsumableArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport assert from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  var _32n = BigInt(32);\n  var _u32_max = BigInt(0xffffffff);\n  var wh = Number(value >> _32n & _u32_max);\n  var wl = Number(value & _u32_max);\n  var h = isLE ? 4 : 0;\n  var l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport var SHA2 = /*#__PURE__*/function (_Hash) {\n  _inherits(SHA2, _Hash);\n  var _super = _createSuper(SHA2);\n  function SHA2(blockLen, outputLen, padOffset, isLE) {\n    var _this;\n    _classCallCheck(this, SHA2);\n    _this = _super.call(this);\n    _this.blockLen = blockLen;\n    _this.outputLen = outputLen;\n    _this.padOffset = padOffset;\n    _this.isLE = isLE;\n    _this.finished = false;\n    _this.length = 0;\n    _this.pos = 0;\n    _this.destroyed = false;\n    _this.buffer = new Uint8Array(blockLen);\n    _this.view = createView(_this.buffer);\n    return _this;\n  }\n  _createClass(SHA2, [{\n    key: \"update\",\n    value: function update(data) {\n      assert.exists(this);\n      var view = this.view,\n        buffer = this.buffer,\n        blockLen = this.blockLen;\n      data = toBytes(data);\n      var len = data.length;\n      for (var pos = 0; pos < len;) {\n        var take = Math.min(blockLen - this.pos, len - pos);\n        // Fast path: we have at least one block in input, cast it to view and process\n        if (take === blockLen) {\n          var dataView = createView(data);\n          for (; blockLen <= len - pos; pos += blockLen) {\n            this.process(dataView, pos);\n          }\n          continue;\n        }\n        buffer.set(data.subarray(pos, pos + take), this.pos);\n        this.pos += take;\n        pos += take;\n        if (this.pos === blockLen) {\n          this.process(view, 0);\n          this.pos = 0;\n        }\n      }\n      this.length += data.length;\n      this.roundClean();\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assert.exists(this);\n      assert.output(out, this);\n      this.finished = true;\n      // Padding\n      // We can avoid allocation of buffer for padding completely if it\n      // was previously not allocated here. But it won't change performance.\n      var buffer = this.buffer,\n        view = this.view,\n        blockLen = this.blockLen,\n        isLE = this.isLE;\n      var pos = this.pos;\n      // append the bit '1' to the message\n      buffer[pos++] = 128;\n      this.buffer.subarray(pos).fill(0);\n      // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n      if (this.padOffset > blockLen - pos) {\n        this.process(view, 0);\n        pos = 0;\n      }\n      // Pad until full block byte with zeros\n      for (var i = pos; i < blockLen; i++) {\n        buffer[i] = 0;\n      }\n      // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n      // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n      // So we just write lowest 64 bits of that value.\n      setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n      this.process(view, 0);\n      var oview = createView(out);\n      var len = this.outputLen;\n      // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n      if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n      var outLen = len / 4;\n      var state = this.get();\n      if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n      for (var _i = 0; _i < outLen; _i++) {\n        oview.setUint32(4 * _i, state[_i], isLE);\n      }\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var buffer = this.buffer,\n        outputLen = this.outputLen;\n      this.digestInto(buffer);\n      var res = buffer.slice(0, outputLen);\n      this.destroy();\n      return res;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      var _to;\n      to || (to = new this.constructor());\n      (_to = to).set.apply(_to, _toConsumableArray(this.get()));\n      var blockLen = this.blockLen,\n        buffer = this.buffer,\n        length = this.length,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        pos = this.pos;\n      to.length = length;\n      to.pos = pos;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      if (length % blockLen) to.buffer.set(buffer);\n      return to;\n    }\n  }]);\n  return SHA2;\n}(Hash);","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n// Choice: a ? b : c\nvar Chi = function Chi(a, b, c) {\n  return a & b ^ ~a & c;\n};\n// Majority function, true if any two inpust is true\nvar Maj = function Maj(a, b, c) {\n  return a & b ^ a & c ^ b & c;\n};\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nvar SHA256_K = new Uint32Array([0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nvar IV = new Uint32Array([0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nvar SHA256_W = new Uint32Array(64);\nvar SHA256 = /*#__PURE__*/function (_SHA) {\n  _inherits(SHA256, _SHA);\n  var _super = _createSuper(SHA256);\n  function SHA256() {\n    var _this;\n    _classCallCheck(this, SHA256);\n    _this = _super.call(this, 64, 32, 8, false);\n    // We cannot use array here since array allows indexing by variable\n    // which means optimizer/compiler cannot use registers.\n    _this.A = IV[0] | 0;\n    _this.B = IV[1] | 0;\n    _this.C = IV[2] | 0;\n    _this.D = IV[3] | 0;\n    _this.E = IV[4] | 0;\n    _this.F = IV[5] | 0;\n    _this.G = IV[6] | 0;\n    _this.H = IV[7] | 0;\n    return _this;\n  }\n  _createClass(SHA256, [{\n    key: \"get\",\n    value: function get() {\n      var A = this.A,\n        B = this.B,\n        C = this.C,\n        D = this.D,\n        E = this.E,\n        F = this.F,\n        G = this.G,\n        H = this.H;\n      return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n  }, {\n    key: \"set\",\n    value: function set(A, B, C, D, E, F, G, H) {\n      this.A = A | 0;\n      this.B = B | 0;\n      this.C = C | 0;\n      this.D = D | 0;\n      this.E = E | 0;\n      this.F = F | 0;\n      this.G = G | 0;\n      this.H = H | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n      for (var i = 0; i < 16; i++, offset += 4) {\n        SHA256_W[i] = view.getUint32(offset, false);\n      }\n      for (var _i = 16; _i < 64; _i++) {\n        var W15 = SHA256_W[_i - 15];\n        var W2 = SHA256_W[_i - 2];\n        var s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ W15 >>> 3;\n        var s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ W2 >>> 10;\n        SHA256_W[_i] = s1 + SHA256_W[_i - 7] + s0 + SHA256_W[_i - 16] | 0;\n      }\n      // Compression function main loop, 64 rounds\n      var A = this.A,\n        B = this.B,\n        C = this.C,\n        D = this.D,\n        E = this.E,\n        F = this.F,\n        G = this.G,\n        H = this.H;\n      for (var i = 0; i < 64; i++) {\n        var sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n        var T1 = H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i] | 0;\n        var sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n        var T2 = sigma0 + Maj(A, B, C) | 0;\n        H = G;\n        G = F;\n        F = E;\n        E = D + T1 | 0;\n        D = C;\n        C = B;\n        B = A;\n        A = T1 + T2 | 0;\n      }\n      // Add the compressed chunk to the current hash value\n      A = A + this.A | 0;\n      B = B + this.B | 0;\n      C = C + this.C | 0;\n      D = D + this.D | 0;\n      E = E + this.E | 0;\n      F = F + this.F | 0;\n      G = G + this.G | 0;\n      H = H + this.H | 0;\n      this.set(A, B, C, D, E, F, G, H);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      SHA256_W.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.set(0, 0, 0, 0, 0, 0, 0, 0);\n      this.buffer.fill(0);\n    }\n  }]);\n  return SHA256;\n}(SHA2); // Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nvar SHA224 = /*#__PURE__*/function (_SHA2) {\n  _inherits(SHA224, _SHA2);\n  var _super2 = _createSuper(SHA224);\n  function SHA224() {\n    var _this2;\n    _classCallCheck(this, SHA224);\n    _this2 = _super2.call(this);\n    _this2.A = 0xc1059ed8 | 0;\n    _this2.B = 0x367cd507 | 0;\n    _this2.C = 0x3070dd17 | 0;\n    _this2.D = 0xf70e5939 | 0;\n    _this2.E = 0xffc00b31 | 0;\n    _this2.F = 0x68581511 | 0;\n    _this2.G = 0x64f98fa7 | 0;\n    _this2.H = 0xbefa4fa4 | 0;\n    _this2.outputLen = 28;\n    return _this2;\n  }\n  return _createClass(SHA224);\n}(SHA256);\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport var sha256 = wrapConstructor(function () {\n  return new SHA256();\n});\nexport var sha224 = wrapConstructor(function () {\n  return new SHA224();\n});","import _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nvar _0n = BigInt(0);\nvar _1n = BigInt(1);\nvar _2n = BigInt(2);\nvar u8a = function u8a(a) {\n  return a instanceof Uint8Array;\n};\nvar hexes = Array.from({\n  length: 256\n}, function (v, i) {\n  return i.toString(16).padStart(2, '0');\n});\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  var hex = '';\n  for (var i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\nexport function numberToHexUnpadded(num) {\n  var hex = num.toString(16);\n  return hex.length & 1 ? \"0\".concat(hex) : hex;\n}\nexport function hexToNumber(hex) {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // Big Endian\n  return BigInt(hex === '' ? '0' : \"0x\".concat(hex));\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  var len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  var array = new Uint8Array(len / 2);\n  for (var i = 0; i < array.length; i++) {\n    var j = i * 2;\n    var hexByte = hex.slice(j, j + 2);\n    var byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes) {\n  return hexToNumber(bytesToHex(bytes));\n}\nexport function bytesToNumberLE(bytes) {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\nexport function numberToBytesBE(n, len) {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n, len) {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n) {\n  return hexToBytes(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title, hex, expectedLength) {\n  var res;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes(hex);\n    } catch (e) {\n      throw new Error(\"\".concat(title, \" must be valid hex string, got \\\"\").concat(hex, \"\\\". Cause: \").concat(e));\n    }\n  } else if (u8a(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(\"\".concat(title, \" must be hex string or Uint8Array\"));\n  }\n  var len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength) throw new Error(\"\".concat(title, \" expected \").concat(expectedLength, \" bytes, got \").concat(len));\n  return res;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes() {\n  for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n    arrays[_key] = arguments[_key];\n  }\n  var r = new Uint8Array(arrays.reduce(function (sum, a) {\n    return sum + a.length;\n  }, 0));\n  var pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach(function (a) {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\nexport function equalBytes(b1, b2) {\n  // We don't care about timing attacks here\n  if (b1.length !== b2.length) return false;\n  for (var i = 0; i < b1.length; i++) {\n    if (b1[i] !== b2[i]) return false;\n  }\n  return true;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n  if (typeof str !== 'string') throw new Error(\"utf8ToBytes expected string, got \".concat(typeof str));\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nexport function bitLen(n) {\n  var len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1) {\n    ;\n  }\n  return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n, pos) {\n  return n >> BigInt(pos) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nexport var bitSet = function bitSet(n, pos, value) {\n  return n | (value ? _1n : _0n) << BigInt(pos);\n};\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport var bitMask = function bitMask(n) {\n  return (_2n << BigInt(n - 1)) - _1n;\n};\n// DRBG\nvar u8n = function u8n(data) {\n  return new Uint8Array(data);\n}; // creates Uint8Array\nvar u8fr = function u8fr(arr) {\n  return Uint8Array.from(arr);\n}; // another shortcut\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg(hashLen, qByteLen, hmacFn) {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  var v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  var k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  var i = 0; // Iterations counter, will throw when over 1000\n  var reset = function reset() {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  var h = function h() {\n    for (var _len2 = arguments.length, b = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      b[_key2] = arguments[_key2];\n    }\n    return hmacFn.apply(void 0, [k, v].concat(b));\n  }; // hmac(k)(v, ...values)\n  var reseed = function reseed() {\n    var seed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : u8n();\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n\n  var gen = function gen() {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    var len = 0;\n    var out = [];\n    while (len < qByteLen) {\n      v = h();\n      var sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes.apply(void 0, out);\n  };\n  var genUntil = function genUntil(seed, pred) {\n    reset();\n    reseed(seed); // Steps D-G\n    var res = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) {\n      reseed();\n    }\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n// Validating curves and fields\nvar validatorFns = {\n  bigint: function bigint(val) {\n    return typeof val === 'bigint';\n  },\n  function: function _function(val) {\n    return typeof val === 'function';\n  },\n  boolean: function boolean(val) {\n    return typeof val === 'boolean';\n  },\n  string: function string(val) {\n    return typeof val === 'string';\n  },\n  isSafeInteger: function isSafeInteger(val) {\n    return Number.isSafeInteger(val);\n  },\n  array: function array(val) {\n    return Array.isArray(val);\n  },\n  field: function field(val, object) {\n    return object.Fp.isValid(val);\n  },\n  hash: function hash(val) {\n    return typeof val === 'function' && Number.isSafeInteger(val.outputLen);\n  }\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nexport function validateObject(object, validators) {\n  var optValidators = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var checkField = function checkField(fieldName, type, isOptional) {\n    var checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function') throw new Error(\"Invalid validator \\\"\".concat(type, \"\\\", expected function\"));\n    var val = object[fieldName];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\"Invalid param \".concat(String(fieldName), \"=\").concat(val, \" (\").concat(typeof val, \"), expected \").concat(type));\n    }\n  };\n  for (var _i = 0, _Object$entries = Object.entries(validators); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      fieldName = _Object$entries$_i[0],\n      type = _Object$entries$_i[1];\n    checkField(fieldName, type, false);\n  }\n  for (var _i2 = 0, _Object$entries2 = Object.entries(optValidators); _i2 < _Object$entries2.length; _i2++) {\n    var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),\n      _fieldName = _Object$entries2$_i[0],\n      _type = _Object$entries2$_i[1];\n    checkField(_fieldName, _type, true);\n  }\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Utilities for modular arithmetics and finite fields\nimport { bitMask, numberToBytesBE, numberToBytesLE, bytesToNumberBE, bytesToNumberLE, ensureBytes, validateObject } from './utils.js';\n// prettier-ignore\nvar _0n = BigInt(0),\n  _1n = BigInt(1),\n  _2n = BigInt(2),\n  _3n = BigInt(3);\n// prettier-ignore\nvar _4n = BigInt(4),\n  _5n = BigInt(5),\n  _8n = BigInt(8);\n// prettier-ignore\nvar _9n = BigInt(9),\n  _16n = BigInt(16);\n// Calculates a modulo b\nexport function mod(a, b) {\n  var result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\n// TODO: use field version && remove\nexport function pow(num, power, modulo) {\n  if (modulo <= _0n || power < _0n) throw new Error('Expected power/modulo > 0');\n  if (modulo === _1n) return _0n;\n  var res = _1n;\n  while (power > _0n) {\n    if (power & _1n) res = res * num % modulo;\n    num = num * num % modulo;\n    power >>= _1n;\n  }\n  return res;\n}\n// Does x ^ (2 ^ power) mod p. pow2(30, 4) == 30 ^ (2 ^ 4)\nexport function pow2(x, power, modulo) {\n  var res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n// Inverses number over modulo\nexport function invert(number, modulo) {\n  if (number === _0n || modulo <= _0n) {\n    throw new Error(\"invert: expected positive integers, got n=\".concat(number, \" mod=\").concat(modulo));\n  }\n  // Euclidean GCD https://brilliant.org/wiki/extended-euclidean-algorithm/\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  var a = mod(number, modulo);\n  var b = modulo;\n  // prettier-ignore\n  var x = _0n,\n    y = _1n,\n    u = _1n,\n    v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    var q = b / a;\n    var r = b % a;\n    var m = x - u * q;\n    var n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  var gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n// Tonelli-Shanks algorithm\n// Paper 1: https://eprint.iacr.org/2012/685.pdf (page 12)\n// Paper 2: Square Roots from 1; 24, 51, 10 to Dan Shanks\nexport function tonelliShanks(P) {\n  // Legendre constant: used to calculate Legendre symbol (a | p),\n  // which denotes the value of a^((p-1)/2) (mod p).\n  // (a | p)  1    if a is a square (mod p)\n  // (a | p)  -1   if a is not a square (mod p)\n  // (a | p)  0    if a  0 (mod p)\n  var legendreC = (P - _1n) / _2n;\n  var Q, S, Z;\n  // Step 1: By factoring out powers of 2 from p - 1,\n  // find q and s such that p - 1 = q*(2^s) with q odd\n  for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++) {\n    ;\n  }\n  // Step 2: Select a non-square z such that (z | p)  -1 and set c  zq\n  for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++) {\n    ;\n  }\n  // Fast-path\n  if (S === 1) {\n    var p1div4 = (P + _1n) / _4n;\n    return function tonelliFast(Fp, n) {\n      var root = Fp.pow(n, p1div4);\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n  // Slow-path\n  var Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow(Fp, n) {\n    // Step 0: Check that n is indeed a square: (n | p) should not be  -1\n    if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE)) throw new Error('Cannot find square root');\n    var r = S;\n    // TODO: will fail at Fp2/etc\n    var g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n    var x = Fp.pow(n, Q1div2); // first guess at the square root\n    var b = Fp.pow(n, Q); // first guess at the fudge factor\n    while (!Fp.eql(b, Fp.ONE)) {\n      if (Fp.eql(b, Fp.ZERO)) return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n      // Find m such b^(2^m)==1\n      var m = 1;\n      for (var t2 = Fp.sqr(b); m < r; m++) {\n        if (Fp.eql(t2, Fp.ONE)) break;\n        t2 = Fp.sqr(t2); // t2 *= t2\n      }\n      // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n      var ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n      g = Fp.sqr(ge); // g = ge * ge\n      x = Fp.mul(x, ge); // x *= ge\n      b = Fp.mul(b, g); // b *= g\n      r = m;\n    }\n    return x;\n  };\n}\nexport function FpSqrt(P) {\n  // NOTE: different algorithms can give different roots, it is up to user to decide which one they want.\n  // For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n  // P  3 (mod 4)\n  // n = n^((P+1)/4)\n  if (P % _4n === _3n) {\n    // Not all roots possible!\n    // const ORDER =\n    //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n    // const NUM = 72057594037927816n;\n    var p1div4 = (P + _1n) / _4n;\n    return function sqrt3mod4(Fp, n) {\n      var root = Fp.pow(n, p1div4);\n      // Throw if root**2 != n\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n  // Atkin algorithm for q  5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n  if (P % _8n === _5n) {\n    var c1 = (P - _5n) / _8n;\n    return function sqrt5mod8(Fp, n) {\n      var n2 = Fp.mul(n, _2n);\n      var v = Fp.pow(n2, c1);\n      var nv = Fp.mul(n, v);\n      var i = Fp.mul(Fp.mul(nv, _2n), v);\n      var root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n  // P  9 (mod 16)\n  if (P % _16n === _9n) {\n    // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n    // Means we cannot use sqrt for constants at all!\n    //\n    // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n    // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n    // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n    // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n    // sqrt = (x) => {\n    //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n    //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n    //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n    //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n    //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n    //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n    //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n    //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n    //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n    //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n    // }\n  }\n  // Other cases: Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nexport var isNegativeLE = function isNegativeLE(num, modulo) {\n  return (mod(num, modulo) & _1n) === _1n;\n};\n// prettier-ignore\nvar FIELD_FIELDS = ['create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr', 'eql', 'add', 'sub', 'mul', 'pow', 'div', 'addN', 'subN', 'mulN', 'sqrN'];\nexport function validateField(field) {\n  var initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'isSafeInteger',\n    BITS: 'isSafeInteger'\n  };\n  var opts = FIELD_FIELDS.reduce(function (map, val) {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  return validateObject(field, opts);\n}\n// Generic field functions\nexport function FpPow(f, num, power) {\n  // Should have same speed as pow for bigints\n  // TODO: benchmark!\n  if (power < _0n) throw new Error('Expected power > 0');\n  if (power === _0n) return f.ONE;\n  if (power === _1n) return num;\n  var p = f.ONE;\n  var d = num;\n  while (power > _0n) {\n    if (power & _1n) p = f.mul(p, d);\n    d = f.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n// 0 is non-invertible: non-batched version will throw on 0\nexport function FpInvertBatch(f, nums) {\n  var tmp = new Array(nums.length);\n  // Walk from first to last, multiply them by each other MOD p\n  var lastMultiplied = nums.reduce(function (acc, num, i) {\n    if (f.is0(num)) return acc;\n    tmp[i] = acc;\n    return f.mul(acc, num);\n  }, f.ONE);\n  // Invert last element\n  var inverted = f.inv(lastMultiplied);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight(function (acc, num, i) {\n    if (f.is0(num)) return acc;\n    tmp[i] = f.mul(acc, tmp[i]);\n    return f.mul(acc, num);\n  }, inverted);\n  return tmp;\n}\nexport function FpDiv(f, lhs, rhs) {\n  return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare(f) {\n  var legendreConst = (f.ORDER - _1n) / _2n; // Integer arithmetic\n  return function (x) {\n    var p = f.pow(x, legendreConst);\n    return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n  };\n}\n// CURVE.n lengths\nexport function nLength(n, nBitLength) {\n  // Bit size, byte size of CURVE.n\n  var _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  var nByteLength = Math.ceil(_nBitLength / 8);\n  return {\n    nBitLength: _nBitLength,\n    nByteLength: nByteLength\n  };\n}\n/**\n * Initializes a galois field over prime. Non-primes are not supported for now.\n * Do not init in loop: slow. Very fragile: always run a benchmark on change.\n * Major performance gains:\n * a) non-normalized operations like mulN instead of mul\n * b) `Object.freeze`\n * c) Same object shape: never add or remove keys\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(ORDER, bitLen) {\n  var isLE = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var redef = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  if (ORDER <= _0n) throw new Error(\"Expected Fp ORDER > 0, got \".concat(ORDER));\n  var _nLength = nLength(ORDER, bitLen),\n    BITS = _nLength.nBitLength,\n    BYTES = _nLength.nByteLength;\n  if (BYTES > 2048) throw new Error('Field lengths over 2048 bytes are not supported');\n  var sqrtP = FpSqrt(ORDER);\n  var f = Object.freeze({\n    ORDER: ORDER,\n    BITS: BITS,\n    BYTES: BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    create: function create(num) {\n      return mod(num, ORDER);\n    },\n    isValid: function isValid(num) {\n      if (typeof num !== 'bigint') throw new Error(\"Invalid field element: expected bigint, got \".concat(typeof num));\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n\n    is0: function is0(num) {\n      return num === _0n;\n    },\n    isOdd: function isOdd(num) {\n      return (num & _1n) === _1n;\n    },\n    neg: function neg(num) {\n      return mod(-num, ORDER);\n    },\n    eql: function eql(lhs, rhs) {\n      return lhs === rhs;\n    },\n    sqr: function sqr(num) {\n      return mod(num * num, ORDER);\n    },\n    add: function add(lhs, rhs) {\n      return mod(lhs + rhs, ORDER);\n    },\n    sub: function sub(lhs, rhs) {\n      return mod(lhs - rhs, ORDER);\n    },\n    mul: function mul(lhs, rhs) {\n      return mod(lhs * rhs, ORDER);\n    },\n    pow: function pow(num, power) {\n      return FpPow(f, num, power);\n    },\n    div: function div(lhs, rhs) {\n      return mod(lhs * invert(rhs, ORDER), ORDER);\n    },\n    // Same as above, but doesn't normalize\n    sqrN: function sqrN(num) {\n      return num * num;\n    },\n    addN: function addN(lhs, rhs) {\n      return lhs + rhs;\n    },\n    subN: function subN(lhs, rhs) {\n      return lhs - rhs;\n    },\n    mulN: function mulN(lhs, rhs) {\n      return lhs * rhs;\n    },\n    inv: function inv(num) {\n      return invert(num, ORDER);\n    },\n    sqrt: redef.sqrt || function (n) {\n      return sqrtP(f, n);\n    },\n    invertBatch: function invertBatch(lst) {\n      return FpInvertBatch(f, lst);\n    },\n    // TODO: do we really need constant cmov?\n    // We don't have const-time bigints anyway, so probably will be not very useful\n    cmov: function cmov(a, b, c) {\n      return c ? b : a;\n    },\n    toBytes: function toBytes(num) {\n      return isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES);\n    },\n    fromBytes: function fromBytes(bytes) {\n      if (bytes.length !== BYTES) throw new Error(\"Fp.fromBytes: expected \".concat(BYTES, \", got \").concat(bytes.length));\n      return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n    }\n  });\n  return Object.freeze(f);\n}\nexport function FpSqrtOdd(Fp, elm) {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  var root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nexport function FpSqrtEven(Fp, elm) {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  var root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * FIPS 186 B.4.1-compliant \"constant-time\" private key generation utility.\n * Can take (n+8) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 40 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. curveFn.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function hashToPrivateScalar(hash, groupOrder) {\n  var isLE = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  hash = ensureBytes('privateHash', hash);\n  var hashLen = hash.length;\n  var minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024) throw new Error(\"hashToPrivateScalar: expected \".concat(minLen, \"-1024 bytes of input, got \").concat(hashLen));\n  var num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}","import _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Abelian group utilities\nimport { validateField, nLength } from './modular.js';\nimport { validateObject } from './utils.js';\nvar _0n = BigInt(0);\nvar _1n = BigInt(1);\n// Elliptic curve multiplication of Point by scalar. Fragile.\n// Scalars should always be less than curve order: this should be checked inside of a curve itself.\n// Creates precomputation tables for fast multiplication:\n// - private scalar is split by fixed size windows of W bits\n// - every window point is collected from window's table & added to accumulator\n// - since windows are different, same point inside tables won't be accessed more than once per calc\n// - each multiplication is 'Math.ceil(CURVE_ORDER / ) + 1' point additions (fixed for any scalar)\n// - +1 window is neccessary for wNAF\n// - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n// TODO: Research returning 2d JS array of windows, instead of a single window. This would allow\n// windows to be in different memory locations\nexport function wNAF(c, bits) {\n  var constTimeNegate = function constTimeNegate(condition, item) {\n    var neg = item.negate();\n    return condition ? neg : item;\n  };\n  var opts = function opts(W) {\n    var windows = Math.ceil(bits / W) + 1; // +1, because\n    var windowSize = Math.pow(2, W - 1); // -1 because we skip zero\n    return {\n      windows: windows,\n      windowSize: windowSize\n    };\n  };\n  return {\n    constTimeNegate: constTimeNegate,\n    // non-const time multiplication ladder\n    unsafeLadder: function unsafeLadder(elm, n) {\n      var p = c.ZERO;\n      var d = elm;\n      while (n > _0n) {\n        if (n & _1n) p = p.add(d);\n        d = d.double();\n        n >>= _1n;\n      }\n      return p;\n    },\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(1) * (Math.ceil( / ) + 1), where:\n     * -  is the window size\n     * -  is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow: function precomputeWindow(elm, W) {\n      var _opts = opts(W),\n        windows = _opts.windows,\n        windowSize = _opts.windowSize;\n      var points = [];\n      var p = elm;\n      var base = p;\n      for (var window = 0; window < windows; window++) {\n        base = p;\n        points.push(base);\n        // =1, because we skip zero\n        for (var i = 1; i < windowSize; i++) {\n          base = base.add(p);\n          points.push(base);\n        }\n        p = base.double();\n      }\n      return points;\n    },\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @returns real and fake (for const-time) points\n     */\n    wNAF: function wNAF(W, precomputes, n) {\n      // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n      // But need to carefully remove other checks before wNAF. ORDER == bits here\n      var _opts2 = opts(W),\n        windows = _opts2.windows,\n        windowSize = _opts2.windowSize;\n      var p = c.ZERO;\n      var f = c.BASE;\n      var mask = BigInt(Math.pow(2, W) - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n      var maxNumber = Math.pow(2, W);\n      var shiftBy = BigInt(W);\n      for (var window = 0; window < windows; window++) {\n        var offset = window * windowSize;\n        // Extract W bits.\n        var wbits = Number(n & mask);\n        // Shift number by W bits.\n        n >>= shiftBy;\n        // If the bits are bigger than max size, we'll split those.\n        // +224 => 256 - 32\n        if (wbits > windowSize) {\n          wbits -= maxNumber;\n          n += _1n;\n        }\n        // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n        // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n        // there is negate now: it is possible that negated element from low value\n        // would be the same as high element, which will create carry into next window.\n        // It's not obvious how this can fail, but still worth investigating later.\n        // Check if we're onto Zero point.\n        // Add random point inside current window to f.\n        var offset1 = offset;\n        var offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n        var cond1 = window % 2 !== 0;\n        var cond2 = wbits < 0;\n        if (wbits === 0) {\n          // The most important part for const-time getPublicKey\n          f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n        } else {\n          p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n        }\n      }\n      // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n      // Even if the variable is still unused, there are some checks which will\n      // throw an exception, so compiler needs to prove they won't happen, which is hard.\n      // At this point there is a way to F be infinity-point even if p is not,\n      // which makes it less const-time: around 1 bigint multiply.\n      return {\n        p: p,\n        f: f\n      };\n    },\n    wNAFCached: function wNAFCached(P, precomputesMap, n, transform) {\n      // @ts-ignore\n      var W = P._WINDOW_SIZE || 1;\n      // Calculate precomputes on a first run, reuse them after\n      var comp = precomputesMap.get(P);\n      if (!comp) {\n        comp = this.precomputeWindow(P, W);\n        if (W !== 1) {\n          precomputesMap.set(P, transform(comp));\n        }\n      }\n      return this.wNAF(W, comp, n);\n    }\n  };\n}\nexport function validateBasic(curve) {\n  validateField(curve.Fp);\n  validateObject(curve, {\n    n: 'bigint',\n    h: 'bigint',\n    Gx: 'field',\n    Gy: 'field'\n  }, {\n    nBitLength: 'isSafeInteger',\n    nByteLength: 'isSafeInteger'\n  });\n  // Set defaults\n  return Object.freeze(_objectSpread(_objectSpread(_objectSpread({}, nLength(curve.n, curve.nBitLength)), curve), {\n    p: curve.Fp.ORDER\n  }));\n}","import _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _wrapNativeSuper from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Short Weierstrass curve. The formula is: y = x + ax + b\nimport * as mod from './modular.js';\nimport * as ut from './utils.js';\nimport { ensureBytes } from './utils.js';\nimport { wNAF, validateBasic } from './curve.js';\nfunction validatePointOpts(curve) {\n  var opts = validateBasic(curve);\n  ut.validateObject(opts, {\n    a: 'field',\n    b: 'field'\n  }, {\n    allowedPrivateKeyLengths: 'array',\n    wrapPrivateKey: 'boolean',\n    isTorsionFree: 'function',\n    clearCofactor: 'function',\n    allowInfinityPoint: 'boolean',\n    fromBytes: 'function',\n    toBytes: 'function'\n  });\n  var endo = opts.endo,\n    Fp = opts.Fp,\n    a = opts.a;\n  if (endo) {\n    if (!Fp.eql(a, Fp.ZERO)) {\n      throw new Error('Endomorphism can only be defined for Koblitz curves that have a=0');\n    }\n    if (typeof endo !== 'object' || typeof endo.beta !== 'bigint' || typeof endo.splitScalar !== 'function') {\n      throw new Error('Expected endomorphism with beta: bigint and splitScalar: function');\n    }\n  }\n  return Object.freeze(_objectSpread({}, opts));\n}\n// ASN.1 DER encoding utilities\nvar b2n = ut.bytesToNumberBE,\n  h2b = ut.hexToBytes;\nexport var DER = {\n  // asn.1 DER encoding utils\n  Err: /*#__PURE__*/function (_Error) {\n    _inherits(DERErr, _Error);\n    var _super = _createSuper(DERErr);\n    function DERErr() {\n      var m = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      _classCallCheck(this, DERErr);\n      return _super.call(this, m);\n    }\n    return _createClass(DERErr);\n  }( /*#__PURE__*/_wrapNativeSuper(Error)),\n  _parseInt: function _parseInt(data) {\n    var E = DER.Err;\n    if (data.length < 2 || data[0] !== 0x02) throw new E('Invalid signature integer tag');\n    var len = data[1];\n    var res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) throw new E('Invalid signature integer: wrong length');\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    if (res[0] & 128) throw new E('Invalid signature integer: negative');\n    if (res[0] === 0x00 && !(res[1] & 128)) throw new E('Invalid signature integer: unnecessary leading zero');\n    return {\n      d: b2n(res),\n      l: data.subarray(len + 2)\n    }; // d is data, l is left\n  },\n  toSig: function toSig(hex) {\n    // parse DER signature\n    var E = DER.Err;\n    var data = typeof hex === 'string' ? h2b(hex) : hex;\n    if (!(data instanceof Uint8Array)) throw new Error('ui8a expected');\n    var l = data.length;\n    if (l < 2 || data[0] != 0x30) throw new E('Invalid signature tag');\n    if (data[1] !== l - 2) throw new E('Invalid signature: incorrect length');\n    var _DER$_parseInt = DER._parseInt(data.subarray(2)),\n      r = _DER$_parseInt.d,\n      sBytes = _DER$_parseInt.l;\n    var _DER$_parseInt2 = DER._parseInt(sBytes),\n      s = _DER$_parseInt2.d,\n      rBytesLeft = _DER$_parseInt2.l;\n    if (rBytesLeft.length) throw new E('Invalid signature: left bytes after parsing');\n    return {\n      r: r,\n      s: s\n    };\n  },\n  hexFromSig: function hexFromSig(sig) {\n    // Add leading zero if first byte has negative bit enabled. More details in '_parseInt'\n    var slice = function slice(s) {\n      return Number.parseInt(s[0], 16) & 8 ? '00' + s : s;\n    };\n    var h = function h(num) {\n      var hex = num.toString(16);\n      return hex.length & 1 ? \"0\".concat(hex) : hex;\n    };\n    var s = slice(h(sig.s));\n    var r = slice(h(sig.r));\n    var shl = s.length / 2;\n    var rhl = r.length / 2;\n    var sl = h(shl);\n    var rl = h(rhl);\n    return \"30\".concat(h(rhl + shl + 4), \"02\").concat(rl).concat(r, \"02\").concat(sl).concat(s);\n  }\n};\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nvar _0n = BigInt(0),\n  _1n = BigInt(1),\n  _2n = BigInt(2),\n  _3n = BigInt(3),\n  _4n = BigInt(4);\nexport function weierstrassPoints(opts) {\n  var CURVE = validatePointOpts(opts);\n  var Fp = CURVE.Fp; // All curves has same field / group length as for now, but they can differ\n  var toBytes = CURVE.toBytes || function (c, point, isCompressed) {\n    var a = point.toAffine();\n    return ut.concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n  };\n  var fromBytes = CURVE.fromBytes || function (bytes) {\n    // const head = bytes[0];\n    var tail = bytes.subarray(1);\n    // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n    var x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n    var y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n    return {\n      x: x,\n      y: y\n    };\n  };\n  /**\n   * y = x + ax + b: Short weierstrass curve formula\n   * @returns y\n   */\n  function weierstrassEquation(x) {\n    var a = CURVE.a,\n      b = CURVE.b;\n    var x2 = Fp.sqr(x); // x * x\n    var x3 = Fp.mul(x2, x); // x2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b\n  }\n  // Validate whether the passed curve params are valid.\n  // We check if curve equation works for generator point.\n  // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.\n  // ProjectivePoint class has not been initialized yet.\n  if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx))) throw new Error('bad generator point: equation left != right');\n  // Valid group elements reside in range 1..n-1\n  function isWithinCurveOrder(num) {\n    return typeof num === 'bigint' && _0n < num && num < CURVE.n;\n  }\n  function assertGE(num) {\n    if (!isWithinCurveOrder(num)) throw new Error('Expected valid bigint: 0 < bigint < curve.n');\n  }\n  // Validates if priv key is valid and converts it to bigint.\n  // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n  function normPrivateKeyToScalar(key) {\n    var lengths = CURVE.allowedPrivateKeyLengths,\n      nByteLength = CURVE.nByteLength,\n      wrapPrivateKey = CURVE.wrapPrivateKey,\n      n = CURVE.n;\n    if (lengths && typeof key !== 'bigint') {\n      if (key instanceof Uint8Array) key = ut.bytesToHex(key);\n      // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n      if (typeof key !== 'string' || !lengths.includes(key.length)) throw new Error('Invalid key');\n      key = key.padStart(nByteLength * 2, '0');\n    }\n    var num;\n    try {\n      num = typeof key === 'bigint' ? key : ut.bytesToNumberBE(ensureBytes('private key', key, nByteLength));\n    } catch (error) {\n      throw new Error(\"private key must be \".concat(nByteLength, \" bytes, hex or bigint, not \").concat(typeof key));\n    }\n    if (wrapPrivateKey) num = mod.mod(num, n); // disabled by default, enabled for BLS\n    assertGE(num); // num in range [1..N-1]\n    return num;\n  }\n  var pointPrecomputes = new Map();\n  function assertPrjPoint(other) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z)  (x=x/z, y=y/z)\n   * Default Point works in 2d / affine coordinates: (x, y)\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  var Point = /*#__PURE__*/function () {\n    function Point(px, py, pz) {\n      _classCallCheck(this, Point);\n      this.px = px;\n      this.py = py;\n      this.pz = pz;\n      if (px == null || !Fp.isValid(px)) throw new Error('x required');\n      if (py == null || !Fp.isValid(py)) throw new Error('y required');\n      if (pz == null || !Fp.isValid(pz)) throw new Error('z required');\n    }\n    // Does not validate if the point is on-curve.\n    // Use fromHex instead, or call assertValidity() later.\n    _createClass(Point, [{\n      key: \"x\",\n      get: function get() {\n        return this.toAffine().x;\n      }\n    }, {\n      key: \"y\",\n      get: function get() {\n        return this.toAffine().y;\n      }\n      /**\n       * Takes a bunch of Projective Points but executes only one\n       * inversion on all of them. Inversion is very slow operation,\n       * so this improves performance massively.\n       * Optimization: converts a list of projective points to a list of identical points with Z=1.\n       */\n    }, {\n      key: \"_setWindowSize\",\n      value:\n      // \"Private method\", don't use it directly\n      function _setWindowSize(windowSize) {\n        this._WINDOW_SIZE = windowSize;\n        pointPrecomputes.delete(this);\n      }\n      // A point on curve is valid if it conforms to equation.\n    }, {\n      key: \"assertValidity\",\n      value: function assertValidity() {\n        // Zero is valid point too!\n        if (this.is0()) {\n          if (CURVE.allowInfinityPoint) return;\n          throw new Error('bad point: ZERO');\n        }\n        // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n        var _this$toAffine = this.toAffine(),\n          x = _this$toAffine.x,\n          y = _this$toAffine.y;\n        // Check if x, y are valid field elements\n        if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not FE');\n        var left = Fp.sqr(y); // y\n        var right = weierstrassEquation(x); // x + ax + b\n        if (!Fp.eql(left, right)) throw new Error('bad point: equation left != right');\n        if (!this.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n      }\n    }, {\n      key: \"hasEvenY\",\n      value: function hasEvenY() {\n        var _this$toAffine2 = this.toAffine(),\n          y = _this$toAffine2.y;\n        if (Fp.isOdd) return !Fp.isOdd(y);\n        throw new Error(\"Field doesn't support isOdd\");\n      }\n      /**\n       * Compare one point to another.\n       */\n    }, {\n      key: \"equals\",\n      value: function equals(other) {\n        assertPrjPoint(other);\n        var X1 = this.px,\n          Y1 = this.py,\n          Z1 = this.pz;\n        var X2 = other.px,\n          Y2 = other.py,\n          Z2 = other.pz;\n        var U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n        var U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n        return U1 && U2;\n      }\n      /**\n       * Flips point to one corresponding to (x, -y) in Affine coordinates.\n       */\n    }, {\n      key: \"negate\",\n      value: function negate() {\n        return new Point(this.px, Fp.neg(this.py), this.pz);\n      }\n      // Renes-Costello-Batina exception-free doubling formula.\n      // There is 30% faster Jacobian formula, but it is not complete.\n      // https://eprint.iacr.org/2015/1060, algorithm 3\n      // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    }, {\n      key: \"double\",\n      value: function double() {\n        var a = CURVE.a,\n          b = CURVE.b;\n        var b3 = Fp.mul(b, _3n);\n        var X1 = this.px,\n          Y1 = this.py,\n          Z1 = this.pz;\n        var X3 = Fp.ZERO,\n          Y3 = Fp.ZERO,\n          Z3 = Fp.ZERO; // prettier-ignore\n        var t0 = Fp.mul(X1, X1); // step 1\n        var t1 = Fp.mul(Y1, Y1);\n        var t2 = Fp.mul(Z1, Z1);\n        var t3 = Fp.mul(X1, Y1);\n        t3 = Fp.add(t3, t3); // step 5\n        Z3 = Fp.mul(X1, Z1);\n        Z3 = Fp.add(Z3, Z3);\n        X3 = Fp.mul(a, Z3);\n        Y3 = Fp.mul(b3, t2);\n        Y3 = Fp.add(X3, Y3); // step 10\n        X3 = Fp.sub(t1, Y3);\n        Y3 = Fp.add(t1, Y3);\n        Y3 = Fp.mul(X3, Y3);\n        X3 = Fp.mul(t3, X3);\n        Z3 = Fp.mul(b3, Z3); // step 15\n        t2 = Fp.mul(a, t2);\n        t3 = Fp.sub(t0, t2);\n        t3 = Fp.mul(a, t3);\n        t3 = Fp.add(t3, Z3);\n        Z3 = Fp.add(t0, t0); // step 20\n        t0 = Fp.add(Z3, t0);\n        t0 = Fp.add(t0, t2);\n        t0 = Fp.mul(t0, t3);\n        Y3 = Fp.add(Y3, t0);\n        t2 = Fp.mul(Y1, Z1); // step 25\n        t2 = Fp.add(t2, t2);\n        t0 = Fp.mul(t2, t3);\n        X3 = Fp.sub(X3, t0);\n        Z3 = Fp.mul(t2, t1);\n        Z3 = Fp.add(Z3, Z3); // step 30\n        Z3 = Fp.add(Z3, Z3);\n        return new Point(X3, Y3, Z3);\n      }\n      // Renes-Costello-Batina exception-free addition formula.\n      // There is 30% faster Jacobian formula, but it is not complete.\n      // https://eprint.iacr.org/2015/1060, algorithm 1\n      // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    }, {\n      key: \"add\",\n      value: function add(other) {\n        assertPrjPoint(other);\n        var X1 = this.px,\n          Y1 = this.py,\n          Z1 = this.pz;\n        var X2 = other.px,\n          Y2 = other.py,\n          Z2 = other.pz;\n        var X3 = Fp.ZERO,\n          Y3 = Fp.ZERO,\n          Z3 = Fp.ZERO; // prettier-ignore\n        var a = CURVE.a;\n        var b3 = Fp.mul(CURVE.b, _3n);\n        var t0 = Fp.mul(X1, X2); // step 1\n        var t1 = Fp.mul(Y1, Y2);\n        var t2 = Fp.mul(Z1, Z2);\n        var t3 = Fp.add(X1, Y1);\n        var t4 = Fp.add(X2, Y2); // step 5\n        t3 = Fp.mul(t3, t4);\n        t4 = Fp.add(t0, t1);\n        t3 = Fp.sub(t3, t4);\n        t4 = Fp.add(X1, Z1);\n        var t5 = Fp.add(X2, Z2); // step 10\n        t4 = Fp.mul(t4, t5);\n        t5 = Fp.add(t0, t2);\n        t4 = Fp.sub(t4, t5);\n        t5 = Fp.add(Y1, Z1);\n        X3 = Fp.add(Y2, Z2); // step 15\n        t5 = Fp.mul(t5, X3);\n        X3 = Fp.add(t1, t2);\n        t5 = Fp.sub(t5, X3);\n        Z3 = Fp.mul(a, t4);\n        X3 = Fp.mul(b3, t2); // step 20\n        Z3 = Fp.add(X3, Z3);\n        X3 = Fp.sub(t1, Z3);\n        Z3 = Fp.add(t1, Z3);\n        Y3 = Fp.mul(X3, Z3);\n        t1 = Fp.add(t0, t0); // step 25\n        t1 = Fp.add(t1, t0);\n        t2 = Fp.mul(a, t2);\n        t4 = Fp.mul(b3, t4);\n        t1 = Fp.add(t1, t2);\n        t2 = Fp.sub(t0, t2); // step 30\n        t2 = Fp.mul(a, t2);\n        t4 = Fp.add(t4, t2);\n        t0 = Fp.mul(t1, t4);\n        Y3 = Fp.add(Y3, t0);\n        t0 = Fp.mul(t5, t4); // step 35\n        X3 = Fp.mul(t3, X3);\n        X3 = Fp.sub(X3, t0);\n        t0 = Fp.mul(t3, t1);\n        Z3 = Fp.mul(t5, Z3);\n        Z3 = Fp.add(Z3, t0); // step 40\n        return new Point(X3, Y3, Z3);\n      }\n    }, {\n      key: \"subtract\",\n      value: function subtract(other) {\n        return this.add(other.negate());\n      }\n    }, {\n      key: \"is0\",\n      value: function is0() {\n        return this.equals(Point.ZERO);\n      }\n    }, {\n      key: \"wNAF\",\n      value: function wNAF(n) {\n        return wnaf.wNAFCached(this, pointPrecomputes, n, function (comp) {\n          var toInv = Fp.invertBatch(comp.map(function (p) {\n            return p.pz;\n          }));\n          return comp.map(function (p, i) {\n            return p.toAffine(toInv[i]);\n          }).map(Point.fromAffine);\n        });\n      }\n      /**\n       * Non-constant-time multiplication. Uses double-and-add algorithm.\n       * It's faster, but should only be used when you don't care about\n       * an exposed private key e.g. sig verification, which works over *public* keys.\n       */\n    }, {\n      key: \"multiplyUnsafe\",\n      value: function multiplyUnsafe(n) {\n        var I = Point.ZERO;\n        if (n === _0n) return I;\n        assertGE(n); // Will throw on 0\n        if (n === _1n) return this;\n        var endo = CURVE.endo;\n        if (!endo) return wnaf.unsafeLadder(this, n);\n        // Apply endomorphism\n        var _endo$splitScalar = endo.splitScalar(n),\n          k1neg = _endo$splitScalar.k1neg,\n          k1 = _endo$splitScalar.k1,\n          k2neg = _endo$splitScalar.k2neg,\n          k2 = _endo$splitScalar.k2;\n        var k1p = I;\n        var k2p = I;\n        var d = this;\n        while (k1 > _0n || k2 > _0n) {\n          if (k1 & _1n) k1p = k1p.add(d);\n          if (k2 & _1n) k2p = k2p.add(d);\n          d = d.double();\n          k1 >>= _1n;\n          k2 >>= _1n;\n        }\n        if (k1neg) k1p = k1p.negate();\n        if (k2neg) k2p = k2p.negate();\n        k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n        return k1p.add(k2p);\n      }\n      /**\n       * Constant time multiplication.\n       * Uses wNAF method. Windowed method may be 10% faster,\n       * but takes 2x longer to generate and consumes 2x memory.\n       * Uses precomputes when available.\n       * Uses endomorphism for Koblitz curves.\n       * @param scalar by which the point would be multiplied\n       * @returns New point\n       */\n    }, {\n      key: \"multiply\",\n      value: function multiply(scalar) {\n        assertGE(scalar);\n        var n = scalar;\n        var point, fake; // Fake point is used to const-time mult\n        var endo = CURVE.endo;\n        if (endo) {\n          var _endo$splitScalar2 = endo.splitScalar(n),\n            k1neg = _endo$splitScalar2.k1neg,\n            k1 = _endo$splitScalar2.k1,\n            k2neg = _endo$splitScalar2.k2neg,\n            k2 = _endo$splitScalar2.k2;\n          var _this$wNAF = this.wNAF(k1),\n            k1p = _this$wNAF.p,\n            f1p = _this$wNAF.f;\n          var _this$wNAF2 = this.wNAF(k2),\n            k2p = _this$wNAF2.p,\n            f2p = _this$wNAF2.f;\n          k1p = wnaf.constTimeNegate(k1neg, k1p);\n          k2p = wnaf.constTimeNegate(k2neg, k2p);\n          k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n          point = k1p.add(k2p);\n          fake = f1p.add(f2p);\n        } else {\n          var _this$wNAF3 = this.wNAF(n),\n            p = _this$wNAF3.p,\n            f = _this$wNAF3.f;\n          point = p;\n          fake = f;\n        }\n        // Normalize `z` for both points, but return only real one\n        return Point.normalizeZ([point, fake])[0];\n      }\n      /**\n       * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n       * Not using Strauss-Shamir trick: precomputation tables are faster.\n       * The trick could be useful if both P and Q are not G (not in our case).\n       * @returns non-zero affine point\n       */\n    }, {\n      key: \"multiplyAndAddUnsafe\",\n      value: function multiplyAndAddUnsafe(Q, a, b) {\n        var G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n        var mul = function mul(P, a // Select faster multiply() method\n        ) {\n          return a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a);\n        };\n        var sum = mul(this, a).add(mul(Q, b));\n        return sum.is0() ? undefined : sum;\n      }\n      // Converts Projective point to affine (x, y) coordinates.\n      // Can accept precomputed Z^-1 - for example, from invertBatch.\n      // (x, y, z)  (x=x/z, y=y/z)\n    }, {\n      key: \"toAffine\",\n      value: function toAffine(iz) {\n        var x = this.px,\n          y = this.py,\n          z = this.pz;\n        var is0 = this.is0();\n        // If invZ was 0, we return zero point. However we still want to execute\n        // all operations, so we replace invZ with a random number, 1.\n        if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(z);\n        var ax = Fp.mul(x, iz);\n        var ay = Fp.mul(y, iz);\n        var zz = Fp.mul(z, iz);\n        if (is0) return {\n          x: Fp.ZERO,\n          y: Fp.ZERO\n        };\n        if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n        return {\n          x: ax,\n          y: ay\n        };\n      }\n    }, {\n      key: \"isTorsionFree\",\n      value: function isTorsionFree() {\n        var cofactor = CURVE.h,\n          isTorsionFree = CURVE.isTorsionFree;\n        if (cofactor === _1n) return true; // No subgroups, always torsion-free\n        if (isTorsionFree) return isTorsionFree(Point, this);\n        throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n      }\n    }, {\n      key: \"clearCofactor\",\n      value: function clearCofactor() {\n        var cofactor = CURVE.h,\n          clearCofactor = CURVE.clearCofactor;\n        if (cofactor === _1n) return this; // Fast-path\n        if (clearCofactor) return clearCofactor(Point, this);\n        return this.multiplyUnsafe(CURVE.h);\n      }\n    }, {\n      key: \"toRawBytes\",\n      value: function toRawBytes() {\n        var isCompressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        this.assertValidity();\n        return toBytes(Point, this, isCompressed);\n      }\n    }, {\n      key: \"toHex\",\n      value: function toHex() {\n        var isCompressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        return ut.bytesToHex(this.toRawBytes(isCompressed));\n      }\n    }], [{\n      key: \"fromAffine\",\n      value: function fromAffine(p) {\n        var _ref = p || {},\n          x = _ref.x,\n          y = _ref.y;\n        if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n        if (p instanceof Point) throw new Error('projective point not allowed');\n        var is0 = function is0(i) {\n          return Fp.eql(i, Fp.ZERO);\n        };\n        // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n        if (is0(x) && is0(y)) return Point.ZERO;\n        return new Point(x, y, Fp.ONE);\n      }\n    }, {\n      key: \"normalizeZ\",\n      value: function normalizeZ(points) {\n        var toInv = Fp.invertBatch(points.map(function (p) {\n          return p.pz;\n        }));\n        return points.map(function (p, i) {\n          return p.toAffine(toInv[i]);\n        }).map(Point.fromAffine);\n      }\n      /**\n       * Converts hash string or Uint8Array to Point.\n       * @param hex short/long ECDSA hex\n       */\n    }, {\n      key: \"fromHex\",\n      value: function fromHex(hex) {\n        var P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));\n        P.assertValidity();\n        return P;\n      }\n      // Multiplies generator point by privateKey.\n    }, {\n      key: \"fromPrivateKey\",\n      value: function fromPrivateKey(privateKey) {\n        return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n      }\n    }]);\n    return Point;\n  }();\n  Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n  Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);\n  var _bits = CURVE.nBitLength;\n  var wnaf = wNAF(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);\n  // Validate if generator point is on curve\n  return {\n    CURVE: CURVE,\n    ProjectivePoint: Point,\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n    weierstrassEquation: weierstrassEquation,\n    isWithinCurveOrder: isWithinCurveOrder\n  };\n}\nfunction validateOpts(curve) {\n  var opts = validateBasic(curve);\n  ut.validateObject(opts, {\n    hash: 'hash',\n    hmac: 'function',\n    randomBytes: 'function'\n  }, {\n    bits2int: 'function',\n    bits2int_modN: 'function',\n    lowS: 'boolean'\n  });\n  return Object.freeze(_objectSpread({\n    lowS: true\n  }, opts));\n}\nexport function weierstrass(curveDef) {\n  var CURVE = validateOpts(curveDef);\n  var Fp = CURVE.Fp,\n    CURVE_ORDER = CURVE.n;\n  var compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n  var uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n  function isValidFieldElement(num) {\n    return _0n < num && num < Fp.ORDER; // 0 is banned since it's not invertible FE\n  }\n\n  function modN(a) {\n    return mod.mod(a, CURVE_ORDER);\n  }\n  function invN(a) {\n    return mod.invert(a, CURVE_ORDER);\n  }\n  var _weierstrassPoints = weierstrassPoints(_objectSpread(_objectSpread({}, CURVE), {}, {\n      toBytes: function toBytes(c, point, isCompressed) {\n        var a = point.toAffine();\n        var x = Fp.toBytes(a.x);\n        var cat = ut.concatBytes;\n        if (isCompressed) {\n          return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n        } else {\n          return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n        }\n      },\n      fromBytes: function fromBytes(bytes) {\n        var len = bytes.length;\n        var head = bytes[0];\n        var tail = bytes.subarray(1);\n        // this.assertValidity() is done inside of fromHex\n        if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n          var x = ut.bytesToNumberBE(tail);\n          if (!isValidFieldElement(x)) throw new Error('Point is not on curve');\n          var y2 = weierstrassEquation(x); // y = x + ax + b\n          var y = Fp.sqrt(y2); // y = y ^ (p+1)/4\n          var isYOdd = (y & _1n) === _1n;\n          // ECDSA\n          var isHeadOdd = (head & 1) === 1;\n          if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n          return {\n            x: x,\n            y: y\n          };\n        } else if (len === uncompressedLen && head === 0x04) {\n          var _x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n          var _y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n          return {\n            x: _x,\n            y: _y\n          };\n        } else {\n          throw new Error(\"Point of length \".concat(len, \" was invalid. Expected \").concat(compressedLen, \" compressed bytes or \").concat(uncompressedLen, \" uncompressed bytes\"));\n        }\n      }\n    })),\n    Point = _weierstrassPoints.ProjectivePoint,\n    normPrivateKeyToScalar = _weierstrassPoints.normPrivateKeyToScalar,\n    weierstrassEquation = _weierstrassPoints.weierstrassEquation,\n    isWithinCurveOrder = _weierstrassPoints.isWithinCurveOrder;\n  var numToNByteStr = function numToNByteStr(num) {\n    return ut.bytesToHex(ut.numberToBytesBE(num, CURVE.nByteLength));\n  };\n  function isBiggerThanHalfOrder(number) {\n    var HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n  function normalizeS(s) {\n    return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n  }\n  // slice bytes num\n  var slcNum = function slcNum(b, from, to) {\n    return ut.bytesToNumberBE(b.slice(from, to));\n  };\n  /**\n   * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n   */\n  var Signature = /*#__PURE__*/function () {\n    function Signature(r, s, recovery) {\n      _classCallCheck(this, Signature);\n      this.r = r;\n      this.s = s;\n      this.recovery = recovery;\n      this.assertValidity();\n    }\n    // pair (bytes of r, bytes of s)\n    _createClass(Signature, [{\n      key: \"assertValidity\",\n      value: function assertValidity() {\n        // can use assertGE here\n        if (!isWithinCurveOrder(this.r)) throw new Error('r must be 0 < r < CURVE.n');\n        if (!isWithinCurveOrder(this.s)) throw new Error('s must be 0 < s < CURVE.n');\n      }\n    }, {\n      key: \"addRecoveryBit\",\n      value: function addRecoveryBit(recovery) {\n        return new Signature(this.r, this.s, recovery);\n      }\n    }, {\n      key: \"recoverPublicKey\",\n      value: function recoverPublicKey(msgHash) {\n        var r = this.r,\n          s = this.s,\n          rec = this.recovery;\n        var h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash\n        if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n        var radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n        if (radj >= Fp.ORDER) throw new Error('recovery id 2 or 3 invalid');\n        var prefix = (rec & 1) === 0 ? '02' : '03';\n        var R = Point.fromHex(prefix + numToNByteStr(radj));\n        var ir = invN(radj); // r^-1\n        var u1 = modN(-h * ir); // -hr^-1\n        var u2 = modN(s * ir); // sr^-1\n        var Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n        if (!Q) throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n        Q.assertValidity();\n        return Q;\n      }\n      // Signatures should be low-s, to prevent malleability.\n    }, {\n      key: \"hasHighS\",\n      value: function hasHighS() {\n        return isBiggerThanHalfOrder(this.s);\n      }\n    }, {\n      key: \"normalizeS\",\n      value: function normalizeS() {\n        return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n      }\n      // DER-encoded\n    }, {\n      key: \"toDERRawBytes\",\n      value: function toDERRawBytes() {\n        return ut.hexToBytes(this.toDERHex());\n      }\n    }, {\n      key: \"toDERHex\",\n      value: function toDERHex() {\n        return DER.hexFromSig({\n          r: this.r,\n          s: this.s\n        });\n      }\n      // padded bytes of r, then padded bytes of s\n    }, {\n      key: \"toCompactRawBytes\",\n      value: function toCompactRawBytes() {\n        return ut.hexToBytes(this.toCompactHex());\n      }\n    }, {\n      key: \"toCompactHex\",\n      value: function toCompactHex() {\n        return numToNByteStr(this.r) + numToNByteStr(this.s);\n      }\n    }], [{\n      key: \"fromCompact\",\n      value: function fromCompact(hex) {\n        var l = CURVE.nByteLength;\n        hex = ensureBytes('compactSignature', hex, l * 2);\n        return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n      }\n      // DER encoded ECDSA signature\n      // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n    }, {\n      key: \"fromDER\",\n      value: function fromDER(hex) {\n        var _DER$toSig = DER.toSig(ensureBytes('DER', hex)),\n          r = _DER$toSig.r,\n          s = _DER$toSig.s;\n        return new Signature(r, s);\n      }\n    }]);\n    return Signature;\n  }();\n  var utils = {\n    isValidPrivateKey: function isValidPrivateKey(privateKey) {\n      try {\n        normPrivateKeyToScalar(privateKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    },\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n    /**\n     * Produces cryptographically secure private key from random of size (nBitLength+64)\n     * as per FIPS 186 B.4.1 with modulo bias being neglible.\n     */\n    randomPrivateKey: function randomPrivateKey() {\n      var rand = CURVE.randomBytes(Fp.BYTES + 8);\n      var num = mod.hashToPrivateScalar(rand, CURVE_ORDER);\n      return ut.numberToBytesBE(num, CURVE.nByteLength);\n    },\n    /**\n     * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n     * Allows to massively speed-up `point.multiply(scalar)`.\n     * @returns cached point\n     * @example\n     * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n     * fast.multiply(privKey); // much faster ECDH now\n     */\n    precompute: function precompute() {\n      var windowSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n      var point = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Point.BASE;\n      point._setWindowSize(windowSize);\n      point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n      return point;\n    }\n  };\n  /**\n   * Computes public key for a private key. Checks for validity of the private key.\n   * @param privateKey private key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(privateKey) {\n    var isCompressed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n  }\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item) {\n    var arr = item instanceof Uint8Array;\n    var str = typeof item === 'string';\n    var len = (arr || str) && item.length;\n    if (arr) return len === compressedLen || len === uncompressedLen;\n    if (str) return len === 2 * compressedLen || len === 2 * uncompressedLen;\n    if (item instanceof Point) return true;\n    return false;\n  }\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from private key and public key.\n   * Checks: 1) private key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param privateA private key\n   * @param publicB different public key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(privateA, publicB) {\n    var isCompressed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    if (isProbPub(privateA)) throw new Error('first arg must be private key');\n    if (!isProbPub(publicB)) throw new Error('second arg must be public key');\n    var b = Point.fromHex(publicB); // check for being on-curve\n    return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n  }\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  var bits2int = CURVE.bits2int || function (bytes) {\n    // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n    // for some cases, since bytes.length * 8 is not actual bitLength.\n    var num = ut.bytesToNumberBE(bytes); // check for == u8 done here\n    var delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits\n    return delta > 0 ? num >> BigInt(delta) : num;\n  };\n  var bits2int_modN = CURVE.bits2int_modN || function (bytes) {\n    return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n  };\n  // NOTE: pads output with zero as per spec\n  var ORDER_MASK = ut.bitMask(CURVE.nBitLength);\n  /**\n   * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n   */\n  function int2octets(num) {\n    if (typeof num !== 'bigint') throw new Error('bigint expected');\n    if (!(_0n <= num && num < ORDER_MASK)) throw new Error(\"bigint expected < 2^\".concat(CURVE.nBitLength));\n    // works with order, can have different size than numToField!\n    return ut.numberToBytesBE(num, CURVE.nByteLength);\n  }\n  // Steps A, D of RFC6979 3.2\n  // Creates RFC6979 seed; converts msg/privKey to numbers.\n  // Used only in sign, not in verify.\n  // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order, this will be wrong at least for P521.\n  // Also it can be bigger for P224 + SHA256\n  function prepSig(msgHash, privateKey) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultSigOpts;\n    if (['recovered', 'canonical'].some(function (k) {\n      return k in opts;\n    })) throw new Error('sign() legacy options not supported');\n    var hash = CURVE.hash,\n      randomBytes = CURVE.randomBytes;\n    var lowS = opts.lowS,\n      prehash = opts.prehash,\n      ent = opts.extraEntropy; // generates low-s sigs by default\n    if (lowS == null) lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n    msgHash = ensureBytes('msgHash', msgHash);\n    if (prehash) msgHash = ensureBytes('prehashed msgHash', hash(msgHash));\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    var h1int = bits2int_modN(msgHash);\n    var d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n    var seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (ent != null) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      var e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n      seedArgs.push(ensureBytes('extraEntropy', e, Fp.BYTES)); // check for being of size BYTES\n    }\n\n    var seed = ut.concatBytes.apply(ut, seedArgs); // Step D of RFC6979 3.2\n    var m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    function k2sig(kBytes) {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      var k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n      if (!isWithinCurveOrder(k)) return; // Important: all mod() calls here must be done over N\n      var ik = invN(k); // k^-1 mod n\n      var q = Point.BASE.multiply(k).toAffine(); // q = Gk\n      var r = modN(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      // Can use scalar blinding b^-1(bm + bdr) where b  [1,q1] according to\n      // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n      // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n      var s = modN(ik * modN(m + r * d)); // Not using blinding here\n      if (s === _0n) return;\n      var recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      var normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = normalizeS(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n\n      return new Signature(r, normS, recovery); // use normS, not s\n    }\n\n    return {\n      seed: seed,\n      k2sig: k2sig\n    };\n  }\n  var defaultSigOpts = {\n    lowS: CURVE.lowS,\n    prehash: false\n  };\n  var defaultVerOpts = {\n    lowS: CURVE.lowS,\n    prehash: false\n  };\n  /**\n   * Signs message hash with a private key.\n   * ```\n   * sign(m, d, k) where\n   *   (x, y) = G  k\n   *   r = x mod n\n   *   s = (m + dr)/k mod n\n   * ```\n   * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n   * @param privKey private key\n   * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n   * @returns signature with recovery param\n   */\n  function sign(msgHash, privKey) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultSigOpts;\n    var _prepSig = prepSig(msgHash, privKey, opts),\n      seed = _prepSig.seed,\n      k2sig = _prepSig.k2sig; // Steps A, D of RFC6979 3.2.\n    var C = CURVE;\n    var drbg = ut.createHmacDrbg(C.hash.outputLen, C.nByteLength, C.hmac);\n    return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n  }\n  // Enable precomputes. Slows down first publicKey computation by 20ms.\n  Point.BASE._setWindowSize(8);\n  // utils.precompute(8, ProjectivePoint.BASE)\n  /**\n   * Verifies a signature against message hash and public key.\n   * Rejects lowS signatures by default: to override,\n   * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   U1 = hs^-1 mod n\n   *   U2 = rs^-1 mod n\n   *   R = U1G - U2P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(signature, msgHash, publicKey) {\n    var _Point$BASE$multiplyA;\n    var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultVerOpts;\n    var sg = signature;\n    msgHash = ensureBytes('msgHash', msgHash);\n    publicKey = ensureBytes('publicKey', publicKey);\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n    var lowS = opts.lowS,\n      prehash = opts.prehash;\n    var _sig = undefined;\n    var P;\n    try {\n      if (typeof sg === 'string' || sg instanceof Uint8Array) {\n        // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n        // Since DER can also be 2*nByteLength bytes, we check for it first.\n        try {\n          _sig = Signature.fromDER(sg);\n        } catch (derError) {\n          if (!(derError instanceof DER.Err)) throw derError;\n          _sig = Signature.fromCompact(sg);\n        }\n      } else if (typeof sg === 'object' && typeof sg.r === 'bigint' && typeof sg.s === 'bigint') {\n        var _r = sg.r,\n          _s = sg.s;\n        _sig = new Signature(_r, _s);\n      } else {\n        throw new Error('PARSE');\n      }\n      P = Point.fromHex(publicKey);\n    } catch (error) {\n      if (error.message === 'PARSE') throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");\n      return false;\n    }\n    if (lowS && _sig.hasHighS()) return false;\n    if (prehash) msgHash = CURVE.hash(msgHash);\n    var _sig2 = _sig,\n      r = _sig2.r,\n      s = _sig2.s;\n    var h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n    var is = invN(s); // s^-1\n    var u1 = modN(h * is); // u1 = hs^-1 mod n\n    var u2 = modN(r * is); // u2 = rs^-1 mod n\n    var R = (_Point$BASE$multiplyA = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)) === null || _Point$BASE$multiplyA === void 0 ? void 0 : _Point$BASE$multiplyA.toAffine(); // R = u1G + u2P\n    if (!R) return false;\n    var v = modN(R.x);\n    return v === r;\n  }\n  return {\n    CURVE: CURVE,\n    getPublicKey: getPublicKey,\n    getSharedSecret: getSharedSecret,\n    sign: sign,\n    verify: verify,\n    ProjectivePoint: Point,\n    Signature: Signature,\n    utils: utils\n  };\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio(Fp, Z) {\n  // Generic implementation\n  var q = Fp.ORDER;\n  var l = _0n;\n  for (var o = q - _1n; o % _2n === _0n; o /= _2n) {\n    l += _1n;\n  }\n  var c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  var _2n_pow_c1_1 = _2n << c1 - _1n - _1n;\n  var _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  var c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  var c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  var c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  var c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  var c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  var c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  var sqrtRatio = function sqrtRatio(u, v) {\n    var tv1 = c6; // 1. tv1 = c6\n    var tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    var tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    var tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    var tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    var isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (var i = c1; i > _1n; i--) {\n      var _tv = i - _2n; // 18.    tv5 = i - 2\n      _tv = _2n << _tv - _1n; // 19.    tv5 = 2^tv5\n      var tvv5 = Fp.pow(tv4, _tv); // 20.    tv5 = tv4^tv5\n      var e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n\n    return {\n      isValid: isQR,\n      value: tv3\n    };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    var _c = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    var _c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = function sqrtRatio(u, v) {\n      var tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      var tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      var y1 = Fp.pow(tv1, _c); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      var y2 = Fp.mul(y1, _c2); // 6. y2 = y1 * c2\n      var tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      var isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      var y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return {\n        isValid: isQR,\n        value: y\n      }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * From draft-irtf-cfrg-hash-to-curve-16\n */\nexport function mapToCurveSimpleSWU(Fp, opts) {\n  mod.validateField(Fp);\n  if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z)) throw new Error('mapToCurveSimpleSWU: invalid opts');\n  var sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n  if (!Fp.isOdd) throw new Error('Fp.isOdd is not implemented!');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return function (u) {\n    // prettier-ignore\n    var tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    var _sqrtRatio = sqrtRatio(tv2, tv6),\n      isValid = _sqrtRatio.isValid,\n      value = _sqrtRatio.value; // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    var e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    x = Fp.div(x, tv4); // 25.   x = x / tv4\n    return {\n      x: x,\n      y: y\n    };\n  };\n}","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport assert from './_assert.js';\nimport { Hash, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport var HMAC = /*#__PURE__*/function (_Hash) {\n  _inherits(HMAC, _Hash);\n  var _super = _createSuper(HMAC);\n  function HMAC(hash, _key) {\n    var _this;\n    _classCallCheck(this, HMAC);\n    _this = _super.call(this);\n    _this.finished = false;\n    _this.destroyed = false;\n    assert.hash(hash);\n    var key = toBytes(_key);\n    _this.iHash = hash.create();\n    if (typeof _this.iHash.update !== 'function') throw new Error('Expected instance of class which extends utils.Hash');\n    _this.blockLen = _this.iHash.blockLen;\n    _this.outputLen = _this.iHash.outputLen;\n    var blockLen = _this.blockLen;\n    var pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (var i = 0; i < pad.length; i++) {\n      pad[i] ^= 0x36;\n    }\n    _this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    _this.oHash = hash.create();\n    // Undo internal XOR && apply outer XOR\n    for (var _i = 0; _i < pad.length; _i++) {\n      pad[_i] ^= 0x36 ^ 0x5c;\n    }\n    _this.oHash.update(pad);\n    pad.fill(0);\n    return _this;\n  }\n  _createClass(HMAC, [{\n    key: \"update\",\n    value: function update(buf) {\n      assert.exists(this);\n      this.iHash.update(buf);\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assert.exists(this);\n      assert.bytes(out, this.outputLen);\n      this.finished = true;\n      this.iHash.digestInto(out);\n      this.oHash.update(out);\n      this.oHash.digestInto(out);\n      this.destroy();\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var out = new Uint8Array(this.oHash.outputLen);\n      this.digestInto(out);\n      return out;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      // Create new instance without calling constructor since key already in state and we don't know it.\n      to || (to = Object.create(Object.getPrototypeOf(this), {}));\n      var oHash = this.oHash,\n        iHash = this.iHash,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        blockLen = this.blockLen,\n        outputLen = this.outputLen;\n      to = to;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      to.blockLen = blockLen;\n      to.outputLen = outputLen;\n      to.oHash = oHash._cloneInto(to.oHash);\n      to.iHash = iHash._cloneInto(to.iHash);\n      return to;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.destroyed = true;\n      this.oHash.destroy();\n      this.iHash.destroy();\n    }\n  }]);\n  return HMAC;\n}(Hash);\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport var hmac = function hmac(hash, key, message) {\n  return new HMAC(hash, key).update(message).digest();\n};\nhmac.create = function (hash, key) {\n  return new HMAC(hash, key);\n};","import _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac as _hmac } from '@noble/hashes/hmac';\nimport { concatBytes, randomBytes } from '@noble/hashes/utils';\nimport { weierstrass } from './abstract/weierstrass.js';\n// connects noble-curves to noble-hashes\nexport function getHash(hash) {\n  return {\n    hash: hash,\n    hmac: function hmac(key) {\n      for (var _len = arguments.length, msgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        msgs[_key - 1] = arguments[_key];\n      }\n      return _hmac(hash, key, concatBytes.apply(void 0, msgs));\n    },\n    randomBytes: randomBytes\n  };\n}\nexport function createCurve(curveDef, defHash) {\n  var create = function create(hash) {\n    return weierstrass(_objectSpread(_objectSpread({}, curveDef), getHash(hash)));\n  };\n  return Object.freeze(_objectSpread(_objectSpread({}, create(defHash)), {}, {\n    create: create\n  }));\n}","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha256';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { Field, mod, pow2 } from './abstract/modular.js';\nimport { mapToCurveSimpleSWU } from './abstract/weierstrass.js';\nimport { bytesToNumberBE, concatBytes, ensureBytes, numberToBytesBE } from './abstract/utils.js';\nimport { createHasher, isogenyMap } from './abstract/hash-to-curve.js';\nimport { createCurve } from './_shortw_utils.js';\nvar secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nvar secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nvar _1n = BigInt(1);\nvar _2n = BigInt(2);\nvar divNearest = function divNearest(a, b) {\n  return (a + b / _2n) / b;\n};\n/**\n * n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n  var P = secp256k1P;\n  // prettier-ignore\n  var _3n = BigInt(3),\n    _6n = BigInt(6),\n    _11n = BigInt(11),\n    _22n = BigInt(22);\n  // prettier-ignore\n  var _23n = BigInt(23),\n    _44n = BigInt(44),\n    _88n = BigInt(88);\n  var b2 = y * y * y % P; // x^3, 11\n  var b3 = b2 * b2 * y % P; // x^7\n  var b6 = pow2(b3, _3n, P) * b3 % P;\n  var b9 = pow2(b6, _3n, P) * b3 % P;\n  var b11 = pow2(b9, _2n, P) * b2 % P;\n  var b22 = pow2(b11, _11n, P) * b11 % P;\n  var b44 = pow2(b22, _22n, P) * b22 % P;\n  var b88 = pow2(b44, _44n, P) * b44 % P;\n  var b176 = pow2(b88, _88n, P) * b88 % P;\n  var b220 = pow2(b176, _44n, P) * b44 % P;\n  var b223 = pow2(b220, _3n, P) * b3 % P;\n  var t1 = pow2(b223, _23n, P) * b22 % P;\n  var t2 = pow2(t1, _6n, P) * b2 % P;\n  var root = pow2(t2, _2n, P);\n  if (!Fp.eql(Fp.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\nvar Fp = Field(secp256k1P, undefined, undefined, {\n  sqrt: sqrtMod\n});\nexport var secp256k1 = createCurve({\n  a: BigInt(0),\n  b: BigInt(7),\n  Fp: Fp,\n  n: secp256k1N,\n  // Base point (x, y) aka generator point\n  Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n  Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n  h: BigInt(1),\n  lowS: true,\n  /**\n   * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n   * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n   * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n   * Explanation: https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066\n   */\n  endo: {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    splitScalar: function splitScalar(k) {\n      var n = secp256k1N;\n      var a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n      var b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n      var a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n      var b2 = a1;\n      var POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n      var c1 = divNearest(b2 * k, n);\n      var c2 = divNearest(-b1 * k, n);\n      var k1 = mod(k - c1 * a1 - c2 * a2, n);\n      var k2 = mod(-c1 * b1 - c2 * b2, n);\n      var k1neg = k1 > POW_2_128;\n      var k2neg = k2 > POW_2_128;\n      if (k1neg) k1 = n - k1;\n      if (k2neg) k2 = n - k2;\n      if (k1 > POW_2_128 || k2 > POW_2_128) {\n        throw new Error('splitScalar: Endomorphism failed, k=' + k);\n      }\n      return {\n        k1neg: k1neg,\n        k1: k1,\n        k2neg: k2neg,\n        k2: k2\n      };\n    }\n  }\n}, sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\nvar _0n = BigInt(0);\nvar fe = function fe(x) {\n  return typeof x === 'bigint' && _0n < x && x < secp256k1P;\n};\nvar ge = function ge(x) {\n  return typeof x === 'bigint' && _0n < x && x < secp256k1N;\n};\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nvar TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag) {\n  var tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    var tagH = sha256(Uint8Array.from(tag, function (c) {\n      return c.charCodeAt(0);\n    }));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  for (var _len = arguments.length, messages = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    messages[_key - 1] = arguments[_key];\n  }\n  return sha256(concatBytes.apply(void 0, [tagP].concat(messages)));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nvar pointToBytes = function pointToBytes(point) {\n  return point.toRawBytes(true).slice(1);\n};\nvar numTo32b = function numTo32b(n) {\n  return numberToBytesBE(n, 32);\n};\nvar modP = function modP(x) {\n  return mod(x, secp256k1P);\n};\nvar modN = function modN(x) {\n  return mod(x, secp256k1N);\n};\nvar Point = secp256k1.ProjectivePoint;\nvar GmulAdd = function GmulAdd(Q, a, b) {\n  return Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n};\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n  var d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n  var p = Point.fromPrivateKey(d_); // P = d'G; 0 < d' < n check is done inside\n  var scalar = p.hasEvenY() ? d_ : modN(-d_);\n  return {\n    scalar: scalar,\n    bytes: pointToBytes(p)\n  };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n  if (!fe(x)) throw new Error('bad x: need 0 < x < p'); // Fail if x  p.\n  var xx = modP(x * x);\n  var c = modP(xx * x + BigInt(7)); // Let c = x + 7 mod p.\n  var y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n  if (y % _2n !== _0n) y = modP(-y); // Return the unique point P such that x(P) = x and\n  var p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  p.assertValidity();\n  return p;\n}\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  return modN(bytesToNumberBE(taggedHash.apply(void 0, ['BIP0340/challenge'].concat(args))));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey) {\n  return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'n. Ret bytes(d'G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, privateKey) {\n  var auxRand = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : randomBytes(32);\n  var m = ensureBytes('message', message);\n  var _schnorrGetExtPubKey = schnorrGetExtPubKey(privateKey),\n    px = _schnorrGetExtPubKey.bytes,\n    d = _schnorrGetExtPubKey.scalar; // checks for isWithinCurveOrder\n  var a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  var t = numTo32b(d ^ bytesToNumberBE(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  var rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  var k_ = modN(bytesToNumberBE(rand)); // Let k' = int(rand) mod n\n  if (k_ === _0n) throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n  var _schnorrGetExtPubKey2 = schnorrGetExtPubKey(k_),\n    rx = _schnorrGetExtPubKey2.bytes,\n    k = _schnorrGetExtPubKey2.scalar; // Let R = k'G.\n  var e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  var sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(numTo32b(modN(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n  var sig = ensureBytes('signature', signature, 64);\n  var m = ensureBytes('message', message);\n  var pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    var P = lift_x(bytesToNumberBE(pub)); // P = lift_x(int(pk)); fail if that fails\n    var r = bytesToNumberBE(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r  p.\n    if (!fe(r)) return false;\n    var s = bytesToNumberBE(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s  n.\n    if (!ge(s)) return false;\n    var e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n    var R = GmulAdd(P, s, modN(-e)); // R = sG - eP\n    if (!R || !R.hasEvenY() || R.toAffine().x !== r) return false; // -eP == (n-e)P\n    return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R)  r.\n  } catch (error) {\n    return false;\n  }\n}\nexport var schnorr = /* @__PURE__ */function () {\n  return {\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    utils: {\n      randomPrivateKey: secp256k1.utils.randomPrivateKey,\n      lift_x: lift_x,\n      pointToBytes: pointToBytes,\n      numberToBytesBE: numberToBytesBE,\n      bytesToNumberBE: bytesToNumberBE,\n      taggedHash: taggedHash,\n      mod: mod\n    }\n  };\n}();\nvar isoMap = /* @__PURE__ */function () {\n  return isogenyMap(Fp, [\n  // xNum\n  ['0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7', '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581', '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262', '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c'],\n  // xDen\n  ['0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b', '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14', '0x0000000000000000000000000000000000000000000000000000000000000001' // LAST 1\n  ],\n  // yNum\n  ['0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c', '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3', '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931', '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84'],\n  // yDen\n  ['0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b', '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573', '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f', '0x0000000000000000000000000000000000000000000000000000000000000001' // LAST 1\n  ]].map(function (i) {\n    return i.map(function (j) {\n      return BigInt(j);\n    });\n  }));\n}();\nvar mapSWU = /* @__PURE__ */function () {\n  return mapToCurveSimpleSWU(Fp, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fp.create(BigInt('-11'))\n  });\n}();\nvar htf = /* @__PURE__ */function () {\n  return createHasher(secp256k1.ProjectivePoint, function (scalars) {\n    var _mapSWU = mapSWU(Fp.create(scalars[0])),\n      x = _mapSWU.x,\n      y = _mapSWU.y;\n    return isoMap(x, y);\n  }, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fp.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha256\n  });\n}();\nexport var hashToCurve = /* @__PURE__ */function () {\n  return htf.hashToCurve;\n}();\nexport var encodeToCurve = /* @__PURE__ */function () {\n  return htf.encodeToCurve;\n}();","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nexport function assertNumber(n) {\n  if (!Number.isSafeInteger(n)) throw new Error(\"Wrong integer: \".concat(n));\n}\nfunction chain() {\n  var wrap = function wrap(a, b) {\n    return function (c) {\n      return a(b(c));\n    };\n  };\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  var encode = Array.from(args).reverse().reduce(function (acc, i) {\n    return acc ? wrap(acc, i.encode) : i.encode;\n  }, undefined);\n  var decode = args.reduce(function (acc, i) {\n    return acc ? wrap(acc, i.decode) : i.decode;\n  }, undefined);\n  return {\n    encode: encode,\n    decode: decode\n  };\n}\nfunction alphabet(alphabet) {\n  return {\n    encode: function encode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('alphabet.encode input should be an array of numbers');\n      return digits.map(function (i) {\n        assertNumber(i);\n        if (i < 0 || i >= alphabet.length) throw new Error(\"Digit index outside alphabet: \".concat(i, \" (alphabet: \").concat(alphabet.length, \")\"));\n        return alphabet[i];\n      });\n    },\n    decode: function decode(input) {\n      if (!Array.isArray(input) || input.length && typeof input[0] !== 'string') throw new Error('alphabet.decode input should be array of strings');\n      return input.map(function (letter) {\n        if (typeof letter !== 'string') throw new Error(\"alphabet.decode: not string element=\".concat(letter));\n        var index = alphabet.indexOf(letter);\n        if (index === -1) throw new Error(\"Unknown letter: \\\"\".concat(letter, \"\\\". Allowed: \").concat(alphabet));\n        return index;\n      });\n    }\n  };\n}\nfunction join() {\n  var separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  if (typeof separator !== 'string') throw new Error('join separator should be string');\n  return {\n    encode: function encode(from) {\n      if (!Array.isArray(from) || from.length && typeof from[0] !== 'string') throw new Error('join.encode input should be array of strings');\n      var _iterator = _createForOfIteratorHelper(from),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var i = _step.value;\n          if (typeof i !== 'string') throw new Error(\"join.encode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return from.join(separator);\n    },\n    decode: function decode(to) {\n      if (typeof to !== 'string') throw new Error('join.decode input should be string');\n      return to.split(separator);\n    }\n  };\n}\nfunction padding(bits) {\n  var chr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '=';\n  assertNumber(bits);\n  if (typeof chr !== 'string') throw new Error('padding chr should be string');\n  return {\n    encode: function encode(data) {\n      if (!Array.isArray(data) || data.length && typeof data[0] !== 'string') throw new Error('padding.encode input should be array of strings');\n      var _iterator2 = _createForOfIteratorHelper(data),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var i = _step2.value;\n          if (typeof i !== 'string') throw new Error(\"padding.encode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      while (data.length * bits % 8) {\n        data.push(chr);\n      }\n      return data;\n    },\n    decode: function decode(input) {\n      if (!Array.isArray(input) || input.length && typeof input[0] !== 'string') throw new Error('padding.encode input should be array of strings');\n      var _iterator3 = _createForOfIteratorHelper(input),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var i = _step3.value;\n          if (typeof i !== 'string') throw new Error(\"padding.decode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      var end = input.length;\n      if (end * bits % 8) throw new Error('Invalid padding: string should have whole number of bytes');\n      for (; end > 0 && input[end - 1] === chr; end--) {\n        if (!((end - 1) * bits % 8)) throw new Error('Invalid padding: string has too much padding');\n      }\n      return input.slice(0, end);\n    }\n  };\n}\nfunction normalize(fn) {\n  if (typeof fn !== 'function') throw new Error('normalize fn should be function');\n  return {\n    encode: function encode(from) {\n      return from;\n    },\n    decode: function decode(to) {\n      return fn(to);\n    }\n  };\n}\nfunction convertRadix(data, from, to) {\n  if (from < 2) throw new Error(\"convertRadix: wrong from=\".concat(from, \", base cannot be less than 2\"));\n  if (to < 2) throw new Error(\"convertRadix: wrong to=\".concat(to, \", base cannot be less than 2\"));\n  if (!Array.isArray(data)) throw new Error('convertRadix: data should be array');\n  if (!data.length) return [];\n  var pos = 0;\n  var res = [];\n  var digits = Array.from(data);\n  digits.forEach(function (d) {\n    assertNumber(d);\n    if (d < 0 || d >= from) throw new Error(\"Wrong integer: \".concat(d));\n  });\n  while (true) {\n    var carry = 0;\n    var done = true;\n    for (var i = pos; i < digits.length; i++) {\n      var digit = digits[i];\n      var digitBase = from * carry + digit;\n      if (!Number.isSafeInteger(digitBase) || from * carry / from !== carry || digitBase - digit !== from * carry) {\n        throw new Error('convertRadix: carry overflow');\n      }\n      carry = digitBase % to;\n      digits[i] = Math.floor(digitBase / to);\n      if (!Number.isSafeInteger(digits[i]) || digits[i] * to + carry !== digitBase) throw new Error('convertRadix: carry overflow');\n      if (!done) continue;else if (!digits[i]) pos = i;else done = false;\n    }\n    res.push(carry);\n    if (done) break;\n  }\n  for (var _i = 0; _i < data.length - 1 && data[_i] === 0; _i++) {\n    res.push(0);\n  }\n  return res.reverse();\n}\nvar gcd = function gcd(a, b) {\n  return !b ? a : gcd(b, a % b);\n};\nvar radix2carry = function radix2carry(from, to) {\n  return from + (to - gcd(from, to));\n};\nfunction convertRadix2(data, from, to, padding) {\n  if (!Array.isArray(data)) throw new Error('convertRadix2: data should be array');\n  if (from <= 0 || from > 32) throw new Error(\"convertRadix2: wrong from=\".concat(from));\n  if (to <= 0 || to > 32) throw new Error(\"convertRadix2: wrong to=\".concat(to));\n  if (radix2carry(from, to) > 32) {\n    throw new Error(\"convertRadix2: carry overflow from=\".concat(from, \" to=\").concat(to, \" carryBits=\").concat(radix2carry(from, to)));\n  }\n  var carry = 0;\n  var pos = 0;\n  var mask = Math.pow(2, to) - 1;\n  var res = [];\n  var _iterator4 = _createForOfIteratorHelper(data),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var n = _step4.value;\n      assertNumber(n);\n      if (n >= Math.pow(2, from)) throw new Error(\"convertRadix2: invalid data word=\".concat(n, \" from=\").concat(from));\n      carry = carry << from | n;\n      if (pos + from > 32) throw new Error(\"convertRadix2: carry overflow pos=\".concat(pos, \" from=\").concat(from));\n      pos += from;\n      for (; pos >= to; pos -= to) {\n        res.push((carry >> pos - to & mask) >>> 0);\n      }\n      carry &= Math.pow(2, pos) - 1;\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  carry = carry << to - pos & mask;\n  if (!padding && pos >= from) throw new Error('Excess padding');\n  if (!padding && carry) throw new Error(\"Non-zero padding: \".concat(carry));\n  if (padding && pos > 0) res.push(carry >>> 0);\n  return res;\n}\nfunction radix(num) {\n  assertNumber(num);\n  return {\n    encode: function encode(bytes) {\n      if (!(bytes instanceof Uint8Array)) throw new Error('radix.encode input should be Uint8Array');\n      return convertRadix(Array.from(bytes), Math.pow(2, 8), num);\n    },\n    decode: function decode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('radix.decode input should be array of strings');\n      return Uint8Array.from(convertRadix(digits, num, Math.pow(2, 8)));\n    }\n  };\n}\nfunction radix2(bits) {\n  var revPadding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  assertNumber(bits);\n  if (bits <= 0 || bits > 32) throw new Error('radix2: bits should be in (0..32]');\n  if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32) throw new Error('radix2: carry overflow');\n  return {\n    encode: function encode(bytes) {\n      if (!(bytes instanceof Uint8Array)) throw new Error('radix2.encode input should be Uint8Array');\n      return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n    },\n    decode: function decode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('radix2.decode input should be array of strings');\n      return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n    }\n  };\n}\nfunction unsafeWrapper(fn) {\n  if (typeof fn !== 'function') throw new Error('unsafeWrapper fn should be function');\n  return function () {\n    try {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return fn.apply(null, args);\n    } catch (e) {}\n  };\n}\nfunction checksum(len, fn) {\n  assertNumber(len);\n  if (typeof fn !== 'function') throw new Error('checksum fn should be function');\n  return {\n    encode: function encode(data) {\n      if (!(data instanceof Uint8Array)) throw new Error('checksum.encode: input should be Uint8Array');\n      var checksum = fn(data).slice(0, len);\n      var res = new Uint8Array(data.length + len);\n      res.set(data);\n      res.set(checksum, data.length);\n      return res;\n    },\n    decode: function decode(data) {\n      if (!(data instanceof Uint8Array)) throw new Error('checksum.decode: input should be Uint8Array');\n      var payload = data.slice(0, -len);\n      var newChecksum = fn(payload).slice(0, len);\n      var oldChecksum = data.slice(-len);\n      for (var i = 0; i < len; i++) {\n        if (newChecksum[i] !== oldChecksum[i]) throw new Error('Invalid checksum');\n      }\n      return payload;\n    }\n  };\n}\nexport var utils = {\n  alphabet: alphabet,\n  chain: chain,\n  checksum: checksum,\n  radix: radix,\n  radix2: radix2,\n  join: join,\n  padding: padding\n};\nexport var base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexport var base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexport var base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexport var base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize(function (s) {\n  return s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1');\n}));\nexport var base64 = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexport var base64url = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nvar genBase58 = function genBase58(abc) {\n  return chain(radix(58), alphabet(abc), join(''));\n};\nexport var base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexport var base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexport var base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\nvar XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexport var base58xmr = {\n  encode: function encode(data) {\n    var res = '';\n    for (var i = 0; i < data.length; i += 8) {\n      var block = data.subarray(i, i + 8);\n      res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n    }\n    return res;\n  },\n  decode: function decode(str) {\n    var res = [];\n    for (var i = 0; i < str.length; i += 11) {\n      var slice = str.slice(i, i + 11);\n      var blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n      var block = base58.decode(slice);\n      for (var j = 0; j < block.length - blockLen; j++) {\n        if (block[j] !== 0) throw new Error('base58xmr: wrong padding');\n      }\n      res = res.concat(Array.from(block.slice(block.length - blockLen)));\n    }\n    return Uint8Array.from(res);\n  }\n};\nexport var base58check = function base58check(sha256) {\n  return chain(checksum(4, function (data) {\n    return sha256(sha256(data));\n  }), base58);\n};\nvar BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nvar POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n  var b = pre >> 25;\n  var chk = (pre & 0x1ffffff) << 5;\n  for (var i = 0; i < POLYMOD_GENERATORS.length; i++) {\n    if ((b >> i & 1) === 1) chk ^= POLYMOD_GENERATORS[i];\n  }\n  return chk;\n}\nfunction bechChecksum(prefix, words) {\n  var encodingConst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var len = prefix.length;\n  var chk = 1;\n  for (var i = 0; i < len; i++) {\n    var c = prefix.charCodeAt(i);\n    if (c < 33 || c > 126) throw new Error(\"Invalid prefix (\".concat(prefix, \")\"));\n    chk = bech32Polymod(chk) ^ c >> 5;\n  }\n  chk = bech32Polymod(chk);\n  for (var _i2 = 0; _i2 < len; _i2++) {\n    chk = bech32Polymod(chk) ^ prefix.charCodeAt(_i2) & 0x1f;\n  }\n  var _iterator5 = _createForOfIteratorHelper(words),\n    _step5;\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var v = _step5.value;\n      chk = bech32Polymod(chk) ^ v;\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  for (var _i3 = 0; _i3 < 6; _i3++) {\n    chk = bech32Polymod(chk);\n  }\n  chk ^= encodingConst;\n  return BECH_ALPHABET.encode(convertRadix2([chk % Math.pow(2, 30)], 30, 5, false));\n}\nfunction genBech32(encoding) {\n  var ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n  var _words = radix2(5);\n  var fromWords = _words.decode;\n  var toWords = _words.encode;\n  var fromWordsUnsafe = unsafeWrapper(fromWords);\n  function encode(prefix, words) {\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 90;\n    if (typeof prefix !== 'string') throw new Error(\"bech32.encode prefix should be string, not \".concat(typeof prefix));\n    if (!Array.isArray(words) || words.length && typeof words[0] !== 'number') throw new Error(\"bech32.encode words should be array of numbers, not \".concat(typeof words));\n    var actualLength = prefix.length + 7 + words.length;\n    if (limit !== false && actualLength > limit) throw new TypeError(\"Length \".concat(actualLength, \" exceeds limit \").concat(limit));\n    prefix = prefix.toLowerCase();\n    return \"\".concat(prefix, \"1\").concat(BECH_ALPHABET.encode(words)).concat(bechChecksum(prefix, words, ENCODING_CONST));\n  }\n  function decode(str) {\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 90;\n    if (typeof str !== 'string') throw new Error(\"bech32.decode input should be string, not \".concat(typeof str));\n    if (str.length < 8 || limit !== false && str.length > limit) throw new TypeError(\"Wrong string length: \".concat(str.length, \" (\").concat(str, \"). Expected (8..\").concat(limit, \")\"));\n    var lowered = str.toLowerCase();\n    if (str !== lowered && str !== str.toUpperCase()) throw new Error(\"String must be lowercase or uppercase\");\n    str = lowered;\n    var sepIndex = str.lastIndexOf('1');\n    if (sepIndex === 0 || sepIndex === -1) throw new Error(\"Letter \\\"1\\\" must be present between prefix and data only\");\n    var prefix = str.slice(0, sepIndex);\n    var _words = str.slice(sepIndex + 1);\n    if (_words.length < 6) throw new Error('Data must be at least 6 characters long');\n    var words = BECH_ALPHABET.decode(_words).slice(0, -6);\n    var sum = bechChecksum(prefix, words, ENCODING_CONST);\n    if (!_words.endsWith(sum)) throw new Error(\"Invalid checksum in \".concat(str, \": expected \\\"\").concat(sum, \"\\\"\"));\n    return {\n      prefix: prefix,\n      words: words\n    };\n  }\n  var decodeUnsafe = unsafeWrapper(decode);\n  function decodeToBytes(str) {\n    var _decode = decode(str, false),\n      prefix = _decode.prefix,\n      words = _decode.words;\n    return {\n      prefix: prefix,\n      words: words,\n      bytes: fromWords(words)\n    };\n  }\n  return {\n    encode: encode,\n    decode: decode,\n    decodeToBytes: decodeToBytes,\n    decodeUnsafe: decodeUnsafe,\n    fromWords: fromWords,\n    fromWordsUnsafe: fromWordsUnsafe,\n    toWords: toWords\n  };\n}\nexport var bech32 = genBech32('bech32');\nexport var bech32m = genBech32('bech32m');\nexport var utf8 = {\n  encode: function encode(data) {\n    return new TextDecoder().decode(data);\n  },\n  decode: function decode(str) {\n    return new TextEncoder().encode(str);\n  }\n};\nexport var hex = chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize(function (s) {\n  if (typeof s !== 'string' || s.length % 2) throw new TypeError(\"hex.decode: expected string, got \".concat(typeof s, \" with length \").concat(s.length));\n  return s.toLowerCase();\n}));\nvar CODERS = {\n  utf8: utf8,\n  hex: hex,\n  base16: base16,\n  base32: base32,\n  base64: base64,\n  base64url: base64url,\n  base58: base58,\n  base58xmr: base58xmr\n};\nvar coderTypeError = \"Invalid encoding type. Available types: \".concat(Object.keys(CODERS).join(', '));\nexport var bytesToString = function bytesToString(type, bytes) {\n  if (typeof type !== 'string' || !CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (!(bytes instanceof Uint8Array)) throw new TypeError('bytesToString() expects Uint8Array');\n  return CODERS[type].encode(bytes);\n};\nexport var str = bytesToString;\nexport var stringToBytes = function stringToBytes(type, str) {\n  if (!CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (typeof str !== 'string') throw new TypeError('stringToBytes() expects string');\n  return CODERS[type].decode(str);\n};\nexport var bytes = stringToBytes;","export var wordlist = \"abandon\\nability\\nable\\nabout\\nabove\\nabsent\\nabsorb\\nabstract\\nabsurd\\nabuse\\naccess\\naccident\\naccount\\naccuse\\nachieve\\nacid\\nacoustic\\nacquire\\nacross\\nact\\naction\\nactor\\nactress\\nactual\\nadapt\\nadd\\naddict\\naddress\\nadjust\\nadmit\\nadult\\nadvance\\nadvice\\naerobic\\naffair\\nafford\\nafraid\\nagain\\nage\\nagent\\nagree\\nahead\\naim\\nair\\nairport\\naisle\\nalarm\\nalbum\\nalcohol\\nalert\\nalien\\nall\\nalley\\nallow\\nalmost\\nalone\\nalpha\\nalready\\nalso\\nalter\\nalways\\namateur\\namazing\\namong\\namount\\namused\\nanalyst\\nanchor\\nancient\\nanger\\nangle\\nangry\\nanimal\\nankle\\nannounce\\nannual\\nanother\\nanswer\\nantenna\\nantique\\nanxiety\\nany\\napart\\napology\\nappear\\napple\\napprove\\napril\\narch\\narctic\\narea\\narena\\nargue\\narm\\narmed\\narmor\\narmy\\naround\\narrange\\narrest\\narrive\\narrow\\nart\\nartefact\\nartist\\nartwork\\nask\\naspect\\nassault\\nasset\\nassist\\nassume\\nasthma\\nathlete\\natom\\nattack\\nattend\\nattitude\\nattract\\nauction\\naudit\\naugust\\naunt\\nauthor\\nauto\\nautumn\\naverage\\navocado\\navoid\\nawake\\naware\\naway\\nawesome\\nawful\\nawkward\\naxis\\nbaby\\nbachelor\\nbacon\\nbadge\\nbag\\nbalance\\nbalcony\\nball\\nbamboo\\nbanana\\nbanner\\nbar\\nbarely\\nbargain\\nbarrel\\nbase\\nbasic\\nbasket\\nbattle\\nbeach\\nbean\\nbeauty\\nbecause\\nbecome\\nbeef\\nbefore\\nbegin\\nbehave\\nbehind\\nbelieve\\nbelow\\nbelt\\nbench\\nbenefit\\nbest\\nbetray\\nbetter\\nbetween\\nbeyond\\nbicycle\\nbid\\nbike\\nbind\\nbiology\\nbird\\nbirth\\nbitter\\nblack\\nblade\\nblame\\nblanket\\nblast\\nbleak\\nbless\\nblind\\nblood\\nblossom\\nblouse\\nblue\\nblur\\nblush\\nboard\\nboat\\nbody\\nboil\\nbomb\\nbone\\nbonus\\nbook\\nboost\\nborder\\nboring\\nborrow\\nboss\\nbottom\\nbounce\\nbox\\nboy\\nbracket\\nbrain\\nbrand\\nbrass\\nbrave\\nbread\\nbreeze\\nbrick\\nbridge\\nbrief\\nbright\\nbring\\nbrisk\\nbroccoli\\nbroken\\nbronze\\nbroom\\nbrother\\nbrown\\nbrush\\nbubble\\nbuddy\\nbudget\\nbuffalo\\nbuild\\nbulb\\nbulk\\nbullet\\nbundle\\nbunker\\nburden\\nburger\\nburst\\nbus\\nbusiness\\nbusy\\nbutter\\nbuyer\\nbuzz\\ncabbage\\ncabin\\ncable\\ncactus\\ncage\\ncake\\ncall\\ncalm\\ncamera\\ncamp\\ncan\\ncanal\\ncancel\\ncandy\\ncannon\\ncanoe\\ncanvas\\ncanyon\\ncapable\\ncapital\\ncaptain\\ncar\\ncarbon\\ncard\\ncargo\\ncarpet\\ncarry\\ncart\\ncase\\ncash\\ncasino\\ncastle\\ncasual\\ncat\\ncatalog\\ncatch\\ncategory\\ncattle\\ncaught\\ncause\\ncaution\\ncave\\nceiling\\ncelery\\ncement\\ncensus\\ncentury\\ncereal\\ncertain\\nchair\\nchalk\\nchampion\\nchange\\nchaos\\nchapter\\ncharge\\nchase\\nchat\\ncheap\\ncheck\\ncheese\\nchef\\ncherry\\nchest\\nchicken\\nchief\\nchild\\nchimney\\nchoice\\nchoose\\nchronic\\nchuckle\\nchunk\\nchurn\\ncigar\\ncinnamon\\ncircle\\ncitizen\\ncity\\ncivil\\nclaim\\nclap\\nclarify\\nclaw\\nclay\\nclean\\nclerk\\nclever\\nclick\\nclient\\ncliff\\nclimb\\nclinic\\nclip\\nclock\\nclog\\nclose\\ncloth\\ncloud\\nclown\\nclub\\nclump\\ncluster\\nclutch\\ncoach\\ncoast\\ncoconut\\ncode\\ncoffee\\ncoil\\ncoin\\ncollect\\ncolor\\ncolumn\\ncombine\\ncome\\ncomfort\\ncomic\\ncommon\\ncompany\\nconcert\\nconduct\\nconfirm\\ncongress\\nconnect\\nconsider\\ncontrol\\nconvince\\ncook\\ncool\\ncopper\\ncopy\\ncoral\\ncore\\ncorn\\ncorrect\\ncost\\ncotton\\ncouch\\ncountry\\ncouple\\ncourse\\ncousin\\ncover\\ncoyote\\ncrack\\ncradle\\ncraft\\ncram\\ncrane\\ncrash\\ncrater\\ncrawl\\ncrazy\\ncream\\ncredit\\ncreek\\ncrew\\ncricket\\ncrime\\ncrisp\\ncritic\\ncrop\\ncross\\ncrouch\\ncrowd\\ncrucial\\ncruel\\ncruise\\ncrumble\\ncrunch\\ncrush\\ncry\\ncrystal\\ncube\\nculture\\ncup\\ncupboard\\ncurious\\ncurrent\\ncurtain\\ncurve\\ncushion\\ncustom\\ncute\\ncycle\\ndad\\ndamage\\ndamp\\ndance\\ndanger\\ndaring\\ndash\\ndaughter\\ndawn\\nday\\ndeal\\ndebate\\ndebris\\ndecade\\ndecember\\ndecide\\ndecline\\ndecorate\\ndecrease\\ndeer\\ndefense\\ndefine\\ndefy\\ndegree\\ndelay\\ndeliver\\ndemand\\ndemise\\ndenial\\ndentist\\ndeny\\ndepart\\ndepend\\ndeposit\\ndepth\\ndeputy\\nderive\\ndescribe\\ndesert\\ndesign\\ndesk\\ndespair\\ndestroy\\ndetail\\ndetect\\ndevelop\\ndevice\\ndevote\\ndiagram\\ndial\\ndiamond\\ndiary\\ndice\\ndiesel\\ndiet\\ndiffer\\ndigital\\ndignity\\ndilemma\\ndinner\\ndinosaur\\ndirect\\ndirt\\ndisagree\\ndiscover\\ndisease\\ndish\\ndismiss\\ndisorder\\ndisplay\\ndistance\\ndivert\\ndivide\\ndivorce\\ndizzy\\ndoctor\\ndocument\\ndog\\ndoll\\ndolphin\\ndomain\\ndonate\\ndonkey\\ndonor\\ndoor\\ndose\\ndouble\\ndove\\ndraft\\ndragon\\ndrama\\ndrastic\\ndraw\\ndream\\ndress\\ndrift\\ndrill\\ndrink\\ndrip\\ndrive\\ndrop\\ndrum\\ndry\\nduck\\ndumb\\ndune\\nduring\\ndust\\ndutch\\nduty\\ndwarf\\ndynamic\\neager\\neagle\\nearly\\nearn\\nearth\\neasily\\neast\\neasy\\necho\\necology\\neconomy\\nedge\\nedit\\neducate\\neffort\\negg\\neight\\neither\\nelbow\\nelder\\nelectric\\nelegant\\nelement\\nelephant\\nelevator\\nelite\\nelse\\nembark\\nembody\\nembrace\\nemerge\\nemotion\\nemploy\\nempower\\nempty\\nenable\\nenact\\nend\\nendless\\nendorse\\nenemy\\nenergy\\nenforce\\nengage\\nengine\\nenhance\\nenjoy\\nenlist\\nenough\\nenrich\\nenroll\\nensure\\nenter\\nentire\\nentry\\nenvelope\\nepisode\\nequal\\nequip\\nera\\nerase\\nerode\\nerosion\\nerror\\nerupt\\nescape\\nessay\\nessence\\nestate\\neternal\\nethics\\nevidence\\nevil\\nevoke\\nevolve\\nexact\\nexample\\nexcess\\nexchange\\nexcite\\nexclude\\nexcuse\\nexecute\\nexercise\\nexhaust\\nexhibit\\nexile\\nexist\\nexit\\nexotic\\nexpand\\nexpect\\nexpire\\nexplain\\nexpose\\nexpress\\nextend\\nextra\\neye\\neyebrow\\nfabric\\nface\\nfaculty\\nfade\\nfaint\\nfaith\\nfall\\nfalse\\nfame\\nfamily\\nfamous\\nfan\\nfancy\\nfantasy\\nfarm\\nfashion\\nfat\\nfatal\\nfather\\nfatigue\\nfault\\nfavorite\\nfeature\\nfebruary\\nfederal\\nfee\\nfeed\\nfeel\\nfemale\\nfence\\nfestival\\nfetch\\nfever\\nfew\\nfiber\\nfiction\\nfield\\nfigure\\nfile\\nfilm\\nfilter\\nfinal\\nfind\\nfine\\nfinger\\nfinish\\nfire\\nfirm\\nfirst\\nfiscal\\nfish\\nfit\\nfitness\\nfix\\nflag\\nflame\\nflash\\nflat\\nflavor\\nflee\\nflight\\nflip\\nfloat\\nflock\\nfloor\\nflower\\nfluid\\nflush\\nfly\\nfoam\\nfocus\\nfog\\nfoil\\nfold\\nfollow\\nfood\\nfoot\\nforce\\nforest\\nforget\\nfork\\nfortune\\nforum\\nforward\\nfossil\\nfoster\\nfound\\nfox\\nfragile\\nframe\\nfrequent\\nfresh\\nfriend\\nfringe\\nfrog\\nfront\\nfrost\\nfrown\\nfrozen\\nfruit\\nfuel\\nfun\\nfunny\\nfurnace\\nfury\\nfuture\\ngadget\\ngain\\ngalaxy\\ngallery\\ngame\\ngap\\ngarage\\ngarbage\\ngarden\\ngarlic\\ngarment\\ngas\\ngasp\\ngate\\ngather\\ngauge\\ngaze\\ngeneral\\ngenius\\ngenre\\ngentle\\ngenuine\\ngesture\\nghost\\ngiant\\ngift\\ngiggle\\nginger\\ngiraffe\\ngirl\\ngive\\nglad\\nglance\\nglare\\nglass\\nglide\\nglimpse\\nglobe\\ngloom\\nglory\\nglove\\nglow\\nglue\\ngoat\\ngoddess\\ngold\\ngood\\ngoose\\ngorilla\\ngospel\\ngossip\\ngovern\\ngown\\ngrab\\ngrace\\ngrain\\ngrant\\ngrape\\ngrass\\ngravity\\ngreat\\ngreen\\ngrid\\ngrief\\ngrit\\ngrocery\\ngroup\\ngrow\\ngrunt\\nguard\\nguess\\nguide\\nguilt\\nguitar\\ngun\\ngym\\nhabit\\nhair\\nhalf\\nhammer\\nhamster\\nhand\\nhappy\\nharbor\\nhard\\nharsh\\nharvest\\nhat\\nhave\\nhawk\\nhazard\\nhead\\nhealth\\nheart\\nheavy\\nhedgehog\\nheight\\nhello\\nhelmet\\nhelp\\nhen\\nhero\\nhidden\\nhigh\\nhill\\nhint\\nhip\\nhire\\nhistory\\nhobby\\nhockey\\nhold\\nhole\\nholiday\\nhollow\\nhome\\nhoney\\nhood\\nhope\\nhorn\\nhorror\\nhorse\\nhospital\\nhost\\nhotel\\nhour\\nhover\\nhub\\nhuge\\nhuman\\nhumble\\nhumor\\nhundred\\nhungry\\nhunt\\nhurdle\\nhurry\\nhurt\\nhusband\\nhybrid\\nice\\nicon\\nidea\\nidentify\\nidle\\nignore\\nill\\nillegal\\nillness\\nimage\\nimitate\\nimmense\\nimmune\\nimpact\\nimpose\\nimprove\\nimpulse\\ninch\\ninclude\\nincome\\nincrease\\nindex\\nindicate\\nindoor\\nindustry\\ninfant\\ninflict\\ninform\\ninhale\\ninherit\\ninitial\\ninject\\ninjury\\ninmate\\ninner\\ninnocent\\ninput\\ninquiry\\ninsane\\ninsect\\ninside\\ninspire\\ninstall\\nintact\\ninterest\\ninto\\ninvest\\ninvite\\ninvolve\\niron\\nisland\\nisolate\\nissue\\nitem\\nivory\\njacket\\njaguar\\njar\\njazz\\njealous\\njeans\\njelly\\njewel\\njob\\njoin\\njoke\\njourney\\njoy\\njudge\\njuice\\njump\\njungle\\njunior\\njunk\\njust\\nkangaroo\\nkeen\\nkeep\\nketchup\\nkey\\nkick\\nkid\\nkidney\\nkind\\nkingdom\\nkiss\\nkit\\nkitchen\\nkite\\nkitten\\nkiwi\\nknee\\nknife\\nknock\\nknow\\nlab\\nlabel\\nlabor\\nladder\\nlady\\nlake\\nlamp\\nlanguage\\nlaptop\\nlarge\\nlater\\nlatin\\nlaugh\\nlaundry\\nlava\\nlaw\\nlawn\\nlawsuit\\nlayer\\nlazy\\nleader\\nleaf\\nlearn\\nleave\\nlecture\\nleft\\nleg\\nlegal\\nlegend\\nleisure\\nlemon\\nlend\\nlength\\nlens\\nleopard\\nlesson\\nletter\\nlevel\\nliar\\nliberty\\nlibrary\\nlicense\\nlife\\nlift\\nlight\\nlike\\nlimb\\nlimit\\nlink\\nlion\\nliquid\\nlist\\nlittle\\nlive\\nlizard\\nload\\nloan\\nlobster\\nlocal\\nlock\\nlogic\\nlonely\\nlong\\nloop\\nlottery\\nloud\\nlounge\\nlove\\nloyal\\nlucky\\nluggage\\nlumber\\nlunar\\nlunch\\nluxury\\nlyrics\\nmachine\\nmad\\nmagic\\nmagnet\\nmaid\\nmail\\nmain\\nmajor\\nmake\\nmammal\\nman\\nmanage\\nmandate\\nmango\\nmansion\\nmanual\\nmaple\\nmarble\\nmarch\\nmargin\\nmarine\\nmarket\\nmarriage\\nmask\\nmass\\nmaster\\nmatch\\nmaterial\\nmath\\nmatrix\\nmatter\\nmaximum\\nmaze\\nmeadow\\nmean\\nmeasure\\nmeat\\nmechanic\\nmedal\\nmedia\\nmelody\\nmelt\\nmember\\nmemory\\nmention\\nmenu\\nmercy\\nmerge\\nmerit\\nmerry\\nmesh\\nmessage\\nmetal\\nmethod\\nmiddle\\nmidnight\\nmilk\\nmillion\\nmimic\\nmind\\nminimum\\nminor\\nminute\\nmiracle\\nmirror\\nmisery\\nmiss\\nmistake\\nmix\\nmixed\\nmixture\\nmobile\\nmodel\\nmodify\\nmom\\nmoment\\nmonitor\\nmonkey\\nmonster\\nmonth\\nmoon\\nmoral\\nmore\\nmorning\\nmosquito\\nmother\\nmotion\\nmotor\\nmountain\\nmouse\\nmove\\nmovie\\nmuch\\nmuffin\\nmule\\nmultiply\\nmuscle\\nmuseum\\nmushroom\\nmusic\\nmust\\nmutual\\nmyself\\nmystery\\nmyth\\nnaive\\nname\\nnapkin\\nnarrow\\nnasty\\nnation\\nnature\\nnear\\nneck\\nneed\\nnegative\\nneglect\\nneither\\nnephew\\nnerve\\nnest\\nnet\\nnetwork\\nneutral\\nnever\\nnews\\nnext\\nnice\\nnight\\nnoble\\nnoise\\nnominee\\nnoodle\\nnormal\\nnorth\\nnose\\nnotable\\nnote\\nnothing\\nnotice\\nnovel\\nnow\\nnuclear\\nnumber\\nnurse\\nnut\\noak\\nobey\\nobject\\noblige\\nobscure\\nobserve\\nobtain\\nobvious\\noccur\\nocean\\noctober\\nodor\\noff\\noffer\\noffice\\noften\\noil\\nokay\\nold\\nolive\\nolympic\\nomit\\nonce\\none\\nonion\\nonline\\nonly\\nopen\\nopera\\nopinion\\noppose\\noption\\norange\\norbit\\norchard\\norder\\nordinary\\norgan\\norient\\noriginal\\norphan\\nostrich\\nother\\noutdoor\\nouter\\noutput\\noutside\\noval\\noven\\nover\\nown\\nowner\\noxygen\\noyster\\nozone\\npact\\npaddle\\npage\\npair\\npalace\\npalm\\npanda\\npanel\\npanic\\npanther\\npaper\\nparade\\nparent\\npark\\nparrot\\nparty\\npass\\npatch\\npath\\npatient\\npatrol\\npattern\\npause\\npave\\npayment\\npeace\\npeanut\\npear\\npeasant\\npelican\\npen\\npenalty\\npencil\\npeople\\npepper\\nperfect\\npermit\\nperson\\npet\\nphone\\nphoto\\nphrase\\nphysical\\npiano\\npicnic\\npicture\\npiece\\npig\\npigeon\\npill\\npilot\\npink\\npioneer\\npipe\\npistol\\npitch\\npizza\\nplace\\nplanet\\nplastic\\nplate\\nplay\\nplease\\npledge\\npluck\\nplug\\nplunge\\npoem\\npoet\\npoint\\npolar\\npole\\npolice\\npond\\npony\\npool\\npopular\\nportion\\nposition\\npossible\\npost\\npotato\\npottery\\npoverty\\npowder\\npower\\npractice\\npraise\\npredict\\nprefer\\nprepare\\npresent\\npretty\\nprevent\\nprice\\npride\\nprimary\\nprint\\npriority\\nprison\\nprivate\\nprize\\nproblem\\nprocess\\nproduce\\nprofit\\nprogram\\nproject\\npromote\\nproof\\nproperty\\nprosper\\nprotect\\nproud\\nprovide\\npublic\\npudding\\npull\\npulp\\npulse\\npumpkin\\npunch\\npupil\\npuppy\\npurchase\\npurity\\npurpose\\npurse\\npush\\nput\\npuzzle\\npyramid\\nquality\\nquantum\\nquarter\\nquestion\\nquick\\nquit\\nquiz\\nquote\\nrabbit\\nraccoon\\nrace\\nrack\\nradar\\nradio\\nrail\\nrain\\nraise\\nrally\\nramp\\nranch\\nrandom\\nrange\\nrapid\\nrare\\nrate\\nrather\\nraven\\nraw\\nrazor\\nready\\nreal\\nreason\\nrebel\\nrebuild\\nrecall\\nreceive\\nrecipe\\nrecord\\nrecycle\\nreduce\\nreflect\\nreform\\nrefuse\\nregion\\nregret\\nregular\\nreject\\nrelax\\nrelease\\nrelief\\nrely\\nremain\\nremember\\nremind\\nremove\\nrender\\nrenew\\nrent\\nreopen\\nrepair\\nrepeat\\nreplace\\nreport\\nrequire\\nrescue\\nresemble\\nresist\\nresource\\nresponse\\nresult\\nretire\\nretreat\\nreturn\\nreunion\\nreveal\\nreview\\nreward\\nrhythm\\nrib\\nribbon\\nrice\\nrich\\nride\\nridge\\nrifle\\nright\\nrigid\\nring\\nriot\\nripple\\nrisk\\nritual\\nrival\\nriver\\nroad\\nroast\\nrobot\\nrobust\\nrocket\\nromance\\nroof\\nrookie\\nroom\\nrose\\nrotate\\nrough\\nround\\nroute\\nroyal\\nrubber\\nrude\\nrug\\nrule\\nrun\\nrunway\\nrural\\nsad\\nsaddle\\nsadness\\nsafe\\nsail\\nsalad\\nsalmon\\nsalon\\nsalt\\nsalute\\nsame\\nsample\\nsand\\nsatisfy\\nsatoshi\\nsauce\\nsausage\\nsave\\nsay\\nscale\\nscan\\nscare\\nscatter\\nscene\\nscheme\\nschool\\nscience\\nscissors\\nscorpion\\nscout\\nscrap\\nscreen\\nscript\\nscrub\\nsea\\nsearch\\nseason\\nseat\\nsecond\\nsecret\\nsection\\nsecurity\\nseed\\nseek\\nsegment\\nselect\\nsell\\nseminar\\nsenior\\nsense\\nsentence\\nseries\\nservice\\nsession\\nsettle\\nsetup\\nseven\\nshadow\\nshaft\\nshallow\\nshare\\nshed\\nshell\\nsheriff\\nshield\\nshift\\nshine\\nship\\nshiver\\nshock\\nshoe\\nshoot\\nshop\\nshort\\nshoulder\\nshove\\nshrimp\\nshrug\\nshuffle\\nshy\\nsibling\\nsick\\nside\\nsiege\\nsight\\nsign\\nsilent\\nsilk\\nsilly\\nsilver\\nsimilar\\nsimple\\nsince\\nsing\\nsiren\\nsister\\nsituate\\nsix\\nsize\\nskate\\nsketch\\nski\\nskill\\nskin\\nskirt\\nskull\\nslab\\nslam\\nsleep\\nslender\\nslice\\nslide\\nslight\\nslim\\nslogan\\nslot\\nslow\\nslush\\nsmall\\nsmart\\nsmile\\nsmoke\\nsmooth\\nsnack\\nsnake\\nsnap\\nsniff\\nsnow\\nsoap\\nsoccer\\nsocial\\nsock\\nsoda\\nsoft\\nsolar\\nsoldier\\nsolid\\nsolution\\nsolve\\nsomeone\\nsong\\nsoon\\nsorry\\nsort\\nsoul\\nsound\\nsoup\\nsource\\nsouth\\nspace\\nspare\\nspatial\\nspawn\\nspeak\\nspecial\\nspeed\\nspell\\nspend\\nsphere\\nspice\\nspider\\nspike\\nspin\\nspirit\\nsplit\\nspoil\\nsponsor\\nspoon\\nsport\\nspot\\nspray\\nspread\\nspring\\nspy\\nsquare\\nsqueeze\\nsquirrel\\nstable\\nstadium\\nstaff\\nstage\\nstairs\\nstamp\\nstand\\nstart\\nstate\\nstay\\nsteak\\nsteel\\nstem\\nstep\\nstereo\\nstick\\nstill\\nsting\\nstock\\nstomach\\nstone\\nstool\\nstory\\nstove\\nstrategy\\nstreet\\nstrike\\nstrong\\nstruggle\\nstudent\\nstuff\\nstumble\\nstyle\\nsubject\\nsubmit\\nsubway\\nsuccess\\nsuch\\nsudden\\nsuffer\\nsugar\\nsuggest\\nsuit\\nsummer\\nsun\\nsunny\\nsunset\\nsuper\\nsupply\\nsupreme\\nsure\\nsurface\\nsurge\\nsurprise\\nsurround\\nsurvey\\nsuspect\\nsustain\\nswallow\\nswamp\\nswap\\nswarm\\nswear\\nsweet\\nswift\\nswim\\nswing\\nswitch\\nsword\\nsymbol\\nsymptom\\nsyrup\\nsystem\\ntable\\ntackle\\ntag\\ntail\\ntalent\\ntalk\\ntank\\ntape\\ntarget\\ntask\\ntaste\\ntattoo\\ntaxi\\nteach\\nteam\\ntell\\nten\\ntenant\\ntennis\\ntent\\nterm\\ntest\\ntext\\nthank\\nthat\\ntheme\\nthen\\ntheory\\nthere\\nthey\\nthing\\nthis\\nthought\\nthree\\nthrive\\nthrow\\nthumb\\nthunder\\nticket\\ntide\\ntiger\\ntilt\\ntimber\\ntime\\ntiny\\ntip\\ntired\\ntissue\\ntitle\\ntoast\\ntobacco\\ntoday\\ntoddler\\ntoe\\ntogether\\ntoilet\\ntoken\\ntomato\\ntomorrow\\ntone\\ntongue\\ntonight\\ntool\\ntooth\\ntop\\ntopic\\ntopple\\ntorch\\ntornado\\ntortoise\\ntoss\\ntotal\\ntourist\\ntoward\\ntower\\ntown\\ntoy\\ntrack\\ntrade\\ntraffic\\ntragic\\ntrain\\ntransfer\\ntrap\\ntrash\\ntravel\\ntray\\ntreat\\ntree\\ntrend\\ntrial\\ntribe\\ntrick\\ntrigger\\ntrim\\ntrip\\ntrophy\\ntrouble\\ntruck\\ntrue\\ntruly\\ntrumpet\\ntrust\\ntruth\\ntry\\ntube\\ntuition\\ntumble\\ntuna\\ntunnel\\nturkey\\nturn\\nturtle\\ntwelve\\ntwenty\\ntwice\\ntwin\\ntwist\\ntwo\\ntype\\ntypical\\nugly\\numbrella\\nunable\\nunaware\\nuncle\\nuncover\\nunder\\nundo\\nunfair\\nunfold\\nunhappy\\nuniform\\nunique\\nunit\\nuniverse\\nunknown\\nunlock\\nuntil\\nunusual\\nunveil\\nupdate\\nupgrade\\nuphold\\nupon\\nupper\\nupset\\nurban\\nurge\\nusage\\nuse\\nused\\nuseful\\nuseless\\nusual\\nutility\\nvacant\\nvacuum\\nvague\\nvalid\\nvalley\\nvalve\\nvan\\nvanish\\nvapor\\nvarious\\nvast\\nvault\\nvehicle\\nvelvet\\nvendor\\nventure\\nvenue\\nverb\\nverify\\nversion\\nvery\\nvessel\\nveteran\\nviable\\nvibrant\\nvicious\\nvictory\\nvideo\\nview\\nvillage\\nvintage\\nviolin\\nvirtual\\nvirus\\nvisa\\nvisit\\nvisual\\nvital\\nvivid\\nvocal\\nvoice\\nvoid\\nvolcano\\nvolume\\nvote\\nvoyage\\nwage\\nwagon\\nwait\\nwalk\\nwall\\nwalnut\\nwant\\nwarfare\\nwarm\\nwarrior\\nwash\\nwasp\\nwaste\\nwater\\nwave\\nway\\nwealth\\nweapon\\nwear\\nweasel\\nweather\\nweb\\nwedding\\nweekend\\nweird\\nwelcome\\nwest\\nwet\\nwhale\\nwhat\\nwheat\\nwheel\\nwhen\\nwhere\\nwhip\\nwhisper\\nwide\\nwidth\\nwife\\nwild\\nwill\\nwin\\nwindow\\nwine\\nwing\\nwink\\nwinner\\nwinter\\nwire\\nwisdom\\nwise\\nwish\\nwitness\\nwolf\\nwoman\\nwonder\\nwood\\nwool\\nword\\nwork\\nworld\\nworry\\nworth\\nwrap\\nwreck\\nwrestle\\nwrist\\nwrite\\nwrong\\nyard\\nyear\\nyellow\\nyou\\nyoung\\nyouth\\nzebra\\nzero\\nzone\\nzoo\".split('\\n');","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport var HMAC = /*#__PURE__*/function (_Hash) {\n  _inherits(HMAC, _Hash);\n  var _super = _createSuper(HMAC);\n  function HMAC(hash, _key) {\n    var _this;\n    _classCallCheck(this, HMAC);\n    _this = _super.call(this);\n    _this.finished = false;\n    _this.destroyed = false;\n    assertHash(hash);\n    var key = toBytes(_key);\n    _this.iHash = hash.create();\n    if (typeof _this.iHash.update !== 'function') throw new Error('Expected instance of class which extends utils.Hash');\n    _this.blockLen = _this.iHash.blockLen;\n    _this.outputLen = _this.iHash.outputLen;\n    var blockLen = _this.blockLen;\n    var pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (var i = 0; i < pad.length; i++) {\n      pad[i] ^= 0x36;\n    }\n    _this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    _this.oHash = hash.create();\n    // Undo internal XOR && apply outer XOR\n    for (var _i = 0; _i < pad.length; _i++) {\n      pad[_i] ^= 0x36 ^ 0x5c;\n    }\n    _this.oHash.update(pad);\n    pad.fill(0);\n    return _this;\n  }\n  _createClass(HMAC, [{\n    key: \"update\",\n    value: function update(buf) {\n      assertExists(this);\n      this.iHash.update(buf);\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assertExists(this);\n      assertBytes(out, this.outputLen);\n      this.finished = true;\n      this.iHash.digestInto(out);\n      this.oHash.update(out);\n      this.oHash.digestInto(out);\n      this.destroy();\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var out = new Uint8Array(this.oHash.outputLen);\n      this.digestInto(out);\n      return out;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      // Create new instance without calling constructor since key already in state and we don't know it.\n      to || (to = Object.create(Object.getPrototypeOf(this), {}));\n      var oHash = this.oHash,\n        iHash = this.iHash,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        blockLen = this.blockLen,\n        outputLen = this.outputLen;\n      to = to;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      to.blockLen = blockLen;\n      to.outputLen = outputLen;\n      to.oHash = oHash._cloneInto(to.oHash);\n      to.iHash = iHash._cloneInto(to.iHash);\n      return to;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.destroyed = true;\n      this.oHash.destroy();\n      this.iHash.destroy();\n    }\n  }]);\n  return HMAC;\n}(Hash);\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport var hmac = function hmac(hash, key, message) {\n  return new HMAC(hash, key).update(message).digest();\n};\nhmac.create = function (hash, key) {\n  return new HMAC(hash, key);\n};","import _asyncToGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/regenerator/index.js\";\nimport { hash as assertHash, number as assertNumber } from './_assert.js';\nimport { hmac } from './hmac.js';\nimport { createView, toBytes, checkOpts, asyncLoop } from './utils.js';\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash, _password, _salt, _opts) {\n  assertHash(hash);\n  var opts = checkOpts({\n    dkLen: 32,\n    asyncTick: 10\n  }, _opts);\n  var c = opts.c,\n    dkLen = opts.dkLen,\n    asyncTick = opts.asyncTick;\n  assertNumber(c);\n  assertNumber(dkLen);\n  assertNumber(asyncTick);\n  if (c < 1) throw new Error('PBKDF2: iterations (c) should be >= 1');\n  var password = toBytes(_password);\n  var salt = toBytes(_salt);\n  // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n  var DK = new Uint8Array(dkLen);\n  // U1 = PRF(Password, Salt + INT_32_BE(i))\n  var PRF = hmac.create(hash, password);\n  var PRFSalt = PRF._cloneInto().update(salt);\n  return {\n    c: c,\n    dkLen: dkLen,\n    asyncTick: asyncTick,\n    DK: DK,\n    PRF: PRF,\n    PRFSalt: PRFSalt\n  };\n}\nfunction pbkdf2Output(PRF, PRFSalt, DK, prfW, u) {\n  PRF.destroy();\n  PRFSalt.destroy();\n  if (prfW) prfW.destroy();\n  u.fill(0);\n  return DK;\n}\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n */\nexport function pbkdf2(hash, password, salt, opts) {\n  var _pbkdf2Init = pbkdf2Init(hash, password, salt, opts),\n    c = _pbkdf2Init.c,\n    dkLen = _pbkdf2Init.dkLen,\n    DK = _pbkdf2Init.DK,\n    PRF = _pbkdf2Init.PRF,\n    PRFSalt = _pbkdf2Init.PRFSalt;\n  var prfW; // Working copy\n  var arr = new Uint8Array(4);\n  var view = createView(arr);\n  var u = new Uint8Array(PRF.outputLen);\n  // DK = T1 + T2 +  + Tdklen/hlen\n  for (var ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n    // Ti = F(Password, Salt, c, i)\n    var Ti = DK.subarray(pos, pos + PRF.outputLen);\n    view.setInt32(0, ti, false);\n    // F(Password, Salt, c, i) = U1 ^ U2 ^  ^ Uc\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n    Ti.set(u.subarray(0, Ti.length));\n    for (var ui = 1; ui < c; ui++) {\n      // Uc = PRF(Password, Uc1)\n      PRF._cloneInto(prfW).update(u).digestInto(u);\n      for (var i = 0; i < Ti.length; i++) {\n        Ti[i] ^= u[i];\n      }\n    }\n  }\n  return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\nexport function pbkdf2Async(_x, _x2, _x3, _x4) {\n  return _pbkdf2Async.apply(this, arguments);\n}\nfunction _pbkdf2Async() {\n  _pbkdf2Async = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(hash, password, salt, opts) {\n    var _pbkdf2Init2, c, dkLen, asyncTick, DK, PRF, PRFSalt, prfW, arr, view, u, _loop, ti, pos;\n    return _regeneratorRuntime.wrap(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _pbkdf2Init2 = pbkdf2Init(hash, password, salt, opts), c = _pbkdf2Init2.c, dkLen = _pbkdf2Init2.dkLen, asyncTick = _pbkdf2Init2.asyncTick, DK = _pbkdf2Init2.DK, PRF = _pbkdf2Init2.PRF, PRFSalt = _pbkdf2Init2.PRFSalt;\n            // Working copy\n            arr = new Uint8Array(4);\n            view = createView(arr);\n            u = new Uint8Array(PRF.outputLen); // DK = T1 + T2 +  + Tdklen/hlen\n            _loop = /*#__PURE__*/_regeneratorRuntime.mark(function _loop(ti, pos) {\n              var Ti;\n              return _regeneratorRuntime.wrap(function _loop$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      // Ti = F(Password, Salt, c, i)\n                      Ti = DK.subarray(pos, pos + PRF.outputLen);\n                      view.setInt32(0, ti, false);\n                      // F(Password, Salt, c, i) = U1 ^ U2 ^  ^ Uc\n                      // U1 = PRF(Password, Salt + INT_32_BE(i))\n                      (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n                      Ti.set(u.subarray(0, Ti.length));\n                      _context.next = 6;\n                      return asyncLoop(c - 1, asyncTick, function () {\n                        // Uc = PRF(Password, Uc1)\n                        PRF._cloneInto(prfW).update(u).digestInto(u);\n                        for (var i = 0; i < Ti.length; i++) {\n                          Ti[i] ^= u[i];\n                        }\n                      });\n                    case 6:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _loop);\n            });\n            ti = 1, pos = 0;\n          case 6:\n            if (!(pos < dkLen)) {\n              _context2.next = 11;\n              break;\n            }\n            return _context2.delegateYield(_loop(ti, pos), \"t0\", 8);\n          case 8:\n            ti++, pos += PRF.outputLen;\n            _context2.next = 6;\n            break;\n          case 11:\n            return _context2.abrupt(\"return\", pbkdf2Output(PRF, PRFSalt, DK, prfW, u));\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _pbkdf2Async.apply(this, arguments);\n}","import _toConsumableArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { exists, output } from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  var _32n = BigInt(32);\n  var _u32_max = BigInt(0xffffffff);\n  var wh = Number(value >> _32n & _u32_max);\n  var wl = Number(value & _u32_max);\n  var h = isLE ? 4 : 0;\n  var l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport var SHA2 = /*#__PURE__*/function (_Hash) {\n  _inherits(SHA2, _Hash);\n  var _super = _createSuper(SHA2);\n  function SHA2(blockLen, outputLen, padOffset, isLE) {\n    var _this;\n    _classCallCheck(this, SHA2);\n    _this = _super.call(this);\n    _this.blockLen = blockLen;\n    _this.outputLen = outputLen;\n    _this.padOffset = padOffset;\n    _this.isLE = isLE;\n    _this.finished = false;\n    _this.length = 0;\n    _this.pos = 0;\n    _this.destroyed = false;\n    _this.buffer = new Uint8Array(blockLen);\n    _this.view = createView(_this.buffer);\n    return _this;\n  }\n  _createClass(SHA2, [{\n    key: \"update\",\n    value: function update(data) {\n      exists(this);\n      var view = this.view,\n        buffer = this.buffer,\n        blockLen = this.blockLen;\n      data = toBytes(data);\n      var len = data.length;\n      for (var pos = 0; pos < len;) {\n        var take = Math.min(blockLen - this.pos, len - pos);\n        // Fast path: we have at least one block in input, cast it to view and process\n        if (take === blockLen) {\n          var dataView = createView(data);\n          for (; blockLen <= len - pos; pos += blockLen) {\n            this.process(dataView, pos);\n          }\n          continue;\n        }\n        buffer.set(data.subarray(pos, pos + take), this.pos);\n        this.pos += take;\n        pos += take;\n        if (this.pos === blockLen) {\n          this.process(view, 0);\n          this.pos = 0;\n        }\n      }\n      this.length += data.length;\n      this.roundClean();\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      exists(this);\n      output(out, this);\n      this.finished = true;\n      // Padding\n      // We can avoid allocation of buffer for padding completely if it\n      // was previously not allocated here. But it won't change performance.\n      var buffer = this.buffer,\n        view = this.view,\n        blockLen = this.blockLen,\n        isLE = this.isLE;\n      var pos = this.pos;\n      // append the bit '1' to the message\n      buffer[pos++] = 128;\n      this.buffer.subarray(pos).fill(0);\n      // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n      if (this.padOffset > blockLen - pos) {\n        this.process(view, 0);\n        pos = 0;\n      }\n      // Pad until full block byte with zeros\n      for (var i = pos; i < blockLen; i++) {\n        buffer[i] = 0;\n      }\n      // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n      // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n      // So we just write lowest 64 bits of that value.\n      setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n      this.process(view, 0);\n      var oview = createView(out);\n      var len = this.outputLen;\n      // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n      if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n      var outLen = len / 4;\n      var state = this.get();\n      if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n      for (var _i = 0; _i < outLen; _i++) {\n        oview.setUint32(4 * _i, state[_i], isLE);\n      }\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var buffer = this.buffer,\n        outputLen = this.outputLen;\n      this.digestInto(buffer);\n      var res = buffer.slice(0, outputLen);\n      this.destroy();\n      return res;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      var _to;\n      to || (to = new this.constructor());\n      (_to = to).set.apply(_to, _toConsumableArray(this.get()));\n      var blockLen = this.blockLen,\n        buffer = this.buffer,\n        length = this.length,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        pos = this.pos;\n      to.length = length;\n      to.pos = pos;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      if (length % blockLen) to.buffer.set(buffer);\n      return to;\n    }\n  }]);\n  return SHA2;\n}(Hash);","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n// Choice: a ? b : c\nvar Chi = function Chi(a, b, c) {\n  return a & b ^ ~a & c;\n};\n// Majority function, true if any two inpust is true\nvar Maj = function Maj(a, b, c) {\n  return a & b ^ a & c ^ b & c;\n};\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nvar SHA256_K = /* @__PURE__ */new Uint32Array([0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nvar IV = /* @__PURE__ */new Uint32Array([0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nvar SHA256_W = /* @__PURE__ */new Uint32Array(64);\nvar SHA256 = /*#__PURE__*/function (_SHA) {\n  _inherits(SHA256, _SHA);\n  var _super = _createSuper(SHA256);\n  function SHA256() {\n    var _this;\n    _classCallCheck(this, SHA256);\n    _this = _super.call(this, 64, 32, 8, false);\n    // We cannot use array here since array allows indexing by variable\n    // which means optimizer/compiler cannot use registers.\n    _this.A = IV[0] | 0;\n    _this.B = IV[1] | 0;\n    _this.C = IV[2] | 0;\n    _this.D = IV[3] | 0;\n    _this.E = IV[4] | 0;\n    _this.F = IV[5] | 0;\n    _this.G = IV[6] | 0;\n    _this.H = IV[7] | 0;\n    return _this;\n  }\n  _createClass(SHA256, [{\n    key: \"get\",\n    value: function get() {\n      var A = this.A,\n        B = this.B,\n        C = this.C,\n        D = this.D,\n        E = this.E,\n        F = this.F,\n        G = this.G,\n        H = this.H;\n      return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n  }, {\n    key: \"set\",\n    value: function set(A, B, C, D, E, F, G, H) {\n      this.A = A | 0;\n      this.B = B | 0;\n      this.C = C | 0;\n      this.D = D | 0;\n      this.E = E | 0;\n      this.F = F | 0;\n      this.G = G | 0;\n      this.H = H | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n      for (var i = 0; i < 16; i++, offset += 4) {\n        SHA256_W[i] = view.getUint32(offset, false);\n      }\n      for (var _i = 16; _i < 64; _i++) {\n        var W15 = SHA256_W[_i - 15];\n        var W2 = SHA256_W[_i - 2];\n        var s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ W15 >>> 3;\n        var s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ W2 >>> 10;\n        SHA256_W[_i] = s1 + SHA256_W[_i - 7] + s0 + SHA256_W[_i - 16] | 0;\n      }\n      // Compression function main loop, 64 rounds\n      var A = this.A,\n        B = this.B,\n        C = this.C,\n        D = this.D,\n        E = this.E,\n        F = this.F,\n        G = this.G,\n        H = this.H;\n      for (var i = 0; i < 64; i++) {\n        var sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n        var T1 = H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i] | 0;\n        var sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n        var T2 = sigma0 + Maj(A, B, C) | 0;\n        H = G;\n        G = F;\n        F = E;\n        E = D + T1 | 0;\n        D = C;\n        C = B;\n        B = A;\n        A = T1 + T2 | 0;\n      }\n      // Add the compressed chunk to the current hash value\n      A = A + this.A | 0;\n      B = B + this.B | 0;\n      C = C + this.C | 0;\n      D = D + this.D | 0;\n      E = E + this.E | 0;\n      F = F + this.F | 0;\n      G = G + this.G | 0;\n      H = H + this.H | 0;\n      this.set(A, B, C, D, E, F, G, H);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      SHA256_W.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.set(0, 0, 0, 0, 0, 0, 0, 0);\n      this.buffer.fill(0);\n    }\n  }]);\n  return SHA256;\n}(SHA2); // Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nvar SHA224 = /*#__PURE__*/function (_SHA2) {\n  _inherits(SHA224, _SHA2);\n  var _super2 = _createSuper(SHA224);\n  function SHA224() {\n    var _this2;\n    _classCallCheck(this, SHA224);\n    _this2 = _super2.call(this);\n    _this2.A = 0xc1059ed8 | 0;\n    _this2.B = 0x367cd507 | 0;\n    _this2.C = 0x3070dd17 | 0;\n    _this2.D = 0xf70e5939 | 0;\n    _this2.E = 0xffc00b31 | 0;\n    _this2.F = 0x68581511 | 0;\n    _this2.G = 0x64f98fa7 | 0;\n    _this2.H = 0xbefa4fa4 | 0;\n    _this2.outputLen = 28;\n    return _this2;\n  }\n  return _createClass(SHA224);\n}(SHA256);\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport var sha256 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA256();\n});\nexport var sha224 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA224();\n});","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nvar _ref = /* @__PURE__ */function () {\n    return u64.split(['0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc', '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118', '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2', '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694', '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65', '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5', '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4', '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70', '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df', '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b', '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30', '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8', '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8', '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3', '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec', '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b', '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178', '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b', '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c', '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'].map(function (n) {\n      return BigInt(n);\n    }));\n  }(),\n  _ref2 = _slicedToArray(_ref, 2),\n  SHA512_Kh = _ref2[0],\n  SHA512_Kl = _ref2[1];\n// Temporary buffer, not used to store anything between runs\nvar SHA512_W_H = /* @__PURE__ */new Uint32Array(80);\nvar SHA512_W_L = /* @__PURE__ */new Uint32Array(80);\nexport var SHA512 = /*#__PURE__*/function (_SHA) {\n  _inherits(SHA512, _SHA);\n  var _super = _createSuper(SHA512);\n  function SHA512() {\n    var _this;\n    _classCallCheck(this, SHA512);\n    _this = _super.call(this, 128, 64, 16, false);\n    // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n    // Also looks cleaner and easier to verify with spec.\n    // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n    // h -- high 32 bits, l -- low 32 bits\n    _this.Ah = 0x6a09e667 | 0;\n    _this.Al = 0xf3bcc908 | 0;\n    _this.Bh = 0xbb67ae85 | 0;\n    _this.Bl = 0x84caa73b | 0;\n    _this.Ch = 0x3c6ef372 | 0;\n    _this.Cl = 0xfe94f82b | 0;\n    _this.Dh = 0xa54ff53a | 0;\n    _this.Dl = 0x5f1d36f1 | 0;\n    _this.Eh = 0x510e527f | 0;\n    _this.El = 0xade682d1 | 0;\n    _this.Fh = 0x9b05688c | 0;\n    _this.Fl = 0x2b3e6c1f | 0;\n    _this.Gh = 0x1f83d9ab | 0;\n    _this.Gl = 0xfb41bd6b | 0;\n    _this.Hh = 0x5be0cd19 | 0;\n    _this.Hl = 0x137e2179 | 0;\n    return _this;\n  }\n  // prettier-ignore\n  _createClass(SHA512, [{\n    key: \"get\",\n    value: function get() {\n      var Ah = this.Ah,\n        Al = this.Al,\n        Bh = this.Bh,\n        Bl = this.Bl,\n        Ch = this.Ch,\n        Cl = this.Cl,\n        Dh = this.Dh,\n        Dl = this.Dl,\n        Eh = this.Eh,\n        El = this.El,\n        Fh = this.Fh,\n        Fl = this.Fl,\n        Gh = this.Gh,\n        Gl = this.Gl,\n        Hh = this.Hh,\n        Hl = this.Hl;\n      return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n  }, {\n    key: \"set\",\n    value: function set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n      this.Ah = Ah | 0;\n      this.Al = Al | 0;\n      this.Bh = Bh | 0;\n      this.Bl = Bl | 0;\n      this.Ch = Ch | 0;\n      this.Cl = Cl | 0;\n      this.Dh = Dh | 0;\n      this.Dl = Dl | 0;\n      this.Eh = Eh | 0;\n      this.El = El | 0;\n      this.Fh = Fh | 0;\n      this.Fl = Fl | 0;\n      this.Gh = Gh | 0;\n      this.Gl = Gl | 0;\n      this.Hh = Hh | 0;\n      this.Hl = Hl | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n      for (var i = 0; i < 16; i++, offset += 4) {\n        SHA512_W_H[i] = view.getUint32(offset);\n        SHA512_W_L[i] = view.getUint32(offset += 4);\n      }\n      for (var _i = 16; _i < 80; _i++) {\n        // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n        var W15h = SHA512_W_H[_i - 15] | 0;\n        var W15l = SHA512_W_L[_i - 15] | 0;\n        var s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n        var s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n        // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n        var W2h = SHA512_W_H[_i - 2] | 0;\n        var W2l = SHA512_W_L[_i - 2] | 0;\n        var s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n        var s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n        // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n        var SUMl = u64.add4L(s0l, s1l, SHA512_W_L[_i - 7], SHA512_W_L[_i - 16]);\n        var SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[_i - 7], SHA512_W_H[_i - 16]);\n        SHA512_W_H[_i] = SUMh | 0;\n        SHA512_W_L[_i] = SUMl | 0;\n      }\n      var Ah = this.Ah,\n        Al = this.Al,\n        Bh = this.Bh,\n        Bl = this.Bl,\n        Ch = this.Ch,\n        Cl = this.Cl,\n        Dh = this.Dh,\n        Dl = this.Dl,\n        Eh = this.Eh,\n        El = this.El,\n        Fh = this.Fh,\n        Fl = this.Fl,\n        Gh = this.Gh,\n        Gl = this.Gl,\n        Hh = this.Hh,\n        Hl = this.Hl;\n      // Compression function main loop, 80 rounds\n      for (var i = 0; i < 80; i++) {\n        // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n        var sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n        var sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n        //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n        var CHIh = Eh & Fh ^ ~Eh & Gh;\n        var CHIl = El & Fl ^ ~El & Gl;\n        // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n        // prettier-ignore\n        var T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n        var T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n        var T1l = T1ll | 0;\n        // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n        var sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n        var sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n        var MAJh = Ah & Bh ^ Ah & Ch ^ Bh & Ch;\n        var MAJl = Al & Bl ^ Al & Cl ^ Bl & Cl;\n        Hh = Gh | 0;\n        Hl = Gl | 0;\n        Gh = Fh | 0;\n        Gl = Fl | 0;\n        Fh = Eh | 0;\n        Fl = El | 0;\n        var _u64$add = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0);\n        Eh = _u64$add.h;\n        El = _u64$add.l;\n        Dh = Ch | 0;\n        Dl = Cl | 0;\n        Ch = Bh | 0;\n        Cl = Bl | 0;\n        Bh = Ah | 0;\n        Bl = Al | 0;\n        var All = u64.add3L(T1l, sigma0l, MAJl);\n        Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n        Al = All | 0;\n      }\n      // Add the compressed chunk to the current hash value\n      var _u64$add2 = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0);\n      Ah = _u64$add2.h;\n      Al = _u64$add2.l;\n      var _u64$add3 = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0);\n      Bh = _u64$add3.h;\n      Bl = _u64$add3.l;\n      var _u64$add4 = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0);\n      Ch = _u64$add4.h;\n      Cl = _u64$add4.l;\n      var _u64$add5 = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0);\n      Dh = _u64$add5.h;\n      Dl = _u64$add5.l;\n      var _u64$add6 = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0);\n      Eh = _u64$add6.h;\n      El = _u64$add6.l;\n      var _u64$add7 = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0);\n      Fh = _u64$add7.h;\n      Fl = _u64$add7.l;\n      var _u64$add8 = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0);\n      Gh = _u64$add8.h;\n      Gl = _u64$add8.l;\n      var _u64$add9 = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0);\n      Hh = _u64$add9.h;\n      Hl = _u64$add9.l;\n      this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      SHA512_W_H.fill(0);\n      SHA512_W_L.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.buffer.fill(0);\n      this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n  }]);\n  return SHA512;\n}(SHA2);\nvar SHA512_224 = /*#__PURE__*/function (_SHA2) {\n  _inherits(SHA512_224, _SHA2);\n  var _super2 = _createSuper(SHA512_224);\n  function SHA512_224() {\n    var _this2;\n    _classCallCheck(this, SHA512_224);\n    _this2 = _super2.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this2.Ah = 0x8c3d37c8 | 0;\n    _this2.Al = 0x19544da2 | 0;\n    _this2.Bh = 0x73e19966 | 0;\n    _this2.Bl = 0x89dcd4d6 | 0;\n    _this2.Ch = 0x1dfab7ae | 0;\n    _this2.Cl = 0x32ff9c82 | 0;\n    _this2.Dh = 0x679dd514 | 0;\n    _this2.Dl = 0x582f9fcf | 0;\n    _this2.Eh = 0x0f6d2b69 | 0;\n    _this2.El = 0x7bd44da8 | 0;\n    _this2.Fh = 0x77e36f73 | 0;\n    _this2.Fl = 0x04c48942 | 0;\n    _this2.Gh = 0x3f9d85a8 | 0;\n    _this2.Gl = 0x6a1d36c8 | 0;\n    _this2.Hh = 0x1112e6ad | 0;\n    _this2.Hl = 0x91d692a1 | 0;\n    _this2.outputLen = 28;\n    return _this2;\n  }\n  return _createClass(SHA512_224);\n}(SHA512);\nvar SHA512_256 = /*#__PURE__*/function (_SHA3) {\n  _inherits(SHA512_256, _SHA3);\n  var _super3 = _createSuper(SHA512_256);\n  function SHA512_256() {\n    var _this3;\n    _classCallCheck(this, SHA512_256);\n    _this3 = _super3.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this3.Ah = 0x22312194 | 0;\n    _this3.Al = 0xfc2bf72c | 0;\n    _this3.Bh = 0x9f555fa3 | 0;\n    _this3.Bl = 0xc84c64c2 | 0;\n    _this3.Ch = 0x2393b86b | 0;\n    _this3.Cl = 0x6f53b151 | 0;\n    _this3.Dh = 0x96387719 | 0;\n    _this3.Dl = 0x5940eabd | 0;\n    _this3.Eh = 0x96283ee2 | 0;\n    _this3.El = 0xa88effe3 | 0;\n    _this3.Fh = 0xbe5e1e25 | 0;\n    _this3.Fl = 0x53863992 | 0;\n    _this3.Gh = 0x2b0199fc | 0;\n    _this3.Gl = 0x2c85b8aa | 0;\n    _this3.Hh = 0x0eb72ddc | 0;\n    _this3.Hl = 0x81c52ca2 | 0;\n    _this3.outputLen = 32;\n    return _this3;\n  }\n  return _createClass(SHA512_256);\n}(SHA512);\nvar SHA384 = /*#__PURE__*/function (_SHA4) {\n  _inherits(SHA384, _SHA4);\n  var _super4 = _createSuper(SHA384);\n  function SHA384() {\n    var _this4;\n    _classCallCheck(this, SHA384);\n    _this4 = _super4.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this4.Ah = 0xcbbb9d5d | 0;\n    _this4.Al = 0xc1059ed8 | 0;\n    _this4.Bh = 0x629a292a | 0;\n    _this4.Bl = 0x367cd507 | 0;\n    _this4.Ch = 0x9159015a | 0;\n    _this4.Cl = 0x3070dd17 | 0;\n    _this4.Dh = 0x152fecd8 | 0;\n    _this4.Dl = 0xf70e5939 | 0;\n    _this4.Eh = 0x67332667 | 0;\n    _this4.El = 0xffc00b31 | 0;\n    _this4.Fh = 0x8eb44a87 | 0;\n    _this4.Fl = 0x68581511 | 0;\n    _this4.Gh = 0xdb0c2e0d | 0;\n    _this4.Gl = 0x64f98fa7 | 0;\n    _this4.Hh = 0x47b5481d | 0;\n    _this4.Hl = 0xbefa4fa4 | 0;\n    _this4.outputLen = 48;\n    return _this4;\n  }\n  return _createClass(SHA384);\n}(SHA512);\nexport var sha512 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA512();\n});\nexport var sha512_224 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA512_224();\n});\nexport var sha512_256 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA512_256();\n});\nexport var sha384 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA384();\n});","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Utilities\n/**\n * @__NO_SIDE_EFFECTS__\n */\nexport function assertNumber(n) {\n  if (!Number.isSafeInteger(n)) throw new Error(\"Wrong integer: \".concat(n));\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction chain() {\n  // Wrap call in closure so JIT can inline calls\n  var wrap = function wrap(a, b) {\n    return function (c) {\n      return a(b(c));\n    };\n  };\n  // Construct chain of args[-1].encode(args[-2].encode([...]))\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  var encode = Array.from(args).reverse().reduce(function (acc, i) {\n    return acc ? wrap(acc, i.encode) : i.encode;\n  }, undefined);\n  // Construct chain of args[0].decode(args[1].decode(...))\n  var decode = args.reduce(function (acc, i) {\n    return acc ? wrap(acc, i.decode) : i.decode;\n  }, undefined);\n  return {\n    encode: encode,\n    decode: decode\n  };\n}\n/**\n * Encodes integer radix representation to array of strings using alphabet and back\n * @__NO_SIDE_EFFECTS__\n */\nfunction alphabet(alphabet) {\n  return {\n    encode: function encode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('alphabet.encode input should be an array of numbers');\n      return digits.map(function (i) {\n        assertNumber(i);\n        if (i < 0 || i >= alphabet.length) throw new Error(\"Digit index outside alphabet: \".concat(i, \" (alphabet: \").concat(alphabet.length, \")\"));\n        return alphabet[i];\n      });\n    },\n    decode: function decode(input) {\n      if (!Array.isArray(input) || input.length && typeof input[0] !== 'string') throw new Error('alphabet.decode input should be array of strings');\n      return input.map(function (letter) {\n        if (typeof letter !== 'string') throw new Error(\"alphabet.decode: not string element=\".concat(letter));\n        var index = alphabet.indexOf(letter);\n        if (index === -1) throw new Error(\"Unknown letter: \\\"\".concat(letter, \"\\\". Allowed: \").concat(alphabet));\n        return index;\n      });\n    }\n  };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction join() {\n  var separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  if (typeof separator !== 'string') throw new Error('join separator should be string');\n  return {\n    encode: function encode(from) {\n      if (!Array.isArray(from) || from.length && typeof from[0] !== 'string') throw new Error('join.encode input should be array of strings');\n      var _iterator = _createForOfIteratorHelper(from),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var i = _step.value;\n          if (typeof i !== 'string') throw new Error(\"join.encode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return from.join(separator);\n    },\n    decode: function decode(to) {\n      if (typeof to !== 'string') throw new Error('join.decode input should be string');\n      return to.split(separator);\n    }\n  };\n}\n/**\n * Pad strings array so it has integer number of bits\n * @__NO_SIDE_EFFECTS__\n */\nfunction padding(bits) {\n  var chr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '=';\n  assertNumber(bits);\n  if (typeof chr !== 'string') throw new Error('padding chr should be string');\n  return {\n    encode: function encode(data) {\n      if (!Array.isArray(data) || data.length && typeof data[0] !== 'string') throw new Error('padding.encode input should be array of strings');\n      var _iterator2 = _createForOfIteratorHelper(data),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var i = _step2.value;\n          if (typeof i !== 'string') throw new Error(\"padding.encode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      while (data.length * bits % 8) {\n        data.push(chr);\n      }\n      return data;\n    },\n    decode: function decode(input) {\n      if (!Array.isArray(input) || input.length && typeof input[0] !== 'string') throw new Error('padding.encode input should be array of strings');\n      var _iterator3 = _createForOfIteratorHelper(input),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var i = _step3.value;\n          if (typeof i !== 'string') throw new Error(\"padding.decode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      var end = input.length;\n      if (end * bits % 8) throw new Error('Invalid padding: string should have whole number of bytes');\n      for (; end > 0 && input[end - 1] === chr; end--) {\n        if (!((end - 1) * bits % 8)) throw new Error('Invalid padding: string has too much padding');\n      }\n      return input.slice(0, end);\n    }\n  };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction normalize(fn) {\n  if (typeof fn !== 'function') throw new Error('normalize fn should be function');\n  return {\n    encode: function encode(from) {\n      return from;\n    },\n    decode: function decode(to) {\n      return fn(to);\n    }\n  };\n}\n/**\n * Slow: O(n^2) time complexity\n * @__NO_SIDE_EFFECTS__\n */\nfunction convertRadix(data, from, to) {\n  // base 1 is impossible\n  if (from < 2) throw new Error(\"convertRadix: wrong from=\".concat(from, \", base cannot be less than 2\"));\n  if (to < 2) throw new Error(\"convertRadix: wrong to=\".concat(to, \", base cannot be less than 2\"));\n  if (!Array.isArray(data)) throw new Error('convertRadix: data should be array');\n  if (!data.length) return [];\n  var pos = 0;\n  var res = [];\n  var digits = Array.from(data);\n  digits.forEach(function (d) {\n    assertNumber(d);\n    if (d < 0 || d >= from) throw new Error(\"Wrong integer: \".concat(d));\n  });\n  while (true) {\n    var carry = 0;\n    var done = true;\n    for (var i = pos; i < digits.length; i++) {\n      var digit = digits[i];\n      var digitBase = from * carry + digit;\n      if (!Number.isSafeInteger(digitBase) || from * carry / from !== carry || digitBase - digit !== from * carry) {\n        throw new Error('convertRadix: carry overflow');\n      }\n      carry = digitBase % to;\n      var rounded = Math.floor(digitBase / to);\n      digits[i] = rounded;\n      if (!Number.isSafeInteger(rounded) || rounded * to + carry !== digitBase) throw new Error('convertRadix: carry overflow');\n      if (!done) continue;else if (!rounded) pos = i;else done = false;\n    }\n    res.push(carry);\n    if (done) break;\n  }\n  for (var _i = 0; _i < data.length - 1 && data[_i] === 0; _i++) {\n    res.push(0);\n  }\n  return res.reverse();\n}\nvar gcd = /* @__NO_SIDE_EFFECTS__ */function gcd(a, b) {\n  return !b ? a : gcd(b, a % b);\n};\nvar radix2carry = /*@__NO_SIDE_EFFECTS__ */function radix2carry(from, to) {\n  return from + (to - gcd(from, to));\n};\n/**\n * Implemented with numbers, because BigInt is 5x slower\n * @__NO_SIDE_EFFECTS__\n */\nfunction convertRadix2(data, from, to, padding) {\n  if (!Array.isArray(data)) throw new Error('convertRadix2: data should be array');\n  if (from <= 0 || from > 32) throw new Error(\"convertRadix2: wrong from=\".concat(from));\n  if (to <= 0 || to > 32) throw new Error(\"convertRadix2: wrong to=\".concat(to));\n  if (radix2carry(from, to) > 32) {\n    throw new Error(\"convertRadix2: carry overflow from=\".concat(from, \" to=\").concat(to, \" carryBits=\").concat(radix2carry(from, to)));\n  }\n  var carry = 0;\n  var pos = 0; // bitwise position in current element\n  var mask = Math.pow(2, to) - 1;\n  var res = [];\n  var _iterator4 = _createForOfIteratorHelper(data),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var n = _step4.value;\n      assertNumber(n);\n      if (n >= Math.pow(2, from)) throw new Error(\"convertRadix2: invalid data word=\".concat(n, \" from=\").concat(from));\n      carry = carry << from | n;\n      if (pos + from > 32) throw new Error(\"convertRadix2: carry overflow pos=\".concat(pos, \" from=\").concat(from));\n      pos += from;\n      for (; pos >= to; pos -= to) {\n        res.push((carry >> pos - to & mask) >>> 0);\n      }\n      carry &= Math.pow(2, pos) - 1; // clean carry, otherwise it will cause overflow\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  carry = carry << to - pos & mask;\n  if (!padding && pos >= from) throw new Error('Excess padding');\n  if (!padding && carry) throw new Error(\"Non-zero padding: \".concat(carry));\n  if (padding && pos > 0) res.push(carry >>> 0);\n  return res;\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix(num) {\n  assertNumber(num);\n  return {\n    encode: function encode(bytes) {\n      if (!(bytes instanceof Uint8Array)) throw new Error('radix.encode input should be Uint8Array');\n      return convertRadix(Array.from(bytes), Math.pow(2, 8), num);\n    },\n    decode: function decode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('radix.decode input should be array of strings');\n      return Uint8Array.from(convertRadix(digits, num, Math.pow(2, 8)));\n    }\n  };\n}\n/**\n * If both bases are power of same number (like `2**8 <-> 2**64`),\n * there is a linear algorithm. For now we have implementation for power-of-two bases only.\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix2(bits) {\n  var revPadding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  assertNumber(bits);\n  if (bits <= 0 || bits > 32) throw new Error('radix2: bits should be in (0..32]');\n  if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32) throw new Error('radix2: carry overflow');\n  return {\n    encode: function encode(bytes) {\n      if (!(bytes instanceof Uint8Array)) throw new Error('radix2.encode input should be Uint8Array');\n      return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n    },\n    decode: function decode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('radix2.decode input should be array of strings');\n      return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n    }\n  };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction unsafeWrapper(fn) {\n  if (typeof fn !== 'function') throw new Error('unsafeWrapper fn should be function');\n  return function () {\n    try {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return fn.apply(null, args);\n    } catch (e) {}\n  };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction checksum(len, fn) {\n  assertNumber(len);\n  if (typeof fn !== 'function') throw new Error('checksum fn should be function');\n  return {\n    encode: function encode(data) {\n      if (!(data instanceof Uint8Array)) throw new Error('checksum.encode: input should be Uint8Array');\n      var checksum = fn(data).slice(0, len);\n      var res = new Uint8Array(data.length + len);\n      res.set(data);\n      res.set(checksum, data.length);\n      return res;\n    },\n    decode: function decode(data) {\n      if (!(data instanceof Uint8Array)) throw new Error('checksum.decode: input should be Uint8Array');\n      var payload = data.slice(0, -len);\n      var newChecksum = fn(payload).slice(0, len);\n      var oldChecksum = data.slice(-len);\n      for (var i = 0; i < len; i++) {\n        if (newChecksum[i] !== oldChecksum[i]) throw new Error('Invalid checksum');\n      }\n      return payload;\n    }\n  };\n}\nexport var utils = {\n  alphabet: alphabet,\n  chain: chain,\n  checksum: checksum,\n  radix: radix,\n  radix2: radix2,\n  join: join,\n  padding: padding\n};\n// RFC 4648 aka RFC 3548\n// ---------------------\nexport var base16 = /* @__PURE__ */chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexport var base32 = /* @__PURE__ */chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexport var base32hex = /* @__PURE__ */chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexport var base32crockford = /* @__PURE__ */chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize(function (s) {\n  return s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1');\n}));\nexport var base64 = /* @__PURE__ */chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexport var base64url = /* @__PURE__ */chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nexport var base64urlnopad = /* @__PURE__ */chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), join(''));\n// base58 code\n// -----------\nvar genBase58 = function genBase58(abc) {\n  return chain(radix(58), alphabet(abc), join(''));\n};\nexport var base58 = /* @__PURE__ */genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexport var base58flickr = /* @__PURE__ */genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexport var base58xrp = /* @__PURE__ */genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\n// xmr ver is done in 8-byte blocks (which equals 11 chars in decoding). Last (non-full) block padded with '1' to size in XMR_BLOCK_LEN.\n// Block encoding significantly reduces quadratic complexity of base58.\n// Data len (index) -> encoded block len\nvar XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexport var base58xmr = {\n  encode: function encode(data) {\n    var res = '';\n    for (var i = 0; i < data.length; i += 8) {\n      var block = data.subarray(i, i + 8);\n      res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n    }\n    return res;\n  },\n  decode: function decode(str) {\n    var res = [];\n    for (var i = 0; i < str.length; i += 11) {\n      var slice = str.slice(i, i + 11);\n      var blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n      var block = base58.decode(slice);\n      for (var j = 0; j < block.length - blockLen; j++) {\n        if (block[j] !== 0) throw new Error('base58xmr: wrong padding');\n      }\n      res = res.concat(Array.from(block.slice(block.length - blockLen)));\n    }\n    return Uint8Array.from(res);\n  }\n};\nexport var base58check = /* @__PURE__ */function base58check(sha256) {\n  return chain(checksum(4, function (data) {\n    return sha256(sha256(data));\n  }), base58);\n};\nvar BECH_ALPHABET = /* @__PURE__ */chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nvar POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction bech32Polymod(pre) {\n  var b = pre >> 25;\n  var chk = (pre & 0x1ffffff) << 5;\n  for (var i = 0; i < POLYMOD_GENERATORS.length; i++) {\n    if ((b >> i & 1) === 1) chk ^= POLYMOD_GENERATORS[i];\n  }\n  return chk;\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction bechChecksum(prefix, words) {\n  var encodingConst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var len = prefix.length;\n  var chk = 1;\n  for (var i = 0; i < len; i++) {\n    var c = prefix.charCodeAt(i);\n    if (c < 33 || c > 126) throw new Error(\"Invalid prefix (\".concat(prefix, \")\"));\n    chk = bech32Polymod(chk) ^ c >> 5;\n  }\n  chk = bech32Polymod(chk);\n  for (var _i2 = 0; _i2 < len; _i2++) {\n    chk = bech32Polymod(chk) ^ prefix.charCodeAt(_i2) & 0x1f;\n  }\n  var _iterator5 = _createForOfIteratorHelper(words),\n    _step5;\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var v = _step5.value;\n      chk = bech32Polymod(chk) ^ v;\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  for (var _i3 = 0; _i3 < 6; _i3++) {\n    chk = bech32Polymod(chk);\n  }\n  chk ^= encodingConst;\n  return BECH_ALPHABET.encode(convertRadix2([chk % Math.pow(2, 30)], 30, 5, false));\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction genBech32(encoding) {\n  var ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n  var _words = radix2(5);\n  var fromWords = _words.decode;\n  var toWords = _words.encode;\n  var fromWordsUnsafe = unsafeWrapper(fromWords);\n  function encode(prefix, words) {\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 90;\n    if (typeof prefix !== 'string') throw new Error(\"bech32.encode prefix should be string, not \".concat(typeof prefix));\n    if (!Array.isArray(words) || words.length && typeof words[0] !== 'number') throw new Error(\"bech32.encode words should be array of numbers, not \".concat(typeof words));\n    var actualLength = prefix.length + 7 + words.length;\n    if (limit !== false && actualLength > limit) throw new TypeError(\"Length \".concat(actualLength, \" exceeds limit \").concat(limit));\n    var lowered = prefix.toLowerCase();\n    var sum = bechChecksum(lowered, words, ENCODING_CONST);\n    return \"\".concat(lowered, \"1\").concat(BECH_ALPHABET.encode(words)).concat(sum);\n  }\n  function decode(str) {\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 90;\n    if (typeof str !== 'string') throw new Error(\"bech32.decode input should be string, not \".concat(typeof str));\n    if (str.length < 8 || limit !== false && str.length > limit) throw new TypeError(\"Wrong string length: \".concat(str.length, \" (\").concat(str, \"). Expected (8..\").concat(limit, \")\"));\n    // don't allow mixed case\n    var lowered = str.toLowerCase();\n    if (str !== lowered && str !== str.toUpperCase()) throw new Error(\"String must be lowercase or uppercase\");\n    str = lowered;\n    var sepIndex = str.lastIndexOf('1');\n    if (sepIndex === 0 || sepIndex === -1) throw new Error(\"Letter \\\"1\\\" must be present between prefix and data only\");\n    var prefix = str.slice(0, sepIndex);\n    var _words = str.slice(sepIndex + 1);\n    if (_words.length < 6) throw new Error('Data must be at least 6 characters long');\n    var words = BECH_ALPHABET.decode(_words).slice(0, -6);\n    var sum = bechChecksum(prefix, words, ENCODING_CONST);\n    if (!_words.endsWith(sum)) throw new Error(\"Invalid checksum in \".concat(str, \": expected \\\"\").concat(sum, \"\\\"\"));\n    return {\n      prefix: prefix,\n      words: words\n    };\n  }\n  var decodeUnsafe = unsafeWrapper(decode);\n  function decodeToBytes(str) {\n    var _decode = decode(str, false),\n      prefix = _decode.prefix,\n      words = _decode.words;\n    return {\n      prefix: prefix,\n      words: words,\n      bytes: fromWords(words)\n    };\n  }\n  return {\n    encode: encode,\n    decode: decode,\n    decodeToBytes: decodeToBytes,\n    decodeUnsafe: decodeUnsafe,\n    fromWords: fromWords,\n    fromWordsUnsafe: fromWordsUnsafe,\n    toWords: toWords\n  };\n}\nexport var bech32 = /* @__PURE__ */genBech32('bech32');\nexport var bech32m = /* @__PURE__ */genBech32('bech32m');\nexport var utf8 = {\n  encode: function encode(data) {\n    return new TextDecoder().decode(data);\n  },\n  decode: function decode(str) {\n    return new TextEncoder().encode(str);\n  }\n};\nexport var hex = /* @__PURE__ */chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize(function (s) {\n  if (typeof s !== 'string' || s.length % 2) throw new TypeError(\"hex.decode: expected string, got \".concat(typeof s, \" with length \").concat(s.length));\n  return s.toLowerCase();\n}));\n// prettier-ignore\nvar CODERS = {\n  utf8: utf8,\n  hex: hex,\n  base16: base16,\n  base32: base32,\n  base64: base64,\n  base64url: base64url,\n  base58: base58,\n  base58xmr: base58xmr\n};\nvar coderTypeError = 'Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr';\nexport var bytesToString = function bytesToString(type, bytes) {\n  if (typeof type !== 'string' || !CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (!(bytes instanceof Uint8Array)) throw new TypeError('bytesToString() expects Uint8Array');\n  return CODERS[type].encode(bytes);\n};\nexport var str = bytesToString; // as in python, but for bytes only\nexport var stringToBytes = function stringToBytes(type, str) {\n  if (!CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (typeof str !== 'string') throw new TypeError('stringToBytes() expects string');\n  return CODERS[type].decode(str);\n};\nexport var bytes = stringToBytes;","import assert from '@noble/hashes/_assert';\nimport { pbkdf2, pbkdf2Async } from '@noble/hashes/pbkdf2';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { utils as baseUtils } from '@scure/base';\nvar isJapanese = function isJapanese(wordlist) {\n  return wordlist[0] === \"\\u3042\\u3044\\u3053\\u304F\\u3057\\u3093\";\n};\nfunction nfkd(str) {\n  if (typeof str !== 'string') throw new TypeError(\"Invalid mnemonic type: \".concat(typeof str));\n  return str.normalize('NFKD');\n}\nfunction normalize(str) {\n  var norm = nfkd(str);\n  var words = norm.split(' ');\n  if (![12, 15, 18, 21, 24].includes(words.length)) throw new Error('Invalid mnemonic');\n  return {\n    nfkd: norm,\n    words: words\n  };\n}\nfunction assertEntropy(entropy) {\n  assert.bytes(entropy, 16, 20, 24, 28, 32);\n}\nexport function generateMnemonic(wordlist) {\n  var strength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 128;\n  assert.number(strength);\n  if (strength % 32 !== 0 || strength > 256) throw new TypeError('Invalid entropy');\n  return entropyToMnemonic(randomBytes(strength / 8), wordlist);\n}\nvar calcChecksum = function calcChecksum(entropy) {\n  var bitsLeft = 8 - entropy.length / 4;\n  return new Uint8Array([sha256(entropy)[0] >> bitsLeft << bitsLeft]);\n};\nfunction getCoder(wordlist) {\n  if (!Array.isArray(wordlist) || wordlist.length !== 2048 || typeof wordlist[0] !== 'string') throw new Error('Worlist: expected array of 2048 strings');\n  wordlist.forEach(function (i) {\n    if (typeof i !== 'string') throw new Error(\"Wordlist: non-string element: \".concat(i));\n  });\n  return baseUtils.chain(baseUtils.checksum(1, calcChecksum), baseUtils.radix2(11, true), baseUtils.alphabet(wordlist));\n}\nexport function mnemonicToEntropy(mnemonic, wordlist) {\n  var _normalize = normalize(mnemonic),\n    words = _normalize.words;\n  var entropy = getCoder(wordlist).decode(words);\n  assertEntropy(entropy);\n  return entropy;\n}\nexport function entropyToMnemonic(entropy, wordlist) {\n  assertEntropy(entropy);\n  var words = getCoder(wordlist).encode(entropy);\n  return words.join(isJapanese(wordlist) ? \"\\u3000\" : ' ');\n}\nexport function validateMnemonic(mnemonic, wordlist) {\n  try {\n    mnemonicToEntropy(mnemonic, wordlist);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\nvar salt = function salt(passphrase) {\n  return nfkd(\"mnemonic\".concat(passphrase));\n};\nexport function mnemonicToSeed(mnemonic) {\n  var passphrase = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return pbkdf2Async(sha512, normalize(mnemonic).nfkd, salt(passphrase), {\n    c: 2048,\n    dkLen: 64\n  });\n}\nexport function mnemonicToSeedSync(mnemonic) {\n  var passphrase = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return pbkdf2(sha512, normalize(mnemonic).nfkd, salt(passphrase), {\n    c: 2048,\n    dkLen: 64\n  });\n}","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport { wrapConstructor } from './utils.js';\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\nvar Rho = new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]);\nvar Id = Uint8Array.from({\n  length: 16\n}, function (_, i) {\n  return i;\n});\nvar Pi = Id.map(function (i) {\n  return (9 * i + 5) % 16;\n});\nvar idxL = [Id];\nvar idxR = [Pi];\nfor (var i = 0; i < 4; i++) {\n  for (var _i = 0, _arr = [idxL, idxR]; _i < _arr.length; _i++) {\n    var j = _arr[_i];\n    j.push(j[i].map(function (k) {\n      return Rho[k];\n    }));\n  }\n}\nvar shifts = [[11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8], [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7], [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9], [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6], [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5]].map(function (i) {\n  return new Uint8Array(i);\n});\nvar shiftsL = idxL.map(function (idx, i) {\n  return idx.map(function (j) {\n    return shifts[i][j];\n  });\n});\nvar shiftsR = idxR.map(function (idx, i) {\n  return idx.map(function (j) {\n    return shifts[i][j];\n  });\n});\nvar Kl = new Uint32Array([0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e]);\nvar Kr = new Uint32Array([0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000]);\n// The rotate left (circular left shift) operation for uint32\nvar rotl = function rotl(word, shift) {\n  return word << shift | word >>> 32 - shift;\n};\n// It's called f() in spec.\nfunction f(group, x, y, z) {\n  if (group === 0) return x ^ y ^ z;else if (group === 1) return x & y | ~x & z;else if (group === 2) return (x | ~y) ^ z;else if (group === 3) return x & z | y & ~z;else return x ^ (y | ~z);\n}\n// Temporary buffer, not used to store anything between runs\nvar BUF = new Uint32Array(16);\nexport var RIPEMD160 = /*#__PURE__*/function (_SHA) {\n  _inherits(RIPEMD160, _SHA);\n  var _super = _createSuper(RIPEMD160);\n  function RIPEMD160() {\n    var _this;\n    _classCallCheck(this, RIPEMD160);\n    _this = _super.call(this, 64, 20, 8, true);\n    _this.h0 = 0x67452301 | 0;\n    _this.h1 = 0xefcdab89 | 0;\n    _this.h2 = 0x98badcfe | 0;\n    _this.h3 = 0x10325476 | 0;\n    _this.h4 = 0xc3d2e1f0 | 0;\n    return _this;\n  }\n  _createClass(RIPEMD160, [{\n    key: \"get\",\n    value: function get() {\n      var h0 = this.h0,\n        h1 = this.h1,\n        h2 = this.h2,\n        h3 = this.h3,\n        h4 = this.h4;\n      return [h0, h1, h2, h3, h4];\n    }\n  }, {\n    key: \"set\",\n    value: function set(h0, h1, h2, h3, h4) {\n      this.h0 = h0 | 0;\n      this.h1 = h1 | 0;\n      this.h2 = h2 | 0;\n      this.h3 = h3 | 0;\n      this.h4 = h4 | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      for (var _i2 = 0; _i2 < 16; _i2++, offset += 4) {\n        BUF[_i2] = view.getUint32(offset, true);\n      }\n      // prettier-ignore\n      var al = this.h0 | 0,\n        ar = al,\n        bl = this.h1 | 0,\n        br = bl,\n        cl = this.h2 | 0,\n        cr = cl,\n        dl = this.h3 | 0,\n        dr = dl,\n        el = this.h4 | 0,\n        er = el;\n      // Instead of iterating 0 to 80, we split it into 5 groups\n      // And use the groups in constants, functions, etc. Much simpler\n      for (var group = 0; group < 5; group++) {\n        var rGroup = 4 - group;\n        var hbl = Kl[group],\n          hbr = Kr[group]; // prettier-ignore\n        var rl = idxL[group],\n          rr = idxR[group]; // prettier-ignore\n        var sl = shiftsL[group],\n          sr = shiftsR[group]; // prettier-ignore\n        for (var _i3 = 0; _i3 < 16; _i3++) {\n          var tl = rotl(al + f(group, bl, cl, dl) + BUF[rl[_i3]] + hbl, sl[_i3]) + el | 0;\n          al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\n        }\n        // 2 loops are 10% faster\n        for (var _i4 = 0; _i4 < 16; _i4++) {\n          var tr = rotl(ar + f(rGroup, br, cr, dr) + BUF[rr[_i4]] + hbr, sr[_i4]) + er | 0;\n          ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\n        }\n      }\n      // Add the compressed chunk to the current hash value\n      this.set(this.h1 + cl + dr | 0, this.h2 + dl + er | 0, this.h3 + el + ar | 0, this.h4 + al + br | 0, this.h0 + bl + cr | 0);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      BUF.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.destroyed = true;\n      this.buffer.fill(0);\n      this.set(0, 0, 0, 0, 0);\n    }\n  }]);\n  return RIPEMD160;\n}(SHA2);\n/**\n * RIPEMD-160 - a hash function from 1990s.\n * @param message - msg that would be hashed\n */\nexport var ripemd160 = wrapConstructor(function () {\n  return new RIPEMD160();\n});","var U32_MASK64 = BigInt(Math.pow(2, 32) - 1);\nvar _32n = BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nexport function fromBig(n) {\n  var le = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (le) return {\n    h: Number(n & U32_MASK64),\n    l: Number(n >> _32n & U32_MASK64)\n  };\n  return {\n    h: Number(n >> _32n & U32_MASK64) | 0,\n    l: Number(n & U32_MASK64) | 0\n  };\n}\nexport function split(lst) {\n  var le = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var Ah = new Uint32Array(lst.length);\n  var Al = new Uint32Array(lst.length);\n  for (var i = 0; i < lst.length; i++) {\n    var _fromBig = fromBig(lst[i], le),\n      h = _fromBig.h,\n      l = _fromBig.l;\n    var _ref = [h, l];\n    Ah[i] = _ref[0];\n    Al[i] = _ref[1];\n  }\n  return [Ah, Al];\n}\nexport var toBig = function toBig(h, l) {\n  return BigInt(h >>> 0) << _32n | BigInt(l >>> 0);\n};\n// for Shift in [0, 32)\nvar shrSH = function shrSH(h, l, s) {\n  return h >>> s;\n};\nvar shrSL = function shrSL(h, l, s) {\n  return h << 32 - s | l >>> s;\n};\n// Right rotate for Shift in [1, 32)\nvar rotrSH = function rotrSH(h, l, s) {\n  return h >>> s | l << 32 - s;\n};\nvar rotrSL = function rotrSL(h, l, s) {\n  return h << 32 - s | l >>> s;\n};\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nvar rotrBH = function rotrBH(h, l, s) {\n  return h << 64 - s | l >>> s - 32;\n};\nvar rotrBL = function rotrBL(h, l, s) {\n  return h >>> s - 32 | l << 64 - s;\n};\n// Right rotate for shift===32 (just swaps l&h)\nvar rotr32H = function rotr32H(h, l) {\n  return l;\n};\nvar rotr32L = function rotr32L(h, l) {\n  return h;\n};\n// Left rotate for Shift in [1, 32)\nvar rotlSH = function rotlSH(h, l, s) {\n  return h << s | l >>> 32 - s;\n};\nvar rotlSL = function rotlSL(h, l, s) {\n  return l << s | h >>> 32 - s;\n};\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nvar rotlBH = function rotlBH(h, l, s) {\n  return l << s - 32 | h >>> 64 - s;\n};\nvar rotlBL = function rotlBL(h, l, s) {\n  return h << s - 32 | l >>> 64 - s;\n};\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\n// Removing \"export\" has 5% perf penalty -_-\nexport function add(Ah, Al, Bh, Bl) {\n  var l = (Al >>> 0) + (Bl >>> 0);\n  return {\n    h: Ah + Bh + (l / Math.pow(2, 32) | 0) | 0,\n    l: l | 0\n  };\n}\n// Addition with more than 2 elements\nvar add3L = function add3L(Al, Bl, Cl) {\n  return (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\n};\nvar add3H = function add3H(low, Ah, Bh, Ch) {\n  return Ah + Bh + Ch + (low / Math.pow(2, 32) | 0) | 0;\n};\nvar add4L = function add4L(Al, Bl, Cl, Dl) {\n  return (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\n};\nvar add4H = function add4H(low, Ah, Bh, Ch, Dh) {\n  return Ah + Bh + Ch + Dh + (low / Math.pow(2, 32) | 0) | 0;\n};\nvar add5L = function add5L(Al, Bl, Cl, Dl, El) {\n  return (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\n};\nvar add5H = function add5H(low, Ah, Bh, Ch, Dh, Eh) {\n  return Ah + Bh + Ch + Dh + Eh + (low / Math.pow(2, 32) | 0) | 0;\n};\n// prettier-ignore\nvar u64 = {\n  fromBig: fromBig,\n  split: split,\n  toBig: toBig,\n  shrSH: shrSH,\n  shrSL: shrSL,\n  rotrSH: rotrSH,\n  rotrSL: rotrSL,\n  rotrBH: rotrBH,\n  rotrBL: rotrBL,\n  rotr32H: rotr32H,\n  rotr32L: rotr32L,\n  rotlSH: rotlSH,\n  rotlSL: rotlSL,\n  rotlBH: rotlBH,\n  rotlBL: rotlBL,\n  add: add,\n  add3L: add3L,\n  add3H: add3H,\n  add4L: add4L,\n  add4H: add4H,\n  add5H: add5H,\n  add5L: add5L\n};\nexport default u64;","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nvar _u64$split = u64.split(['0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc', '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118', '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2', '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694', '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65', '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5', '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4', '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70', '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df', '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b', '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30', '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8', '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8', '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3', '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec', '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b', '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178', '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b', '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c', '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'].map(function (n) {\n    return BigInt(n);\n  })),\n  _u64$split2 = _slicedToArray(_u64$split, 2),\n  SHA512_Kh = _u64$split2[0],\n  SHA512_Kl = _u64$split2[1];\n// Temporary buffer, not used to store anything between runs\nvar SHA512_W_H = new Uint32Array(80);\nvar SHA512_W_L = new Uint32Array(80);\nexport var SHA512 = /*#__PURE__*/function (_SHA) {\n  _inherits(SHA512, _SHA);\n  var _super = _createSuper(SHA512);\n  function SHA512() {\n    var _this;\n    _classCallCheck(this, SHA512);\n    _this = _super.call(this, 128, 64, 16, false);\n    // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n    // Also looks cleaner and easier to verify with spec.\n    // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n    // h -- high 32 bits, l -- low 32 bits\n    _this.Ah = 0x6a09e667 | 0;\n    _this.Al = 0xf3bcc908 | 0;\n    _this.Bh = 0xbb67ae85 | 0;\n    _this.Bl = 0x84caa73b | 0;\n    _this.Ch = 0x3c6ef372 | 0;\n    _this.Cl = 0xfe94f82b | 0;\n    _this.Dh = 0xa54ff53a | 0;\n    _this.Dl = 0x5f1d36f1 | 0;\n    _this.Eh = 0x510e527f | 0;\n    _this.El = 0xade682d1 | 0;\n    _this.Fh = 0x9b05688c | 0;\n    _this.Fl = 0x2b3e6c1f | 0;\n    _this.Gh = 0x1f83d9ab | 0;\n    _this.Gl = 0xfb41bd6b | 0;\n    _this.Hh = 0x5be0cd19 | 0;\n    _this.Hl = 0x137e2179 | 0;\n    return _this;\n  }\n  // prettier-ignore\n  _createClass(SHA512, [{\n    key: \"get\",\n    value: function get() {\n      var Ah = this.Ah,\n        Al = this.Al,\n        Bh = this.Bh,\n        Bl = this.Bl,\n        Ch = this.Ch,\n        Cl = this.Cl,\n        Dh = this.Dh,\n        Dl = this.Dl,\n        Eh = this.Eh,\n        El = this.El,\n        Fh = this.Fh,\n        Fl = this.Fl,\n        Gh = this.Gh,\n        Gl = this.Gl,\n        Hh = this.Hh,\n        Hl = this.Hl;\n      return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n  }, {\n    key: \"set\",\n    value: function set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n      this.Ah = Ah | 0;\n      this.Al = Al | 0;\n      this.Bh = Bh | 0;\n      this.Bl = Bl | 0;\n      this.Ch = Ch | 0;\n      this.Cl = Cl | 0;\n      this.Dh = Dh | 0;\n      this.Dl = Dl | 0;\n      this.Eh = Eh | 0;\n      this.El = El | 0;\n      this.Fh = Fh | 0;\n      this.Fl = Fl | 0;\n      this.Gh = Gh | 0;\n      this.Gl = Gl | 0;\n      this.Hh = Hh | 0;\n      this.Hl = Hl | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n      for (var i = 0; i < 16; i++, offset += 4) {\n        SHA512_W_H[i] = view.getUint32(offset);\n        SHA512_W_L[i] = view.getUint32(offset += 4);\n      }\n      for (var _i = 16; _i < 80; _i++) {\n        // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n        var W15h = SHA512_W_H[_i - 15] | 0;\n        var W15l = SHA512_W_L[_i - 15] | 0;\n        var s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n        var s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n        // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n        var W2h = SHA512_W_H[_i - 2] | 0;\n        var W2l = SHA512_W_L[_i - 2] | 0;\n        var s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n        var s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n        // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n        var SUMl = u64.add4L(s0l, s1l, SHA512_W_L[_i - 7], SHA512_W_L[_i - 16]);\n        var SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[_i - 7], SHA512_W_H[_i - 16]);\n        SHA512_W_H[_i] = SUMh | 0;\n        SHA512_W_L[_i] = SUMl | 0;\n      }\n      var Ah = this.Ah,\n        Al = this.Al,\n        Bh = this.Bh,\n        Bl = this.Bl,\n        Ch = this.Ch,\n        Cl = this.Cl,\n        Dh = this.Dh,\n        Dl = this.Dl,\n        Eh = this.Eh,\n        El = this.El,\n        Fh = this.Fh,\n        Fl = this.Fl,\n        Gh = this.Gh,\n        Gl = this.Gl,\n        Hh = this.Hh,\n        Hl = this.Hl;\n      // Compression function main loop, 80 rounds\n      for (var i = 0; i < 80; i++) {\n        // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n        var sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n        var sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n        //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n        var CHIh = Eh & Fh ^ ~Eh & Gh;\n        var CHIl = El & Fl ^ ~El & Gl;\n        // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n        // prettier-ignore\n        var T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n        var T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n        var T1l = T1ll | 0;\n        // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n        var sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n        var sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n        var MAJh = Ah & Bh ^ Ah & Ch ^ Bh & Ch;\n        var MAJl = Al & Bl ^ Al & Cl ^ Bl & Cl;\n        Hh = Gh | 0;\n        Hl = Gl | 0;\n        Gh = Fh | 0;\n        Gl = Fl | 0;\n        Fh = Eh | 0;\n        Fl = El | 0;\n        var _u64$add = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0);\n        Eh = _u64$add.h;\n        El = _u64$add.l;\n        Dh = Ch | 0;\n        Dl = Cl | 0;\n        Ch = Bh | 0;\n        Cl = Bl | 0;\n        Bh = Ah | 0;\n        Bl = Al | 0;\n        var All = u64.add3L(T1l, sigma0l, MAJl);\n        Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n        Al = All | 0;\n      }\n      // Add the compressed chunk to the current hash value\n      var _u64$add2 = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0);\n      Ah = _u64$add2.h;\n      Al = _u64$add2.l;\n      var _u64$add3 = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0);\n      Bh = _u64$add3.h;\n      Bl = _u64$add3.l;\n      var _u64$add4 = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0);\n      Ch = _u64$add4.h;\n      Cl = _u64$add4.l;\n      var _u64$add5 = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0);\n      Dh = _u64$add5.h;\n      Dl = _u64$add5.l;\n      var _u64$add6 = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0);\n      Eh = _u64$add6.h;\n      El = _u64$add6.l;\n      var _u64$add7 = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0);\n      Fh = _u64$add7.h;\n      Fl = _u64$add7.l;\n      var _u64$add8 = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0);\n      Gh = _u64$add8.h;\n      Gl = _u64$add8.l;\n      var _u64$add9 = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0);\n      Hh = _u64$add9.h;\n      Hl = _u64$add9.l;\n      this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      SHA512_W_H.fill(0);\n      SHA512_W_L.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.buffer.fill(0);\n      this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n  }]);\n  return SHA512;\n}(SHA2);\nvar SHA512_224 = /*#__PURE__*/function (_SHA2) {\n  _inherits(SHA512_224, _SHA2);\n  var _super2 = _createSuper(SHA512_224);\n  function SHA512_224() {\n    var _this2;\n    _classCallCheck(this, SHA512_224);\n    _this2 = _super2.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this2.Ah = 0x8c3d37c8 | 0;\n    _this2.Al = 0x19544da2 | 0;\n    _this2.Bh = 0x73e19966 | 0;\n    _this2.Bl = 0x89dcd4d6 | 0;\n    _this2.Ch = 0x1dfab7ae | 0;\n    _this2.Cl = 0x32ff9c82 | 0;\n    _this2.Dh = 0x679dd514 | 0;\n    _this2.Dl = 0x582f9fcf | 0;\n    _this2.Eh = 0x0f6d2b69 | 0;\n    _this2.El = 0x7bd44da8 | 0;\n    _this2.Fh = 0x77e36f73 | 0;\n    _this2.Fl = 0x04c48942 | 0;\n    _this2.Gh = 0x3f9d85a8 | 0;\n    _this2.Gl = 0x6a1d36c8 | 0;\n    _this2.Hh = 0x1112e6ad | 0;\n    _this2.Hl = 0x91d692a1 | 0;\n    _this2.outputLen = 28;\n    return _this2;\n  }\n  return _createClass(SHA512_224);\n}(SHA512);\nvar SHA512_256 = /*#__PURE__*/function (_SHA3) {\n  _inherits(SHA512_256, _SHA3);\n  var _super3 = _createSuper(SHA512_256);\n  function SHA512_256() {\n    var _this3;\n    _classCallCheck(this, SHA512_256);\n    _this3 = _super3.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this3.Ah = 0x22312194 | 0;\n    _this3.Al = 0xfc2bf72c | 0;\n    _this3.Bh = 0x9f555fa3 | 0;\n    _this3.Bl = 0xc84c64c2 | 0;\n    _this3.Ch = 0x2393b86b | 0;\n    _this3.Cl = 0x6f53b151 | 0;\n    _this3.Dh = 0x96387719 | 0;\n    _this3.Dl = 0x5940eabd | 0;\n    _this3.Eh = 0x96283ee2 | 0;\n    _this3.El = 0xa88effe3 | 0;\n    _this3.Fh = 0xbe5e1e25 | 0;\n    _this3.Fl = 0x53863992 | 0;\n    _this3.Gh = 0x2b0199fc | 0;\n    _this3.Gl = 0x2c85b8aa | 0;\n    _this3.Hh = 0x0eb72ddc | 0;\n    _this3.Hl = 0x81c52ca2 | 0;\n    _this3.outputLen = 32;\n    return _this3;\n  }\n  return _createClass(SHA512_256);\n}(SHA512);\nvar SHA384 = /*#__PURE__*/function (_SHA4) {\n  _inherits(SHA384, _SHA4);\n  var _super4 = _createSuper(SHA384);\n  function SHA384() {\n    var _this4;\n    _classCallCheck(this, SHA384);\n    _this4 = _super4.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this4.Ah = 0xcbbb9d5d | 0;\n    _this4.Al = 0xc1059ed8 | 0;\n    _this4.Bh = 0x629a292a | 0;\n    _this4.Bl = 0x367cd507 | 0;\n    _this4.Ch = 0x9159015a | 0;\n    _this4.Cl = 0x3070dd17 | 0;\n    _this4.Dh = 0x152fecd8 | 0;\n    _this4.Dl = 0xf70e5939 | 0;\n    _this4.Eh = 0x67332667 | 0;\n    _this4.El = 0xffc00b31 | 0;\n    _this4.Fh = 0x8eb44a87 | 0;\n    _this4.Fl = 0x68581511 | 0;\n    _this4.Gh = 0xdb0c2e0d | 0;\n    _this4.Gl = 0x64f98fa7 | 0;\n    _this4.Hh = 0x47b5481d | 0;\n    _this4.Hl = 0xbefa4fa4 | 0;\n    _this4.outputLen = 48;\n    return _this4;\n  }\n  return _createClass(SHA384);\n}(SHA512);\nexport var sha512 = wrapConstructor(function () {\n  return new SHA512();\n});\nexport var sha512_224 = wrapConstructor(function () {\n  return new SHA512_224();\n});\nexport var sha512_256 = wrapConstructor(function () {\n  return new SHA512_256();\n});\nexport var sha384 = wrapConstructor(function () {\n  return new SHA384();\n});","import _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport { hmac } from '@noble/hashes/hmac';\nimport { ripemd160 } from '@noble/hashes/ripemd160';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { bytes as assertBytes } from '@noble/hashes/_assert';\nimport { bytesToHex, concatBytes, createView, hexToBytes, utf8ToBytes } from '@noble/hashes/utils';\nimport { secp256k1 as secp } from '@noble/curves/secp256k1';\nimport { mod } from '@noble/curves/abstract/modular';\nimport { base58check as base58checker } from '@scure/base';\nvar Point = secp.ProjectivePoint;\nvar base58check = base58checker(sha256);\nfunction bytesToNumber(bytes) {\n  return BigInt(\"0x\".concat(bytesToHex(bytes)));\n}\nfunction numberToBytes(num) {\n  return hexToBytes(num.toString(16).padStart(64, '0'));\n}\nvar MASTER_SECRET = utf8ToBytes('Bitcoin seed');\nvar BITCOIN_VERSIONS = {\n  private: 0x0488ade4,\n  public: 0x0488b21e\n};\nexport var HARDENED_OFFSET = 0x80000000;\nvar hash160 = function hash160(data) {\n  return ripemd160(sha256(data));\n};\nvar fromU32 = function fromU32(data) {\n  return createView(data).getUint32(0, false);\n};\nvar toU32 = function toU32(n) {\n  if (!Number.isSafeInteger(n) || n < 0 || n > Math.pow(2, 32) - 1) {\n    throw new Error(\"Invalid number=\".concat(n, \". Should be from 0 to 2 ** 32 - 1\"));\n  }\n  var buf = new Uint8Array(4);\n  createView(buf).setUint32(0, n, false);\n  return buf;\n};\nexport var HDKey = /*#__PURE__*/function () {\n  function HDKey(opt) {\n    _classCallCheck(this, HDKey);\n    this.depth = 0;\n    this.index = 0;\n    this.chainCode = null;\n    this.parentFingerprint = 0;\n    if (!opt || typeof opt !== 'object') {\n      throw new Error('HDKey.constructor must not be called directly');\n    }\n    this.versions = opt.versions || BITCOIN_VERSIONS;\n    this.depth = opt.depth || 0;\n    this.chainCode = opt.chainCode;\n    this.index = opt.index || 0;\n    this.parentFingerprint = opt.parentFingerprint || 0;\n    if (!this.depth) {\n      if (this.parentFingerprint || this.index) {\n        throw new Error('HDKey: zero depth with non-zero index/parent fingerprint');\n      }\n    }\n    if (opt.publicKey && opt.privateKey) {\n      throw new Error('HDKey: publicKey and privateKey at same time.');\n    }\n    if (opt.privateKey) {\n      if (!secp.utils.isValidPrivateKey(opt.privateKey)) {\n        throw new Error('Invalid private key');\n      }\n      this.privKey = typeof opt.privateKey === 'bigint' ? opt.privateKey : bytesToNumber(opt.privateKey);\n      this.privKeyBytes = numberToBytes(this.privKey);\n      this.pubKey = secp.getPublicKey(opt.privateKey, true);\n    } else if (opt.publicKey) {\n      this.pubKey = Point.fromHex(opt.publicKey).toRawBytes(true);\n    } else {\n      throw new Error('HDKey: no public or private key provided');\n    }\n    this.pubHash = hash160(this.pubKey);\n  }\n  _createClass(HDKey, [{\n    key: \"fingerprint\",\n    get: function get() {\n      if (!this.pubHash) {\n        throw new Error('No publicKey set!');\n      }\n      return fromU32(this.pubHash);\n    }\n  }, {\n    key: \"identifier\",\n    get: function get() {\n      return this.pubHash;\n    }\n  }, {\n    key: \"pubKeyHash\",\n    get: function get() {\n      return this.pubHash;\n    }\n  }, {\n    key: \"privateKey\",\n    get: function get() {\n      return this.privKeyBytes || null;\n    }\n  }, {\n    key: \"publicKey\",\n    get: function get() {\n      return this.pubKey || null;\n    }\n  }, {\n    key: \"privateExtendedKey\",\n    get: function get() {\n      var priv = this.privateKey;\n      if (!priv) {\n        throw new Error('No private key');\n      }\n      return base58check.encode(this.serialize(this.versions.private, concatBytes(new Uint8Array([0]), priv)));\n    }\n  }, {\n    key: \"publicExtendedKey\",\n    get: function get() {\n      if (!this.pubKey) {\n        throw new Error('No public key');\n      }\n      return base58check.encode(this.serialize(this.versions.public, this.pubKey));\n    }\n  }, {\n    key: \"derive\",\n    value: function derive(path) {\n      if (!/^[mM]'?/.test(path)) {\n        throw new Error('Path must start with \"m\" or \"M\"');\n      }\n      if (/^[mM]'?$/.test(path)) {\n        return this;\n      }\n      var parts = path.replace(/^[mM]'?\\//, '').split('/');\n      var child = this;\n      var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var c = _step.value;\n          var m = /^(\\d+)('?)$/.exec(c);\n          if (!m || m.length !== 3) {\n            throw new Error(\"Invalid child index: \".concat(c));\n          }\n          var idx = +m[1];\n          if (!Number.isSafeInteger(idx) || idx >= HARDENED_OFFSET) {\n            throw new Error('Invalid index');\n          }\n          if (m[2] === \"'\") {\n            idx += HARDENED_OFFSET;\n          }\n          child = child.deriveChild(idx);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return child;\n    }\n  }, {\n    key: \"deriveChild\",\n    value: function deriveChild(index) {\n      if (!this.pubKey || !this.chainCode) {\n        throw new Error('No publicKey or chainCode set');\n      }\n      var data = toU32(index);\n      if (index >= HARDENED_OFFSET) {\n        var priv = this.privateKey;\n        if (!priv) {\n          throw new Error('Could not derive hardened child key');\n        }\n        data = concatBytes(new Uint8Array([0]), priv, data);\n      } else {\n        data = concatBytes(this.pubKey, data);\n      }\n      var I = hmac(sha512, this.chainCode, data);\n      var childTweak = bytesToNumber(I.slice(0, 32));\n      var chainCode = I.slice(32);\n      if (!secp.utils.isValidPrivateKey(childTweak)) {\n        throw new Error('Tweak bigger than curve order');\n      }\n      var opt = {\n        versions: this.versions,\n        chainCode: chainCode,\n        depth: this.depth + 1,\n        parentFingerprint: this.fingerprint,\n        index: index\n      };\n      try {\n        if (this.privateKey) {\n          var added = mod(this.privKey + childTweak, secp.CURVE.n);\n          if (!secp.utils.isValidPrivateKey(added)) {\n            throw new Error('The tweak was out of range or the resulted private key is invalid');\n          }\n          opt.privateKey = added;\n        } else {\n          var _added = Point.fromHex(this.pubKey).add(Point.fromPrivateKey(childTweak));\n          if (_added.equals(Point.ZERO)) {\n            throw new Error('The tweak was equal to negative P, which made the result key invalid');\n          }\n          opt.publicKey = _added.toRawBytes(true);\n        }\n        return new HDKey(opt);\n      } catch (err) {\n        return this.deriveChild(index + 1);\n      }\n    }\n  }, {\n    key: \"sign\",\n    value: function sign(hash) {\n      if (!this.privateKey) {\n        throw new Error('No privateKey set!');\n      }\n      assertBytes(hash, 32);\n      return secp.sign(hash, this.privKey).toCompactRawBytes();\n    }\n  }, {\n    key: \"verify\",\n    value: function verify(hash, signature) {\n      assertBytes(hash, 32);\n      assertBytes(signature, 64);\n      if (!this.publicKey) {\n        throw new Error('No publicKey set!');\n      }\n      var sig;\n      try {\n        sig = secp.Signature.fromCompact(signature);\n      } catch (error) {\n        return false;\n      }\n      return secp.verify(sig, hash, this.publicKey);\n    }\n  }, {\n    key: \"wipePrivateData\",\n    value: function wipePrivateData() {\n      this.privKey = undefined;\n      if (this.privKeyBytes) {\n        this.privKeyBytes.fill(0);\n        this.privKeyBytes = undefined;\n      }\n      return this;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        xpriv: this.privateExtendedKey,\n        xpub: this.publicExtendedKey\n      };\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(version, key) {\n      if (!this.chainCode) {\n        throw new Error('No chainCode set');\n      }\n      assertBytes(key, 33);\n      return concatBytes(toU32(version), new Uint8Array([this.depth]), toU32(this.parentFingerprint), toU32(this.index), this.chainCode, key);\n    }\n  }], [{\n    key: \"fromMasterSeed\",\n    value: function fromMasterSeed(seed) {\n      var versions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : BITCOIN_VERSIONS;\n      assertBytes(seed);\n      if (8 * seed.length < 128 || 8 * seed.length > 512) {\n        throw new Error(\"HDKey: wrong seed length=\".concat(seed.length, \". Should be between 128 and 512 bits; 256 bits is advised)\"));\n      }\n      var I = hmac(sha512, MASTER_SECRET, seed);\n      return new HDKey({\n        versions: versions,\n        chainCode: I.slice(32),\n        privateKey: I.slice(0, 32)\n      });\n    }\n  }, {\n    key: \"fromExtendedKey\",\n    value: function fromExtendedKey(base58key) {\n      var versions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : BITCOIN_VERSIONS;\n      var keyBuffer = base58check.decode(base58key);\n      var keyView = createView(keyBuffer);\n      var version = keyView.getUint32(0, false);\n      var opt = {\n        versions: versions,\n        depth: keyBuffer[4],\n        parentFingerprint: keyView.getUint32(5, false),\n        index: keyView.getUint32(9, false),\n        chainCode: keyBuffer.slice(13, 45)\n      };\n      var key = keyBuffer.slice(45);\n      var isPriv = key[0] === 0;\n      if (version !== versions[isPriv ? 'private' : 'public']) {\n        throw new Error('Version mismatch');\n      }\n      if (isPriv) {\n        return new HDKey(_objectSpread(_objectSpread({}, opt), {}, {\n          privateKey: key.slice(1)\n        }));\n      } else {\n        return new HDKey(_objectSpread(_objectSpread({}, opt), {}, {\n          publicKey: key\n        }));\n      }\n    }\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      return HDKey.fromExtendedKey(json.xpriv);\n    }\n  }]);\n  return HDKey;\n}();","import _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _asyncToGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/regenerator/index.js\";\n/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */\nvar u8a = function u8a(a) {\n  return a instanceof Uint8Array;\n};\n// Cast array to different type\nexport var u8 = function u8(arr) {\n  return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n};\nexport var u16 = function u16(arr) {\n  return new Uint16Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 2));\n};\nexport var u32 = function u32(arr) {\n  return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n};\n// Cast array to view\nexport var createView = function createView(arr) {\n  return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n};\n// big-endian hardware is rare. Just in case someone still decides to run ciphers:\n// early-throw an error because we don't support BE yet.\nexport var isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\nvar hexes = /* @__PURE__ */Array.from({\n  length: 256\n}, function (_, i) {\n  return i.toString(16).padStart(2, '0');\n});\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  var hex = '';\n  for (var i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  var len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  var array = new Uint8Array(len / 2);\n  for (var i = 0; i < array.length; i++) {\n    var j = i * 2;\n    var hexByte = hex.slice(j, j + 2);\n    var byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport var nextTick = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function nextTick() {\n    return _ref.apply(this, arguments);\n  };\n}();\n// Returns control to thread each 'tick' ms to avoid blocking\nexport function asyncLoop(_x, _x2, _x3) {\n  return _asyncLoop.apply(this, arguments);\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction _asyncLoop() {\n  _asyncLoop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(iters, tick, cb) {\n    var ts, i, diff;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            ts = Date.now();\n            i = 0;\n          case 2:\n            if (!(i < iters)) {\n              _context2.next = 13;\n              break;\n            }\n            cb(i);\n            // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n            diff = Date.now() - ts;\n            if (!(diff >= 0 && diff < tick)) {\n              _context2.next = 7;\n              break;\n            }\n            return _context2.abrupt(\"continue\", 10);\n          case 7:\n            _context2.next = 9;\n            return nextTick();\n          case 9:\n            ts += diff;\n          case 10:\n            i++;\n            _context2.next = 2;\n            break;\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _asyncLoop.apply(this, arguments);\n}\nexport function utf8ToBytes(str) {\n  if (typeof str !== 'string') throw new Error(\"utf8ToBytes expected string, got \".concat(typeof str));\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport function bytesToUtf8(bytes) {\n  return new TextDecoder().decode(bytes);\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(\"expected Uint8Array, got \".concat(typeof data));\n  return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes() {\n  for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n    arrays[_key] = arguments[_key];\n  }\n  var r = new Uint8Array(arrays.reduce(function (sum, a) {\n    return sum + a.length;\n  }, 0));\n  var pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach(function (a) {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nvar isPlainObject = function isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\n};\nexport function checkOpts(defaults, opts) {\n  if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts))) throw new Error('options must be object or undefined');\n  var merged = Object.assign(defaults, opts);\n  return merged;\n}\nexport function ensureBytes(b, len) {\n  if (!(b instanceof Uint8Array)) throw new Error('Uint8Array expected');\n  if (typeof len === 'number') if (b.length !== len) throw new Error(\"Uint8Array length \".concat(len, \" expected\"));\n}\n// Constant-time equality\nexport function equalBytes(a, b) {\n  // Should not happen\n  if (a.length !== b.length) throw new Error('equalBytes: Different size of Uint8Arrays');\n  var isSame = true;\n  for (var i = 0; i < a.length; i++) {\n    isSame && (isSame = a[i] === b[i]);\n  } // Lets hope JIT won't optimize away.\n  return isSame;\n}\n// For runtime check if class implements interface\nexport var Hash = /*#__PURE__*/_createClass(function Hash() {\n  _classCallCheck(this, Hash);\n});\n// Polyfill for Safari 14\nexport function setBigUint64(view, byteOffset, value, isLE) {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  var _32n = BigInt(32);\n  var _u32_max = BigInt(0xffffffff);\n  var wh = Number(value >> _32n & _u32_max);\n  var wl = Number(value & _u32_max);\n  var h = isLE ? 4 : 0;\n  var l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}","function number(n) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(\"Wrong positive integer: \".concat(n));\n}\nfunction bool(b) {\n  if (typeof b !== 'boolean') throw new Error(\"Expected boolean, not \".concat(b));\n}\nfunction bytes(b) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  for (var _len = arguments.length, lengths = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    lengths[_key - 1] = arguments[_key];\n  }\n  if (lengths.length > 0 && !lengths.includes(b.length)) throw new Error(\"Expected Uint8Array of length \".concat(lengths, \", not of length=\").concat(b.length));\n}\nfunction hash(hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function') throw new Error('hash must be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\nfunction exists(instance) {\n  var checkFinished = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nfunction output(out, instance) {\n  bytes(out);\n  var min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(\"digestInto() expects output buffer of length at least \".concat(min));\n  }\n}\nexport { number, bool, bytes, hash, exists, output };\nvar assert = {\n  number: number,\n  bool: bool,\n  bytes: bytes,\n  hash: hash,\n  exists: exists,\n  output: output\n};\nexport default assert;","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { toBytes, ensureBytes } from './utils.js';\nimport assert from './_assert.js';\n// Poly1305 is a fast and parallel secret-key message-authentication code.\n// https://cr.yp.to/mac.html, https://cr.yp.to/mac/poly1305-20050329.pdf\n// https://datatracker.ietf.org/doc/html/rfc8439\n// Based on Public Domain poly1305-donna https://github.com/floodyberry/poly1305-donna\nvar u8to16 = function u8to16(a, i) {\n  return a[i++] & 0xff | (a[i++] & 0xff) << 8;\n};\nvar Poly1305 = /*#__PURE__*/function () {\n  function Poly1305(key) {\n    _classCallCheck(this, Poly1305);\n    this.blockLen = 16;\n    this.outputLen = 16;\n    this.buffer = new Uint8Array(16);\n    this.r = new Uint16Array(10);\n    this.h = new Uint16Array(10);\n    this.pad = new Uint16Array(8);\n    this.pos = 0;\n    this.finished = false;\n    key = toBytes(key);\n    ensureBytes(key, 32);\n    var t0 = u8to16(key, 0);\n    var t1 = u8to16(key, 2);\n    var t2 = u8to16(key, 4);\n    var t3 = u8to16(key, 6);\n    var t4 = u8to16(key, 8);\n    var t5 = u8to16(key, 10);\n    var t6 = u8to16(key, 12);\n    var t7 = u8to16(key, 14);\n    // https://github.com/floodyberry/poly1305-donna/blob/e6ad6e091d30d7f4ec2d4f978be1fcfcbce72781/poly1305-donna-16.h#L47\n    this.r[0] = t0 & 0x1fff;\n    this.r[1] = (t0 >>> 13 | t1 << 3) & 0x1fff;\n    this.r[2] = (t1 >>> 10 | t2 << 6) & 0x1f03;\n    this.r[3] = (t2 >>> 7 | t3 << 9) & 0x1fff;\n    this.r[4] = (t3 >>> 4 | t4 << 12) & 0x00ff;\n    this.r[5] = t4 >>> 1 & 0x1ffe;\n    this.r[6] = (t4 >>> 14 | t5 << 2) & 0x1fff;\n    this.r[7] = (t5 >>> 11 | t6 << 5) & 0x1f81;\n    this.r[8] = (t6 >>> 8 | t7 << 8) & 0x1fff;\n    this.r[9] = t7 >>> 5 & 0x007f;\n    for (var i = 0; i < 8; i++) {\n      this.pad[i] = u8to16(key, 16 + 2 * i);\n    }\n  }\n  _createClass(Poly1305, [{\n    key: \"process\",\n    value: function process(data, offset) {\n      var isLast = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var hibit = isLast ? 0 : 1 << 11;\n      var h = this.h,\n        r = this.r;\n      var r0 = r[0];\n      var r1 = r[1];\n      var r2 = r[2];\n      var r3 = r[3];\n      var r4 = r[4];\n      var r5 = r[5];\n      var r6 = r[6];\n      var r7 = r[7];\n      var r8 = r[8];\n      var r9 = r[9];\n      var t0 = u8to16(data, offset + 0);\n      var t1 = u8to16(data, offset + 2);\n      var t2 = u8to16(data, offset + 4);\n      var t3 = u8to16(data, offset + 6);\n      var t4 = u8to16(data, offset + 8);\n      var t5 = u8to16(data, offset + 10);\n      var t6 = u8to16(data, offset + 12);\n      var t7 = u8to16(data, offset + 14);\n      var h0 = h[0] + (t0 & 0x1fff);\n      var h1 = h[1] + ((t0 >>> 13 | t1 << 3) & 0x1fff);\n      var h2 = h[2] + ((t1 >>> 10 | t2 << 6) & 0x1fff);\n      var h3 = h[3] + ((t2 >>> 7 | t3 << 9) & 0x1fff);\n      var h4 = h[4] + ((t3 >>> 4 | t4 << 12) & 0x1fff);\n      var h5 = h[5] + (t4 >>> 1 & 0x1fff);\n      var h6 = h[6] + ((t4 >>> 14 | t5 << 2) & 0x1fff);\n      var h7 = h[7] + ((t5 >>> 11 | t6 << 5) & 0x1fff);\n      var h8 = h[8] + ((t6 >>> 8 | t7 << 8) & 0x1fff);\n      var h9 = h[9] + (t7 >>> 5 | hibit);\n      var c = 0;\n      var d0 = c + h0 * r0 + h1 * (5 * r9) + h2 * (5 * r8) + h3 * (5 * r7) + h4 * (5 * r6);\n      c = d0 >>> 13;\n      d0 &= 0x1fff;\n      d0 += h5 * (5 * r5) + h6 * (5 * r4) + h7 * (5 * r3) + h8 * (5 * r2) + h9 * (5 * r1);\n      c += d0 >>> 13;\n      d0 &= 0x1fff;\n      var d1 = c + h0 * r1 + h1 * r0 + h2 * (5 * r9) + h3 * (5 * r8) + h4 * (5 * r7);\n      c = d1 >>> 13;\n      d1 &= 0x1fff;\n      d1 += h5 * (5 * r6) + h6 * (5 * r5) + h7 * (5 * r4) + h8 * (5 * r3) + h9 * (5 * r2);\n      c += d1 >>> 13;\n      d1 &= 0x1fff;\n      var d2 = c + h0 * r2 + h1 * r1 + h2 * r0 + h3 * (5 * r9) + h4 * (5 * r8);\n      c = d2 >>> 13;\n      d2 &= 0x1fff;\n      d2 += h5 * (5 * r7) + h6 * (5 * r6) + h7 * (5 * r5) + h8 * (5 * r4) + h9 * (5 * r3);\n      c += d2 >>> 13;\n      d2 &= 0x1fff;\n      var d3 = c + h0 * r3 + h1 * r2 + h2 * r1 + h3 * r0 + h4 * (5 * r9);\n      c = d3 >>> 13;\n      d3 &= 0x1fff;\n      d3 += h5 * (5 * r8) + h6 * (5 * r7) + h7 * (5 * r6) + h8 * (5 * r5) + h9 * (5 * r4);\n      c += d3 >>> 13;\n      d3 &= 0x1fff;\n      var d4 = c + h0 * r4 + h1 * r3 + h2 * r2 + h3 * r1 + h4 * r0;\n      c = d4 >>> 13;\n      d4 &= 0x1fff;\n      d4 += h5 * (5 * r9) + h6 * (5 * r8) + h7 * (5 * r7) + h8 * (5 * r6) + h9 * (5 * r5);\n      c += d4 >>> 13;\n      d4 &= 0x1fff;\n      var d5 = c + h0 * r5 + h1 * r4 + h2 * r3 + h3 * r2 + h4 * r1;\n      c = d5 >>> 13;\n      d5 &= 0x1fff;\n      d5 += h5 * r0 + h6 * (5 * r9) + h7 * (5 * r8) + h8 * (5 * r7) + h9 * (5 * r6);\n      c += d5 >>> 13;\n      d5 &= 0x1fff;\n      var d6 = c + h0 * r6 + h1 * r5 + h2 * r4 + h3 * r3 + h4 * r2;\n      c = d6 >>> 13;\n      d6 &= 0x1fff;\n      d6 += h5 * r1 + h6 * r0 + h7 * (5 * r9) + h8 * (5 * r8) + h9 * (5 * r7);\n      c += d6 >>> 13;\n      d6 &= 0x1fff;\n      var d7 = c + h0 * r7 + h1 * r6 + h2 * r5 + h3 * r4 + h4 * r3;\n      c = d7 >>> 13;\n      d7 &= 0x1fff;\n      d7 += h5 * r2 + h6 * r1 + h7 * r0 + h8 * (5 * r9) + h9 * (5 * r8);\n      c += d7 >>> 13;\n      d7 &= 0x1fff;\n      var d8 = c + h0 * r8 + h1 * r7 + h2 * r6 + h3 * r5 + h4 * r4;\n      c = d8 >>> 13;\n      d8 &= 0x1fff;\n      d8 += h5 * r3 + h6 * r2 + h7 * r1 + h8 * r0 + h9 * (5 * r9);\n      c += d8 >>> 13;\n      d8 &= 0x1fff;\n      var d9 = c + h0 * r9 + h1 * r8 + h2 * r7 + h3 * r6 + h4 * r5;\n      c = d9 >>> 13;\n      d9 &= 0x1fff;\n      d9 += h5 * r4 + h6 * r3 + h7 * r2 + h8 * r1 + h9 * r0;\n      c += d9 >>> 13;\n      d9 &= 0x1fff;\n      c = (c << 2) + c | 0;\n      c = c + d0 | 0;\n      d0 = c & 0x1fff;\n      c = c >>> 13;\n      d1 += c;\n      h[0] = d0;\n      h[1] = d1;\n      h[2] = d2;\n      h[3] = d3;\n      h[4] = d4;\n      h[5] = d5;\n      h[6] = d6;\n      h[7] = d7;\n      h[8] = d8;\n      h[9] = d9;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      var h = this.h,\n        pad = this.pad;\n      var g = new Uint16Array(10);\n      var c = h[1] >>> 13;\n      h[1] &= 0x1fff;\n      for (var i = 2; i < 10; i++) {\n        h[i] += c;\n        c = h[i] >>> 13;\n        h[i] &= 0x1fff;\n      }\n      h[0] += c * 5;\n      c = h[0] >>> 13;\n      h[0] &= 0x1fff;\n      h[1] += c;\n      c = h[1] >>> 13;\n      h[1] &= 0x1fff;\n      h[2] += c;\n      g[0] = h[0] + 5;\n      c = g[0] >>> 13;\n      g[0] &= 0x1fff;\n      for (var _i = 1; _i < 10; _i++) {\n        g[_i] = h[_i] + c;\n        c = g[_i] >>> 13;\n        g[_i] &= 0x1fff;\n      }\n      g[9] -= 1 << 13;\n      var mask = (c ^ 1) - 1;\n      for (var _i2 = 0; _i2 < 10; _i2++) {\n        g[_i2] &= mask;\n      }\n      mask = ~mask;\n      for (var _i3 = 0; _i3 < 10; _i3++) {\n        h[_i3] = h[_i3] & mask | g[_i3];\n      }\n      h[0] = (h[0] | h[1] << 13) & 0xffff;\n      h[1] = (h[1] >>> 3 | h[2] << 10) & 0xffff;\n      h[2] = (h[2] >>> 6 | h[3] << 7) & 0xffff;\n      h[3] = (h[3] >>> 9 | h[4] << 4) & 0xffff;\n      h[4] = (h[4] >>> 12 | h[5] << 1 | h[6] << 14) & 0xffff;\n      h[5] = (h[6] >>> 2 | h[7] << 11) & 0xffff;\n      h[6] = (h[7] >>> 5 | h[8] << 8) & 0xffff;\n      h[7] = (h[8] >>> 8 | h[9] << 5) & 0xffff;\n      var f = h[0] + pad[0];\n      h[0] = f & 0xffff;\n      for (var _i4 = 1; _i4 < 8; _i4++) {\n        f = (h[_i4] + pad[_i4] | 0) + (f >>> 16) | 0;\n        h[_i4] = f & 0xffff;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(data) {\n      assert.exists(this);\n      var buffer = this.buffer,\n        blockLen = this.blockLen;\n      data = toBytes(data);\n      var len = data.length;\n      for (var pos = 0; pos < len;) {\n        var take = Math.min(blockLen - this.pos, len - pos);\n        // Fast path: we have at least one block in input\n        if (take === blockLen) {\n          for (; blockLen <= len - pos; pos += blockLen) {\n            this.process(data, pos);\n          }\n          continue;\n        }\n        buffer.set(data.subarray(pos, pos + take), this.pos);\n        this.pos += take;\n        pos += take;\n        if (this.pos === blockLen) {\n          this.process(buffer, 0, false);\n          this.pos = 0;\n        }\n      }\n      return this;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.h.fill(0);\n      this.r.fill(0);\n      this.buffer.fill(0);\n      this.pad.fill(0);\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assert.exists(this);\n      assert.output(out, this);\n      this.finished = true;\n      var buffer = this.buffer,\n        h = this.h;\n      var pos = this.pos;\n      if (pos) {\n        buffer[pos++] = 1;\n        // buffer.subarray(pos).fill(0);\n        for (; pos < 16; pos++) {\n          buffer[pos] = 0;\n        }\n        this.process(buffer, 0, true);\n      }\n      this.finalize();\n      var opos = 0;\n      for (var i = 0; i < 8; i++) {\n        out[opos++] = h[i] >>> 0;\n        out[opos++] = h[i] >>> 8;\n      }\n      return out;\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var buffer = this.buffer,\n        outputLen = this.outputLen;\n      this.digestInto(buffer);\n      var res = buffer.slice(0, outputLen);\n      this.destroy();\n      return res;\n    }\n  }]);\n  return Poly1305;\n}();\nexport function wrapConstructorWithKey(hashCons) {\n  var hashC = function hashC(msg, key) {\n    return hashCons(key).update(toBytes(msg)).digest();\n  };\n  var tmp = hashCons(new Uint8Array(32));\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = function (key) {\n    return hashCons(key);\n  };\n  return hashC;\n}\nexport var poly1305 = wrapConstructorWithKey(function (key) {\n  return new Poly1305(key);\n});","// Basic utils for salsa-like ciphers\n// Check out _micro.ts for descriptive documentation.\nimport assert from './_assert.js';\nimport { u32, utf8ToBytes, checkOpts } from './utils.js';\n/*\nRFC8439 requires multi-step cipher stream, where\nauthKey starts with counter: 0, actual msg with counter: 1.\n\nFor this, we need a way to re-use nonce / counter:\n\n    const counter = new Uint8Array(4);\n    chacha(..., counter, ...); // counter is now 1\n    chacha(..., counter, ...); // counter is now 2\n\nThis is complicated:\n\n- Original papers don't allow mutating counters\n- Counter overflow is undefined: https://mailarchive.ietf.org/arch/msg/cfrg/gsOnTJzcbgG6OqD8Sc0GO5aR_tU/\n- 3rd-party library stablelib implementation uses an approach where you can provide\n  nonce and counter instead of just nonce - and it will re-use it\n- We could have did something similar, but ChaCha has different counter position\n  (counter | nonce), which is not composable with XChaCha, because full counter\n  is (nonce16 | counter | nonce16). Stablelib doesn't support in-place counter for XChaCha.\n- We could separate nonce & counter and provide separate API for counter re-use, but\n  there are different counter sizes depending on an algorithm.\n- Salsa & ChaCha also differ in structures of key / sigma:\n\n    salsa:     c0 | k(4) | c1 | nonce(2) | ctr(2) | c2 | k(4) | c4\n    chacha:    c(4) | k(8) | ctr(1) | nonce(3)\n    chachaDJB: c(4) | k(8) | ctr(2) | nonce(2)\n- Creating function such as `setSalsaState(key, nonce, sigma, data)` won't work,\n  because we can't re-use counter array\n- 32-bit nonce is `2 ** 32 * 64` = 256GB with 32-bit counter\n- JS does not allow UintArrays bigger than 4GB, so supporting 64-bit counters doesn't matter\n\nStructure is as following:\n\nkey=16 -> sigma16, k=key|key\nkey=32 -> sigma32, k=key\n\nnonces:\nsalsa20:      8   (8-byte counter)\nchacha20djb:  8   (8-byte counter)\nchacha20tls:  12  (4-byte counter)\nxsalsa:       24  (16 -> hsalsa, 8 -> old nonce)\nxchacha:      24  (16 -> hchacha, 8 -> old nonce)\n\nhttps://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha#appendix-A.2\nUse the subkey and remaining 8 byte nonce with ChaCha20 as normal\n(prefixed by 4 NUL bytes, since [RFC8439] specifies a 12-byte nonce).\n*/\nvar sigma16 = utf8ToBytes('expand 16-byte k');\nvar sigma32 = utf8ToBytes('expand 32-byte k');\nvar sigma16_32 = u32(sigma16);\nvar sigma32_32 = u32(sigma32);\n// Is byte array aligned to 4 byte offset (u32)?\nvar isAligned32 = function isAligned32(b) {\n  return !(b.byteOffset % 4);\n};\nexport var salsaBasic = function salsaBasic(opts) {\n  var _checkOpts = checkOpts({\n      rounds: 20,\n      counterRight: false,\n      counterLen: 8,\n      allow128bitKeys: true,\n      blockLen: 64\n    }, opts),\n    core = _checkOpts.core,\n    rounds = _checkOpts.rounds,\n    counterRight = _checkOpts.counterRight,\n    counterLen = _checkOpts.counterLen,\n    allow128bitKeys = _checkOpts.allow128bitKeys,\n    extendNonceFn = _checkOpts.extendNonceFn,\n    blockLen = _checkOpts.blockLen;\n  assert.number(counterLen);\n  assert.number(rounds);\n  assert.number(blockLen);\n  assert.bool(counterRight);\n  assert.bool(allow128bitKeys);\n  var blockLen32 = blockLen / 4;\n  if (blockLen % 4 !== 0) throw new Error('Salsa/ChaCha: blockLen must be aligned to 4 bytes');\n  return function (key, nonce, data, output) {\n    var counter = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    assert.bytes(key);\n    assert.bytes(nonce);\n    assert.bytes(data);\n    if (!output) output = new Uint8Array(data.length);\n    assert.bytes(output);\n    assert.number(counter);\n    // > new Uint32Array([2**32])\n    // Uint32Array(1) [ 0 ]\n    // > new Uint32Array([2**32-1])\n    // Uint32Array(1) [ 4294967295 ]\n    if (counter < 0 || counter >= Math.pow(2, 32) - 1) throw new Error('Salsa/ChaCha: counter overflow');\n    if (output.length < data.length) {\n      throw new Error(\"Salsa/ChaCha: output (\".concat(output.length, \") is shorter than data (\").concat(data.length, \")\"));\n    }\n    var toClean = [];\n    var k, sigma;\n    // Handle 128 byte keys\n    if (key.length === 32) {\n      k = key;\n      sigma = sigma32_32;\n    } else if (key.length === 16 && allow128bitKeys) {\n      k = new Uint8Array(32);\n      k.set(key);\n      k.set(key, 16);\n      sigma = sigma16_32;\n      toClean.push(k);\n    } else throw new Error(\"Salsa/ChaCha: invalid 32-byte key, got length=\".concat(key.length));\n    // Handle extended nonce (HChaCha/HSalsa)\n    if (extendNonceFn) {\n      if (nonce.length <= 16) throw new Error(\"Salsa/ChaCha: extended nonce must be bigger than 16 bytes\");\n      k = extendNonceFn(sigma, k, nonce.subarray(0, 16), new Uint8Array(32));\n      toClean.push(k);\n      nonce = nonce.subarray(16);\n    }\n    // Handle nonce counter\n    var nonceLen = 16 - counterLen;\n    if (nonce.length !== nonceLen) throw new Error(\"Salsa/ChaCha: nonce must be \".concat(nonceLen, \" or 16 bytes\"));\n    // Pad counter when nonce is 64 bit\n    if (nonceLen !== 12) {\n      var nc = new Uint8Array(12);\n      nc.set(nonce, counterRight ? 0 : 12 - nonce.length);\n      toClean.push(nonce = nc);\n    }\n    // Counter positions\n    var block = new Uint8Array(blockLen);\n    // Cast to Uint32Array for speed\n    var b32 = u32(block);\n    var k32 = u32(k);\n    var n32 = u32(nonce);\n    // Make sure that buffers aligned to 4 bytes\n    var d32 = isAligned32(data) && u32(data);\n    var o32 = isAligned32(output) && u32(output);\n    toClean.push(b32);\n    var len = data.length;\n    for (var pos = 0, ctr = counter; pos < len; ctr++) {\n      core(sigma, k32, n32, b32, ctr, rounds);\n      if (ctr >= Math.pow(2, 32) - 1) throw new Error('Salsa/ChaCha: counter overflow');\n      var take = Math.min(blockLen, len - pos);\n      // full block && aligned to 4 bytes\n      if (take === blockLen && o32 && d32) {\n        var pos32 = pos / 4;\n        if (pos % 4 !== 0) throw new Error('Salsa/ChaCha: invalid block position');\n        for (var j = 0; j < blockLen32; j++) {\n          o32[pos32 + j] = d32[pos32 + j] ^ b32[j];\n        }\n        pos += blockLen;\n        continue;\n      }\n      for (var _j = 0; _j < take; _j++) {\n        output[pos + _j] = data[pos + _j] ^ block[_j];\n      }\n      pos += take;\n    }\n    for (var i = 0; i < toClean.length; i++) {\n      toClean[i].fill(0);\n    }\n    return output;\n  };\n};","import { createView, ensureBytes, equalBytes, setBigUint64, u32 } from './utils.js';\nimport { poly1305 } from './_poly1305.js';\nimport { salsaBasic } from './_salsa.js';\n// ChaCha20 stream cipher was released in 2008. ChaCha aims to increase\n// the diffusion per round, but had slightly less cryptanalysis.\n// https://cr.yp.to/chacha.html, http://cr.yp.to/chacha/chacha-20080128.pdf\n// Left rotate for uint32\nvar rotl = function rotl(a, b) {\n  return a << b | a >>> 32 - b;\n};\n/**\n * ChaCha core function.\n */\n// prettier-ignore\nfunction chachaCore(c, k, n, out, cnt) {\n  var rounds = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 20;\n  var y00 = c[0],\n    y01 = c[1],\n    y02 = c[2],\n    y03 = c[3]; // \"expa\"   \"nd 3\"  \"2-by\"  \"te k\"\n  var y04 = k[0],\n    y05 = k[1],\n    y06 = k[2],\n    y07 = k[3]; // Key      Key     Key     Key\n  var y08 = k[4],\n    y09 = k[5],\n    y10 = k[6],\n    y11 = k[7]; // Key      Key     Key     Key\n  var y12 = cnt,\n    y13 = n[0],\n    y14 = n[1],\n    y15 = n[2]; // Counter  Counter\tNonce   Nonce\n  // Save state to temporary variables\n  var x00 = y00,\n    x01 = y01,\n    x02 = y02,\n    x03 = y03,\n    x04 = y04,\n    x05 = y05,\n    x06 = y06,\n    x07 = y07,\n    x08 = y08,\n    x09 = y09,\n    x10 = y10,\n    x11 = y11,\n    x12 = y12,\n    x13 = y13,\n    x14 = y14,\n    x15 = y15;\n  // Main loop\n  for (var i = 0; i < rounds; i += 2) {\n    x00 = x00 + x04 | 0;\n    x12 = rotl(x12 ^ x00, 16);\n    x08 = x08 + x12 | 0;\n    x04 = rotl(x04 ^ x08, 12);\n    x00 = x00 + x04 | 0;\n    x12 = rotl(x12 ^ x00, 8);\n    x08 = x08 + x12 | 0;\n    x04 = rotl(x04 ^ x08, 7);\n    x01 = x01 + x05 | 0;\n    x13 = rotl(x13 ^ x01, 16);\n    x09 = x09 + x13 | 0;\n    x05 = rotl(x05 ^ x09, 12);\n    x01 = x01 + x05 | 0;\n    x13 = rotl(x13 ^ x01, 8);\n    x09 = x09 + x13 | 0;\n    x05 = rotl(x05 ^ x09, 7);\n    x02 = x02 + x06 | 0;\n    x14 = rotl(x14 ^ x02, 16);\n    x10 = x10 + x14 | 0;\n    x06 = rotl(x06 ^ x10, 12);\n    x02 = x02 + x06 | 0;\n    x14 = rotl(x14 ^ x02, 8);\n    x10 = x10 + x14 | 0;\n    x06 = rotl(x06 ^ x10, 7);\n    x03 = x03 + x07 | 0;\n    x15 = rotl(x15 ^ x03, 16);\n    x11 = x11 + x15 | 0;\n    x07 = rotl(x07 ^ x11, 12);\n    x03 = x03 + x07 | 0;\n    x15 = rotl(x15 ^ x03, 8);\n    x11 = x11 + x15 | 0;\n    x07 = rotl(x07 ^ x11, 7);\n    x00 = x00 + x05 | 0;\n    x15 = rotl(x15 ^ x00, 16);\n    x10 = x10 + x15 | 0;\n    x05 = rotl(x05 ^ x10, 12);\n    x00 = x00 + x05 | 0;\n    x15 = rotl(x15 ^ x00, 8);\n    x10 = x10 + x15 | 0;\n    x05 = rotl(x05 ^ x10, 7);\n    x01 = x01 + x06 | 0;\n    x12 = rotl(x12 ^ x01, 16);\n    x11 = x11 + x12 | 0;\n    x06 = rotl(x06 ^ x11, 12);\n    x01 = x01 + x06 | 0;\n    x12 = rotl(x12 ^ x01, 8);\n    x11 = x11 + x12 | 0;\n    x06 = rotl(x06 ^ x11, 7);\n    x02 = x02 + x07 | 0;\n    x13 = rotl(x13 ^ x02, 16);\n    x08 = x08 + x13 | 0;\n    x07 = rotl(x07 ^ x08, 12);\n    x02 = x02 + x07 | 0;\n    x13 = rotl(x13 ^ x02, 8);\n    x08 = x08 + x13 | 0;\n    x07 = rotl(x07 ^ x08, 7);\n    x03 = x03 + x04 | 0;\n    x14 = rotl(x14 ^ x03, 16);\n    x09 = x09 + x14 | 0;\n    x04 = rotl(x04 ^ x09, 12);\n    x03 = x03 + x04 | 0;\n    x14 = rotl(x14 ^ x03, 8);\n    x09 = x09 + x14 | 0;\n    x04 = rotl(x04 ^ x09, 7);\n  }\n  // Write output\n  var oi = 0;\n  out[oi++] = y00 + x00 | 0;\n  out[oi++] = y01 + x01 | 0;\n  out[oi++] = y02 + x02 | 0;\n  out[oi++] = y03 + x03 | 0;\n  out[oi++] = y04 + x04 | 0;\n  out[oi++] = y05 + x05 | 0;\n  out[oi++] = y06 + x06 | 0;\n  out[oi++] = y07 + x07 | 0;\n  out[oi++] = y08 + x08 | 0;\n  out[oi++] = y09 + x09 | 0;\n  out[oi++] = y10 + x10 | 0;\n  out[oi++] = y11 + x11 | 0;\n  out[oi++] = y12 + x12 | 0;\n  out[oi++] = y13 + x13 | 0;\n  out[oi++] = y14 + x14 | 0;\n  out[oi++] = y15 + x15 | 0;\n}\n/**\n * hchacha helper method, used primarily in xchacha, to hash\n * key and nonce into key' and nonce'.\n * Same as chachaCore, but there doesn't seem to be a way to move the block\n * out without 25% performance hit.\n */\n// prettier-ignore\nexport function hchacha(c, key, src, out) {\n  var k32 = u32(key);\n  var i32 = u32(src);\n  var o32 = u32(out);\n  var x00 = c[0],\n    x01 = c[1],\n    x02 = c[2],\n    x03 = c[3];\n  var x04 = k32[0],\n    x05 = k32[1],\n    x06 = k32[2],\n    x07 = k32[3];\n  var x08 = k32[4],\n    x09 = k32[5],\n    x10 = k32[6],\n    x11 = k32[7];\n  var x12 = i32[0],\n    x13 = i32[1],\n    x14 = i32[2],\n    x15 = i32[3];\n  for (var i = 0; i < 20; i += 2) {\n    x00 = x00 + x04 | 0;\n    x12 = rotl(x12 ^ x00, 16);\n    x08 = x08 + x12 | 0;\n    x04 = rotl(x04 ^ x08, 12);\n    x00 = x00 + x04 | 0;\n    x12 = rotl(x12 ^ x00, 8);\n    x08 = x08 + x12 | 0;\n    x04 = rotl(x04 ^ x08, 7);\n    x01 = x01 + x05 | 0;\n    x13 = rotl(x13 ^ x01, 16);\n    x09 = x09 + x13 | 0;\n    x05 = rotl(x05 ^ x09, 12);\n    x01 = x01 + x05 | 0;\n    x13 = rotl(x13 ^ x01, 8);\n    x09 = x09 + x13 | 0;\n    x05 = rotl(x05 ^ x09, 7);\n    x02 = x02 + x06 | 0;\n    x14 = rotl(x14 ^ x02, 16);\n    x10 = x10 + x14 | 0;\n    x06 = rotl(x06 ^ x10, 12);\n    x02 = x02 + x06 | 0;\n    x14 = rotl(x14 ^ x02, 8);\n    x10 = x10 + x14 | 0;\n    x06 = rotl(x06 ^ x10, 7);\n    x03 = x03 + x07 | 0;\n    x15 = rotl(x15 ^ x03, 16);\n    x11 = x11 + x15 | 0;\n    x07 = rotl(x07 ^ x11, 12);\n    x03 = x03 + x07 | 0;\n    x15 = rotl(x15 ^ x03, 8);\n    x11 = x11 + x15 | 0;\n    x07 = rotl(x07 ^ x11, 7);\n    x00 = x00 + x05 | 0;\n    x15 = rotl(x15 ^ x00, 16);\n    x10 = x10 + x15 | 0;\n    x05 = rotl(x05 ^ x10, 12);\n    x00 = x00 + x05 | 0;\n    x15 = rotl(x15 ^ x00, 8);\n    x10 = x10 + x15 | 0;\n    x05 = rotl(x05 ^ x10, 7);\n    x01 = x01 + x06 | 0;\n    x12 = rotl(x12 ^ x01, 16);\n    x11 = x11 + x12 | 0;\n    x06 = rotl(x06 ^ x11, 12);\n    x01 = x01 + x06 | 0;\n    x12 = rotl(x12 ^ x01, 8);\n    x11 = x11 + x12 | 0;\n    x06 = rotl(x06 ^ x11, 7);\n    x02 = x02 + x07 | 0;\n    x13 = rotl(x13 ^ x02, 16);\n    x08 = x08 + x13 | 0;\n    x07 = rotl(x07 ^ x08, 12);\n    x02 = x02 + x07 | 0;\n    x13 = rotl(x13 ^ x02, 8);\n    x08 = x08 + x13 | 0;\n    x07 = rotl(x07 ^ x08, 7);\n    x03 = x03 + x04 | 0;\n    x14 = rotl(x14 ^ x03, 16);\n    x09 = x09 + x14 | 0;\n    x04 = rotl(x04 ^ x09, 12);\n    x03 = x03 + x04 | 0;\n    x14 = rotl(x14 ^ x03, 8);\n    x09 = x09 + x14 | 0;\n    x04 = rotl(x04 ^ x09, 7);\n  }\n  o32[0] = x00;\n  o32[1] = x01;\n  o32[2] = x02;\n  o32[3] = x03;\n  o32[4] = x12;\n  o32[5] = x13;\n  o32[6] = x14;\n  o32[7] = x15;\n  return out;\n}\n/**\n * Original, non-RFC chacha20 from DJB. 8-byte nonce, 8-byte counter.\n */\nexport var chacha20orig = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 8\n});\n/**\n * ChaCha stream cipher. Conforms to RFC 8439 (IETF, TLS). 12-byte nonce, 4-byte counter.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport var chacha20 = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 4,\n  allow128bitKeys: false\n});\n/**\n * XChaCha eXtended-nonce ChaCha. 24-byte nonce.\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n */\nexport var xchacha20 = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 8,\n  extendNonceFn: hchacha,\n  allow128bitKeys: false\n});\n/**\n * Reduced 8-round chacha, described in original paper.\n */\nexport var chacha8 = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 4,\n  rounds: 8\n});\n/**\n * Reduced 12-round chacha, described in original paper.\n */\nexport var chacha12 = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 4,\n  rounds: 12\n});\nvar ZERO = /* @__PURE__ */new Uint8Array(16);\n// Pad to digest size with zeros\nvar updatePadded = function updatePadded(h, msg) {\n  h.update(msg);\n  var left = msg.length % 16;\n  if (left) h.update(ZERO.subarray(left));\n};\nvar computeTag = function computeTag(fn, key, nonce, data, AAD) {\n  var authKey = fn(key, nonce, new Uint8Array(32));\n  var h = poly1305.create(authKey);\n  if (AAD) updatePadded(h, AAD);\n  updatePadded(h, data);\n  var num = new Uint8Array(16);\n  var view = createView(num);\n  setBigUint64(view, 0, BigInt(AAD ? AAD.length : 0), true);\n  setBigUint64(view, 8, BigInt(data.length), true);\n  h.update(num);\n  var res = h.digest();\n  authKey.fill(0);\n  return res;\n};\n/**\n * AEAD algorithm from RFC 8439.\n * Salsa20 and chacha (RFC 8439) use poly1305 differently.\n * We could have composed them similar to:\n * https://github.com/paulmillr/scure-base/blob/b266c73dde977b1dd7ef40ef7a23cc15aab526b3/index.ts#L250\n * But it's hard because of authKey:\n * In salsa20, authKey changes position in salsa stream.\n * In chacha, authKey can't be computed inside computeTag, it modifies the counter.\n */\nexport var _poly1305_aead = function _poly1305_aead(xorStream) {\n  return function (key, nonce, AAD) {\n    var tagLength = 16;\n    ensureBytes(key, 32);\n    ensureBytes(nonce);\n    return {\n      tagLength: tagLength,\n      encrypt: function encrypt(plaintext, output) {\n        var plength = plaintext.length;\n        var clength = plength + tagLength;\n        if (output) {\n          ensureBytes(output, clength);\n        } else {\n          output = new Uint8Array(clength);\n        }\n        xorStream(key, nonce, plaintext, output, 1);\n        var tag = computeTag(xorStream, key, nonce, output.subarray(0, -tagLength), AAD);\n        output.set(tag, plength); // append tag\n        return output;\n      },\n      decrypt: function decrypt(ciphertext, output) {\n        var clength = ciphertext.length;\n        var plength = clength - tagLength;\n        if (clength < tagLength) throw new Error(\"encrypted data must be at least \".concat(tagLength, \" bytes\"));\n        if (output) {\n          ensureBytes(output, plength);\n        } else {\n          output = new Uint8Array(plength);\n        }\n        var data = ciphertext.subarray(0, -tagLength);\n        var passedTag = ciphertext.subarray(-tagLength);\n        var tag = computeTag(xorStream, key, nonce, data, AAD);\n        if (!equalBytes(passedTag, tag)) throw new Error('invalid tag');\n        xorStream(key, nonce, data, output, 1);\n        return output;\n      }\n    };\n  };\n};\n/**\n * ChaCha20-Poly1305 from RFC 8439.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport var chacha20poly1305 = /* @__PURE__ */_poly1305_aead(chacha20);\n/**\n * XChaCha20-Poly1305 extended-nonce chacha.\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n */\nexport var xchacha20poly1305 = /* @__PURE__ */_poly1305_aead(xchacha20);","import assert from './_assert.js';\nimport { toBytes } from './utils.js';\nimport { hmac } from './hmac.js';\n// HKDF (RFC 5869)\n// https://soatok.blog/2021/11/17/understanding-hkdf/\n/**\n * HKDF-Extract(IKM, salt) -> PRK\n * Arguments position differs from spec (IKM is first one, since it is not optional)\n * @param hash\n * @param ikm\n * @param salt\n * @returns\n */\nexport function extract(hash, ikm, salt) {\n  assert.hash(hash);\n  // NOTE: some libraries treat zero-length array as 'not provided';\n  // we don't, since we have undefined as 'not provided'\n  // https://github.com/RustCrypto/KDFs/issues/15\n  if (salt === undefined) salt = new Uint8Array(hash.outputLen); // if not provided, it is set to a string of HashLen zeros\n  return hmac(hash, toBytes(salt), toBytes(ikm));\n}\n// HKDF-Expand(PRK, info, L) -> OKM\nvar HKDF_COUNTER = new Uint8Array([0]);\nvar EMPTY_BUFFER = new Uint8Array();\n/**\n * HKDF-expand from the spec.\n * @param prk - a pseudorandom key of at least HashLen octets (usually, the output from the extract step)\n * @param info - optional context and application specific information (can be a zero-length string)\n * @param length - length of output keying material in octets\n */\nexport function expand(hash, prk, info) {\n  var length = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 32;\n  assert.hash(hash);\n  assert.number(length);\n  if (length > 255 * hash.outputLen) throw new Error('Length should be <= 255*HashLen');\n  var blocks = Math.ceil(length / hash.outputLen);\n  if (info === undefined) info = EMPTY_BUFFER;\n  // first L(ength) octets of T\n  var okm = new Uint8Array(blocks * hash.outputLen);\n  // Re-use HMAC instance between blocks\n  var HMAC = hmac.create(hash, prk);\n  var HMACTmp = HMAC._cloneInto();\n  var T = new Uint8Array(HMAC.outputLen);\n  for (var counter = 0; counter < blocks; counter++) {\n    HKDF_COUNTER[0] = counter + 1;\n    // T(0) = empty string (zero length)\n    // T(N) = HMAC-Hash(PRK, T(N-1) | info | N)\n    HMACTmp.update(counter === 0 ? EMPTY_BUFFER : T).update(info).update(HKDF_COUNTER).digestInto(T);\n    okm.set(T, hash.outputLen * counter);\n    HMAC._cloneInto(HMACTmp);\n  }\n  HMAC.destroy();\n  HMACTmp.destroy();\n  T.fill(0);\n  HKDF_COUNTER.fill(0);\n  return okm.slice(0, length);\n}\n/**\n * HKDF (RFC 5869): extract + expand in one step.\n * @param hash - hash function that would be used (e.g. sha256)\n * @param ikm - input keying material, the initial key\n * @param salt - optional salt value (a non-secret random value)\n * @param info - optional context and application specific information\n * @param length - length of output keying material in octets\n */\nexport var hkdf = function hkdf(hash, ikm, salt, info, length) {\n  return expand(hash, extract(hash, ikm, salt), info, length);\n};","import _asyncToGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _awaitAsyncGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _wrapAsyncGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(_matchAll);\nimport \"core-js/modules/esnext.string.match-all.js\";\nimport \"core-js/modules/esnext.string.replace-all.js\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport _regeneratorRuntime from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/regenerator/index.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar __defProp = Object.defineProperty;\nvar __export = function __export(target, all) {\n  for (var name in all) {\n    __defProp(target, name, {\n      get: all[name],\n      enumerable: true\n    });\n  }\n};\n\n// keys.ts\nimport { schnorr } from \"@noble/curves/secp256k1\";\nimport { bytesToHex } from \"@noble/hashes/utils\";\nfunction generatePrivateKey() {\n  return bytesToHex(schnorr.utils.randomPrivateKey());\n}\nfunction getPublicKey(privateKey) {\n  return bytesToHex(schnorr.getPublicKey(privateKey));\n}\n\n// event.ts\nimport { schnorr as schnorr2 } from \"@noble/curves/secp256k1\";\nimport { sha256 } from \"@noble/hashes/sha256\";\nimport { bytesToHex as bytesToHex2 } from \"@noble/hashes/utils\";\n\n// utils.ts\nvar utils_exports = {};\n__export(utils_exports, {\n  MessageNode: function MessageNode() {\n    return _MessageNode;\n  },\n  MessageQueue: function MessageQueue() {\n    return _MessageQueue;\n  },\n  insertEventIntoAscendingList: function insertEventIntoAscendingList() {\n    return _insertEventIntoAscendingList;\n  },\n  insertEventIntoDescendingList: function insertEventIntoDescendingList() {\n    return _insertEventIntoDescendingList;\n  },\n  normalizeURL: function normalizeURL() {\n    return _normalizeURL;\n  },\n  utf8Decoder: function utf8Decoder() {\n    return _utf8Decoder;\n  },\n  utf8Encoder: function utf8Encoder() {\n    return _utf8Encoder;\n  }\n});\nvar _utf8Decoder = new TextDecoder(\"utf-8\");\nvar _utf8Encoder = new TextEncoder();\nfunction _normalizeURL(url) {\n  var p = new URL(url);\n  p.pathname = p.pathname.replace(/\\/+/g, \"/\");\n  if (p.pathname.endsWith(\"/\")) p.pathname = p.pathname.slice(0, -1);\n  if (p.port === \"80\" && p.protocol === \"ws:\" || p.port === \"443\" && p.protocol === \"wss:\") p.port = \"\";\n  p.searchParams.sort();\n  p.hash = \"\";\n  return p.toString();\n}\nfunction _insertEventIntoDescendingList(sortedArray, event) {\n  var _sortedArray$position;\n  var start = 0;\n  var end = sortedArray.length - 1;\n  var midPoint;\n  var position = start;\n  if (end < 0) {\n    position = 0;\n  } else if (event.created_at < sortedArray[end].created_at) {\n    position = end + 1;\n  } else if (event.created_at >= sortedArray[start].created_at) {\n    position = start;\n  } else while (true) {\n    if (end <= start + 1) {\n      position = end;\n      break;\n    }\n    midPoint = Math.floor(start + (end - start) / 2);\n    if (sortedArray[midPoint].created_at > event.created_at) {\n      start = midPoint;\n    } else if (sortedArray[midPoint].created_at < event.created_at) {\n      end = midPoint;\n    } else {\n      position = midPoint;\n      break;\n    }\n  }\n  if (((_sortedArray$position = sortedArray[position]) === null || _sortedArray$position === void 0 ? void 0 : _sortedArray$position.id) !== event.id) {\n    return [].concat(_toConsumableArray(sortedArray.slice(0, position)), [event], _toConsumableArray(sortedArray.slice(position)));\n  }\n  return sortedArray;\n}\nfunction _insertEventIntoAscendingList(sortedArray, event) {\n  var _sortedArray$position2;\n  var start = 0;\n  var end = sortedArray.length - 1;\n  var midPoint;\n  var position = start;\n  if (end < 0) {\n    position = 0;\n  } else if (event.created_at > sortedArray[end].created_at) {\n    position = end + 1;\n  } else if (event.created_at <= sortedArray[start].created_at) {\n    position = start;\n  } else while (true) {\n    if (end <= start + 1) {\n      position = end;\n      break;\n    }\n    midPoint = Math.floor(start + (end - start) / 2);\n    if (sortedArray[midPoint].created_at < event.created_at) {\n      start = midPoint;\n    } else if (sortedArray[midPoint].created_at > event.created_at) {\n      end = midPoint;\n    } else {\n      position = midPoint;\n      break;\n    }\n  }\n  if (((_sortedArray$position2 = sortedArray[position]) === null || _sortedArray$position2 === void 0 ? void 0 : _sortedArray$position2.id) !== event.id) {\n    return [].concat(_toConsumableArray(sortedArray.slice(0, position)), [event], _toConsumableArray(sortedArray.slice(position)));\n  }\n  return sortedArray;\n}\nvar _MessageNode = /*#__PURE__*/function () {\n  function _MessageNode(message) {\n    _classCallCheck(this, _MessageNode);\n    _defineProperty(this, \"_value\", void 0);\n    _defineProperty(this, \"_next\", void 0);\n    this._value = message;\n    this._next = null;\n  }\n  _createClass(_MessageNode, [{\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(message) {\n      this._value = message;\n    }\n  }, {\n    key: \"next\",\n    get: function get() {\n      return this._next;\n    },\n    set: function set(node) {\n      this._next = node;\n    }\n  }]);\n  return _MessageNode;\n}();\nvar _MessageQueue = /*#__PURE__*/function () {\n  function _MessageQueue() {\n    _classCallCheck(this, _MessageQueue);\n    _defineProperty(this, \"_first\", void 0);\n    _defineProperty(this, \"_last\", void 0);\n    _defineProperty(this, \"_size\", void 0);\n    this._first = null;\n    this._last = null;\n    this._size = 0;\n  }\n  _createClass(_MessageQueue, [{\n    key: \"first\",\n    get: function get() {\n      return this._first;\n    },\n    set: function set(messageNode) {\n      this._first = messageNode;\n    }\n  }, {\n    key: \"last\",\n    get: function get() {\n      return this._last;\n    },\n    set: function set(messageNode) {\n      this._last = messageNode;\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this._size;\n    },\n    set: function set(v) {\n      this._size = v;\n    }\n  }, {\n    key: \"enqueue\",\n    value: function enqueue(message) {\n      var newNode = new _MessageNode(message);\n      if (this._size === 0 || !this._last) {\n        this._first = newNode;\n        this._last = newNode;\n      } else {\n        this._last.next = newNode;\n        this._last = newNode;\n      }\n      this._size++;\n      return true;\n    }\n  }, {\n    key: \"dequeue\",\n    value: function dequeue() {\n      if (this._size === 0 || !this._first) return null;\n      var prev = this._first;\n      this._first = prev.next;\n      prev.next = null;\n      this._size--;\n      return prev.value;\n    }\n  }]);\n  return _MessageQueue;\n}();\n\n// event.ts\nvar verifiedSymbol = Symbol(\"verified\");\nvar Kind = /* @__PURE__ */function (Kind3) {\n  Kind3[Kind3[\"Metadata\"] = 0] = \"Metadata\";\n  Kind3[Kind3[\"Text\"] = 1] = \"Text\";\n  Kind3[Kind3[\"RecommendRelay\"] = 2] = \"RecommendRelay\";\n  Kind3[Kind3[\"Contacts\"] = 3] = \"Contacts\";\n  Kind3[Kind3[\"EncryptedDirectMessage\"] = 4] = \"EncryptedDirectMessage\";\n  Kind3[Kind3[\"EventDeletion\"] = 5] = \"EventDeletion\";\n  Kind3[Kind3[\"Repost\"] = 6] = \"Repost\";\n  Kind3[Kind3[\"Reaction\"] = 7] = \"Reaction\";\n  Kind3[Kind3[\"BadgeAward\"] = 8] = \"BadgeAward\";\n  Kind3[Kind3[\"ChannelCreation\"] = 40] = \"ChannelCreation\";\n  Kind3[Kind3[\"ChannelMetadata\"] = 41] = \"ChannelMetadata\";\n  Kind3[Kind3[\"ChannelMessage\"] = 42] = \"ChannelMessage\";\n  Kind3[Kind3[\"ChannelHideMessage\"] = 43] = \"ChannelHideMessage\";\n  Kind3[Kind3[\"ChannelMuteUser\"] = 44] = \"ChannelMuteUser\";\n  Kind3[Kind3[\"Blank\"] = 255] = \"Blank\";\n  Kind3[Kind3[\"Report\"] = 1984] = \"Report\";\n  Kind3[Kind3[\"ZapRequest\"] = 9734] = \"ZapRequest\";\n  Kind3[Kind3[\"Zap\"] = 9735] = \"Zap\";\n  Kind3[Kind3[\"RelayList\"] = 10002] = \"RelayList\";\n  Kind3[Kind3[\"ClientAuth\"] = 22242] = \"ClientAuth\";\n  Kind3[Kind3[\"NwcRequest\"] = 23194] = \"NwcRequest\";\n  Kind3[Kind3[\"HttpAuth\"] = 27235] = \"HttpAuth\";\n  Kind3[Kind3[\"ProfileBadge\"] = 30008] = \"ProfileBadge\";\n  Kind3[Kind3[\"BadgeDefinition\"] = 30009] = \"BadgeDefinition\";\n  Kind3[Kind3[\"Article\"] = 30023] = \"Article\";\n  Kind3[Kind3[\"FileMetadata\"] = 1063] = \"FileMetadata\";\n  return Kind3;\n}(Kind || {});\nfunction getBlankEvent() {\n  var kind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 255;\n  return {\n    kind: kind,\n    content: \"\",\n    tags: [],\n    created_at: 0\n  };\n}\nfunction finishEvent(t, privateKey) {\n  var event = t;\n  event.pubkey = getPublicKey(privateKey);\n  event.id = getEventHash(event);\n  event.sig = getSignature(event, privateKey);\n  event[verifiedSymbol] = true;\n  return event;\n}\nfunction serializeEvent(evt) {\n  if (!validateEvent(evt)) throw new Error(\"can't serialize event with wrong or missing properties\");\n  return JSON.stringify([0, evt.pubkey, evt.created_at, evt.kind, evt.tags, evt.content]);\n}\nfunction getEventHash(event) {\n  var eventHash = sha256(_utf8Encoder.encode(serializeEvent(event)));\n  return bytesToHex2(eventHash);\n}\nvar isRecord = function isRecord(obj) {\n  return obj instanceof Object;\n};\nfunction validateEvent(event) {\n  if (!isRecord(event)) return false;\n  if (typeof event.kind !== \"number\") return false;\n  if (typeof event.content !== \"string\") return false;\n  if (typeof event.created_at !== \"number\") return false;\n  if (typeof event.pubkey !== \"string\") return false;\n  if (!event.pubkey.match(/^[a-f0-9]{64}$/)) return false;\n  if (!Array.isArray(event.tags)) return false;\n  for (var i = 0; i < event.tags.length; i++) {\n    var tag = event.tags[i];\n    if (!Array.isArray(tag)) return false;\n    for (var j = 0; j < tag.length; j++) {\n      if (typeof tag[j] === \"object\") return false;\n    }\n  }\n  return true;\n}\nfunction verifySignature(event) {\n  if (typeof event[verifiedSymbol] === \"boolean\") return event[verifiedSymbol];\n  var hash = getEventHash(event);\n  if (hash !== event.id) {\n    return event[verifiedSymbol] = false;\n  }\n  try {\n    return event[verifiedSymbol] = schnorr2.verify(event.sig, hash, event.pubkey);\n  } catch (err) {\n    return event[verifiedSymbol] = false;\n  }\n}\nfunction signEvent(event, key) {\n  console.warn(\"nostr-tools: `signEvent` is deprecated and will be removed or changed in the future. Please use `getSignature` instead.\");\n  return getSignature(event, key);\n}\nfunction getSignature(event, key) {\n  return bytesToHex2(schnorr2.sign(getEventHash(event), key));\n}\n\n// filter.ts\nfunction matchFilter(filter, event) {\n  if (filter.ids && filter.ids.indexOf(event.id) === -1) {\n    if (!filter.ids.some(function (prefix) {\n      return event.id.startsWith(prefix);\n    })) {\n      return false;\n    }\n  }\n  if (filter.kinds && filter.kinds.indexOf(event.kind) === -1) return false;\n  if (filter.authors && filter.authors.indexOf(event.pubkey) === -1) {\n    if (!filter.authors.some(function (prefix) {\n      return event.pubkey.startsWith(prefix);\n    })) {\n      return false;\n    }\n  }\n  var _loop = function _loop(f) {\n    if (f[0] === \"#\") {\n      var tagName = f.slice(1);\n      var values = filter[\"#\".concat(tagName)];\n      if (values && !event.tags.find(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n          t = _ref2[0],\n          v = _ref2[1];\n        return t === f.slice(1) && values.indexOf(v) !== -1;\n      })) return {\n        v: false\n      };\n    }\n  };\n  for (var f in filter) {\n    var _ret = _loop(f);\n    if (typeof _ret === \"object\") return _ret.v;\n  }\n  if (filter.since && event.created_at < filter.since) return false;\n  if (filter.until && event.created_at > filter.until) return false;\n  return true;\n}\nfunction matchFilters(filters, event) {\n  for (var i = 0; i < filters.length; i++) {\n    if (matchFilter(filters[i], event)) return true;\n  }\n  return false;\n}\nfunction mergeFilters() {\n  var result = {};\n  for (var i = 0; i < arguments.length; i++) {\n    var filter = i < 0 || arguments.length <= i ? undefined : arguments[i];\n    Object.entries(filter).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        property = _ref4[0],\n        values = _ref4[1];\n      if (property === \"kinds\" || property === \"ids\" || property === \"authors\" || property[0] === \"#\") {\n        result[property] = result[property] || [];\n        for (var v = 0; v < values.length; v++) {\n          var value = values[v];\n          if (!result[property].includes(value)) result[property].push(value);\n        }\n      }\n    });\n    if (filter.limit && (!result.limit || filter.limit > result.limit)) result.limit = filter.limit;\n    if (filter.until && (!result.until || filter.until > result.until)) result.until = filter.until;\n    if (filter.since && (!result.since || filter.since < result.since)) result.since = filter.since;\n  }\n  return result;\n}\n\n// fakejson.ts\nvar fakejson_exports = {};\n__export(fakejson_exports, {\n  getHex64: function getHex64() {\n    return _getHex;\n  },\n  getInt: function getInt() {\n    return _getInt;\n  },\n  getSubscriptionId: function getSubscriptionId() {\n    return _getSubscriptionId;\n  },\n  matchEventId: function matchEventId() {\n    return _matchEventId;\n  },\n  matchEventKind: function matchEventKind() {\n    return _matchEventKind;\n  },\n  matchEventPubkey: function matchEventPubkey() {\n    return _matchEventPubkey;\n  }\n});\nfunction _getHex(json, field) {\n  var len = field.length + 3;\n  var idx = json.indexOf(\"\\\"\".concat(field, \"\\\":\")) + len;\n  var s = json.slice(idx).indexOf(\"\\\"\") + idx + 1;\n  return json.slice(s, s + 64);\n}\nfunction _getInt(json, field) {\n  var len = field.length;\n  var idx = json.indexOf(\"\\\"\".concat(field, \"\\\":\")) + len + 3;\n  var sliced = json.slice(idx);\n  var end = Math.min(sliced.indexOf(\",\"), sliced.indexOf(\"}\"));\n  return parseInt(sliced.slice(0, end), 10);\n}\nfunction _getSubscriptionId(json) {\n  var idx = json.slice(0, 22).indexOf(\"\\\"EVENT\\\"\");\n  if (idx === -1) return null;\n  var pstart = json.slice(idx + 7 + 1).indexOf(\"\\\"\");\n  if (pstart === -1) return null;\n  var start = idx + 7 + 1 + pstart;\n  var pend = json.slice(start + 1, 80).indexOf(\"\\\"\");\n  if (pend === -1) return null;\n  var end = start + 1 + pend;\n  return json.slice(start + 1, end);\n}\nfunction _matchEventId(json, id) {\n  return id === _getHex(json, \"id\");\n}\nfunction _matchEventPubkey(json, pubkey) {\n  return pubkey === _getHex(json, \"pubkey\");\n}\nfunction _matchEventKind(json, kind) {\n  return kind === _getInt(json, \"kind\");\n}\n\n// relay.ts\nvar newListeners = function newListeners() {\n  return {\n    connect: [],\n    disconnect: [],\n    error: [],\n    notice: [],\n    auth: []\n  };\n};\nfunction relayInit(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$listTimeout = options.listTimeout,\n    listTimeout = _options$listTimeout === void 0 ? 3e3 : _options$listTimeout,\n    _options$getTimeout = options.getTimeout,\n    getTimeout = _options$getTimeout === void 0 ? 3e3 : _options$getTimeout,\n    _options$countTimeout = options.countTimeout,\n    countTimeout = _options$countTimeout === void 0 ? 3e3 : _options$countTimeout;\n  var ws;\n  var openSubs = {};\n  var listeners = newListeners();\n  var subListeners = {};\n  var pubListeners = {};\n  var connectionPromise;\n  function connectRelay() {\n    return _connectRelay.apply(this, arguments);\n  }\n  function _connectRelay() {\n    _connectRelay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!connectionPromise) {\n                _context4.next = 2;\n                break;\n              }\n              return _context4.abrupt(\"return\", connectionPromise);\n            case 2:\n              connectionPromise = new Promise(function (resolve, reject) {\n                try {\n                  ws = new WebSocket(url);\n                } catch (err) {\n                  reject(err);\n                }\n                ws.onopen = function () {\n                  listeners.connect.forEach(function (cb) {\n                    return cb();\n                  });\n                  resolve();\n                };\n                ws.onerror = function () {\n                  connectionPromise = void 0;\n                  listeners.error.forEach(function (cb) {\n                    return cb();\n                  });\n                  reject();\n                };\n                ws.onclose = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          connectionPromise = void 0;\n                          listeners.disconnect.forEach(function (cb) {\n                            return cb();\n                          });\n                        case 2:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                }));\n                var incomingMessageQueue = new _MessageQueue();\n                var handleNextInterval;\n                ws.onmessage = function (e) {\n                  incomingMessageQueue.enqueue(e.data);\n                  if (!handleNextInterval) {\n                    handleNextInterval = setInterval(handleNext, 0);\n                  }\n                };\n                function handleNext() {\n                  if (incomingMessageQueue.size === 0) {\n                    clearInterval(handleNextInterval);\n                    handleNextInterval = null;\n                    return;\n                  }\n                  var json = incomingMessageQueue.dequeue();\n                  if (!json) return;\n                  var subid = _getSubscriptionId(json);\n                  if (subid) {\n                    var so = openSubs[subid];\n                    if (so && so.alreadyHaveEvent && so.alreadyHaveEvent(_getHex(json, \"id\"), url)) {\n                      return;\n                    }\n                  }\n                  try {\n                    var data = JSON.parse(json);\n                    switch (data[0]) {\n                      case \"EVENT\":\n                        {\n                          var id2 = data[1];\n                          var event = data[2];\n                          if (validateEvent(event) && openSubs[id2] && (openSubs[id2].skipVerification || verifySignature(event)) && matchFilters(openSubs[id2].filters, event)) {\n                            var _subListeners$id;\n                            openSubs[id2];\n                            (((_subListeners$id = subListeners[id2]) === null || _subListeners$id === void 0 ? void 0 : _subListeners$id.event) || []).forEach(function (cb) {\n                              return cb(event);\n                            });\n                          }\n                          return;\n                        }\n                      case \"COUNT\":\n                        var id = data[1];\n                        var payload = data[2];\n                        if (openSubs[id]) {\n                          var _subListeners$id2;\n                          ;\n                          (((_subListeners$id2 = subListeners[id]) === null || _subListeners$id2 === void 0 ? void 0 : _subListeners$id2.count) || []).forEach(function (cb) {\n                            return cb(payload);\n                          });\n                        }\n                        return;\n                      case \"EOSE\":\n                        {\n                          var _id = data[1];\n                          if (_id in subListeners) {\n                            subListeners[_id].eose.forEach(function (cb) {\n                              return cb();\n                            });\n                            subListeners[_id].eose = [];\n                          }\n                          return;\n                        }\n                      case \"OK\":\n                        {\n                          var _id2 = data[1];\n                          var ok = data[2];\n                          var reason = data[3] || \"\";\n                          if (_id2 in pubListeners) {\n                            var _pubListeners$_id = pubListeners[_id2],\n                              resolve2 = _pubListeners$_id.resolve,\n                              reject2 = _pubListeners$_id.reject;\n                            if (ok) resolve2(null);else reject2(new Error(reason));\n                          }\n                          return;\n                        }\n                      case \"NOTICE\":\n                        var notice = data[1];\n                        listeners.notice.forEach(function (cb) {\n                          return cb(notice);\n                        });\n                        return;\n                      case \"AUTH\":\n                        {\n                          var _listeners$auth;\n                          var challenge = data[1];\n                          (_listeners$auth = listeners.auth) === null || _listeners$auth === void 0 ? void 0 : _listeners$auth.forEach(function (cb) {\n                            return cb(challenge);\n                          });\n                          return;\n                        }\n                    }\n                  } catch (err) {\n                    return;\n                  }\n                }\n              });\n              return _context4.abrupt(\"return\", connectionPromise);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _connectRelay.apply(this, arguments);\n  }\n  function connected() {\n    var _ws;\n    return ((_ws = ws) === null || _ws === void 0 ? void 0 : _ws.readyState) === 1;\n  }\n  function connect() {\n    return _connect.apply(this, arguments);\n  }\n  function _connect() {\n    _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (!connected()) {\n                _context5.next = 2;\n                break;\n              }\n              return _context5.abrupt(\"return\");\n            case 2:\n              _context5.next = 4;\n              return connectRelay();\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _connect.apply(this, arguments);\n  }\n  function trySend(_x2) {\n    return _trySend.apply(this, arguments);\n  }\n  function _trySend() {\n    _trySend = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(params) {\n      var msg;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              msg = JSON.stringify(params);\n              if (connected()) {\n                _context6.next = 6;\n                break;\n              }\n              _context6.next = 4;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 1e3);\n              });\n            case 4:\n              if (connected()) {\n                _context6.next = 6;\n                break;\n              }\n              return _context6.abrupt(\"return\");\n            case 6:\n              try {\n                ws.send(msg);\n              } catch (err) {\n                console.log(err);\n              }\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _trySend.apply(this, arguments);\n  }\n  var _sub = function _sub(filters) {\n    var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref5$verb = _ref5.verb,\n      verb = _ref5$verb === void 0 ? \"REQ\" : _ref5$verb,\n      _ref5$skipVerificatio = _ref5.skipVerification,\n      skipVerification = _ref5$skipVerificatio === void 0 ? false : _ref5$skipVerificatio,\n      _ref5$alreadyHaveEven = _ref5.alreadyHaveEvent,\n      alreadyHaveEvent = _ref5$alreadyHaveEven === void 0 ? null : _ref5$alreadyHaveEven,\n      _ref5$id = _ref5.id,\n      id = _ref5$id === void 0 ? Math.random().toString().slice(2) : _ref5$id;\n    var subid = id;\n    openSubs[subid] = {\n      id: subid,\n      filters: filters,\n      skipVerification: skipVerification,\n      alreadyHaveEvent: alreadyHaveEvent\n    };\n    trySend([verb, subid].concat(_toConsumableArray(filters)));\n    var subscription = {\n      sub: function sub(newFilters) {\n        var newOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return _sub(newFilters || filters, {\n          skipVerification: newOpts.skipVerification || skipVerification,\n          alreadyHaveEvent: newOpts.alreadyHaveEvent || alreadyHaveEvent,\n          id: subid\n        });\n      },\n      unsub: function unsub() {\n        delete openSubs[subid];\n        delete subListeners[subid];\n        trySend([\"CLOSE\", subid]);\n      },\n      on: function on(type, cb) {\n        subListeners[subid] = subListeners[subid] || {\n          event: [],\n          count: [],\n          eose: []\n        };\n        subListeners[subid][type].push(cb);\n      },\n      off: function off(type, cb) {\n        var listeners2 = subListeners[subid];\n        var idx = listeners2[type].indexOf(cb);\n        if (idx >= 0) listeners2[type].splice(idx, 1);\n      },\n      get events() {\n        return eventsGenerator(subscription);\n      }\n    };\n    return subscription;\n  };\n  function _publishEvent(event, type) {\n    return new Promise(function (resolve, reject) {\n      if (!event.id) {\n        reject(new Error(\"event \".concat(event, \" has no id\")));\n        return;\n      }\n      var id = event.id;\n      trySend([type, event]);\n      pubListeners[id] = {\n        resolve: resolve,\n        reject: reject\n      };\n    });\n  }\n  return {\n    url: url,\n    sub: _sub,\n    on: function on(type, cb) {\n      var _ws2;\n      listeners[type].push(cb);\n      if (type === \"connect\" && ((_ws2 = ws) === null || _ws2 === void 0 ? void 0 : _ws2.readyState) === 1) {\n        ;\n        cb();\n      }\n    },\n    off: function off(type, cb) {\n      var index = listeners[type].indexOf(cb);\n      if (index !== -1) listeners[type].splice(index, 1);\n    },\n    list: function list(filters, opts) {\n      return new Promise(function (resolve) {\n        var s = _sub(filters, opts);\n        var events = [];\n        var timeout = setTimeout(function () {\n          s.unsub();\n          resolve(events);\n        }, listTimeout);\n        s.on(\"eose\", function () {\n          s.unsub();\n          clearTimeout(timeout);\n          resolve(events);\n        });\n        s.on(\"event\", function (event) {\n          events.push(event);\n        });\n      });\n    },\n    get: function get(filter, opts) {\n      return new Promise(function (resolve) {\n        var s = _sub([filter], opts);\n        var timeout = setTimeout(function () {\n          s.unsub();\n          resolve(null);\n        }, getTimeout);\n        s.on(\"event\", function (event) {\n          s.unsub();\n          clearTimeout(timeout);\n          resolve(event);\n        });\n      });\n    },\n    count: function count(filters) {\n      return new Promise(function (resolve) {\n        var s = _sub(filters, _objectSpread(_objectSpread({}, _sub), {}, {\n          verb: \"COUNT\"\n        }));\n        var timeout = setTimeout(function () {\n          s.unsub();\n          resolve(null);\n        }, countTimeout);\n        s.on(\"count\", function (event) {\n          s.unsub();\n          clearTimeout(timeout);\n          resolve(event);\n        });\n      });\n    },\n    publish: function publish(event) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _publishEvent(event, \"EVENT\");\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    auth: function auth(event) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _publishEvent(event, \"AUTH\");\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    connect: connect,\n    close: function close() {\n      var _ws3;\n      listeners = newListeners();\n      subListeners = {};\n      pubListeners = {};\n      if (((_ws3 = ws) === null || _ws3 === void 0 ? void 0 : _ws3.readyState) === WebSocket.OPEN) {\n        ws.close();\n      }\n    },\n    get status() {\n      var _ws$readyState, _ws4;\n      return (_ws$readyState = (_ws4 = ws) === null || _ws4 === void 0 ? void 0 : _ws4.readyState) !== null && _ws$readyState !== void 0 ? _ws$readyState : 3;\n    }\n  };\n}\nfunction eventsGenerator(_x) {\n  return _eventsGenerator.apply(this, arguments);\n} // pool.ts\nfunction _eventsGenerator() {\n  _eventsGenerator = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(sub) {\n    var nextResolve, eventQueue, pushToQueue, event;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            eventQueue = [];\n            pushToQueue = function pushToQueue(event) {\n              if (nextResolve) {\n                nextResolve(event);\n                nextResolve = void 0;\n              } else {\n                eventQueue.push(event);\n              }\n            };\n            sub.on(\"event\", pushToQueue);\n            _context7.prev = 3;\n          case 4:\n            if (!true) {\n              _context7.next = 17;\n              break;\n            }\n            if (!(eventQueue.length > 0)) {\n              _context7.next = 10;\n              break;\n            }\n            _context7.next = 8;\n            return eventQueue.shift();\n          case 8:\n            _context7.next = 15;\n            break;\n          case 10:\n            _context7.next = 12;\n            return _awaitAsyncGenerator(new Promise(function (resolve) {\n              nextResolve = resolve;\n            }));\n          case 12:\n            event = _context7.sent;\n            _context7.next = 15;\n            return event;\n          case 15:\n            _context7.next = 4;\n            break;\n          case 17:\n            _context7.prev = 17;\n            sub.off(\"event\", pushToQueue);\n            return _context7.finish(17);\n          case 20:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[3,, 17, 20]]);\n  }));\n  return _eventsGenerator.apply(this, arguments);\n}\nvar SimplePool = /*#__PURE__*/function () {\n  function SimplePool() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, SimplePool);\n    _defineProperty(this, \"_conn\", void 0);\n    _defineProperty(this, \"_seenOn\", {});\n    _defineProperty(this, \"batchedByKey\", {});\n    _defineProperty(this, \"eoseSubTimeout\", void 0);\n    _defineProperty(this, \"getTimeout\", void 0);\n    _defineProperty(this, \"seenOnEnabled\", true);\n    _defineProperty(this, \"batchInterval\", 100);\n    this._conn = {};\n    this.eoseSubTimeout = options.eoseSubTimeout || 3400;\n    this.getTimeout = options.getTimeout || 3400;\n    this.seenOnEnabled = options.seenOnEnabled !== false;\n    this.batchInterval = options.batchInterval || 100;\n  }\n  _createClass(SimplePool, [{\n    key: \"close\",\n    value: function close(relays) {\n      var _this = this;\n      relays.forEach(function (url) {\n        var relay = _this._conn[_normalizeURL(url)];\n        if (relay) relay.close();\n      });\n    }\n  }, {\n    key: \"ensureRelay\",\n    value: function () {\n      var _ensureRelay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(url) {\n        var nm, relay;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                nm = _normalizeURL(url);\n                if (!this._conn[nm]) {\n                  this._conn[nm] = relayInit(nm, {\n                    getTimeout: this.getTimeout * 0.9,\n                    listTimeout: this.getTimeout * 0.9\n                  });\n                }\n                relay = this._conn[nm];\n                _context8.next = 5;\n                return relay.connect();\n              case 5:\n                return _context8.abrupt(\"return\", relay);\n              case 6:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n      function ensureRelay(_x3) {\n        return _ensureRelay.apply(this, arguments);\n      }\n      return ensureRelay;\n    }()\n  }, {\n    key: \"sub\",\n    value: function sub(relays, filters, opts) {\n      var _this2 = this;\n      var _knownIds = /* @__PURE__ */new Set();\n      var modifiedOpts = _objectSpread({}, opts || {});\n      modifiedOpts.alreadyHaveEvent = function (id, url) {\n        var _opts$alreadyHaveEven;\n        if (opts !== null && opts !== void 0 && (_opts$alreadyHaveEven = opts.alreadyHaveEvent) !== null && _opts$alreadyHaveEven !== void 0 && _opts$alreadyHaveEven.call(opts, id, url)) {\n          return true;\n        }\n        if (_this2.seenOnEnabled) {\n          var set = _this2._seenOn[id] || /* @__PURE__ */new Set();\n          set.add(url);\n          _this2._seenOn[id] = set;\n        }\n        return _knownIds.has(id);\n      };\n      var subs = [];\n      var eventListeners = /* @__PURE__ */new Set();\n      var eoseListeners = /* @__PURE__ */new Set();\n      var eosesMissing = relays.length;\n      var eoseSent = false;\n      var eoseTimeout = setTimeout(function () {\n        eoseSent = true;\n        var _iterator = _createForOfIteratorHelper(eoseListeners.values()),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var cb = _step.value;\n            cb();\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }, (opts === null || opts === void 0 ? void 0 : opts.eoseSubTimeout) || this.eoseSubTimeout);\n      relays.filter(function (r, i, a) {\n        return a.indexOf(r) === i;\n      }).forEach( /*#__PURE__*/function () {\n        var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(relay) {\n          var r, s, handleEose;\n          return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  handleEose = function _handleEose() {\n                    eosesMissing--;\n                    if (eosesMissing === 0) {\n                      clearTimeout(eoseTimeout);\n                      var _iterator3 = _createForOfIteratorHelper(eoseListeners.values()),\n                        _step3;\n                      try {\n                        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                          var cb = _step3.value;\n                          cb();\n                        }\n                      } catch (err) {\n                        _iterator3.e(err);\n                      } finally {\n                        _iterator3.f();\n                      }\n                    }\n                  };\n                  _context9.prev = 1;\n                  _context9.next = 4;\n                  return _this2.ensureRelay(relay);\n                case 4:\n                  r = _context9.sent;\n                  _context9.next = 11;\n                  break;\n                case 7:\n                  _context9.prev = 7;\n                  _context9.t0 = _context9[\"catch\"](1);\n                  handleEose();\n                  return _context9.abrupt(\"return\");\n                case 11:\n                  if (r) {\n                    _context9.next = 13;\n                    break;\n                  }\n                  return _context9.abrupt(\"return\");\n                case 13:\n                  s = r.sub(filters, modifiedOpts);\n                  s.on(\"event\", function (event) {\n                    _knownIds.add(event.id);\n                    var _iterator2 = _createForOfIteratorHelper(eventListeners.values()),\n                      _step2;\n                    try {\n                      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                        var cb = _step2.value;\n                        cb(event);\n                      }\n                    } catch (err) {\n                      _iterator2.e(err);\n                    } finally {\n                      _iterator2.f();\n                    }\n                  });\n                  s.on(\"eose\", function () {\n                    if (eoseSent) return;\n                    handleEose();\n                  });\n                  subs.push(s);\n                case 17:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee9, null, [[1, 7]]);\n        }));\n        return function (_x4) {\n          return _ref7.apply(this, arguments);\n        };\n      }());\n      var greaterSub = {\n        sub: function sub(filters2, opts2) {\n          subs.forEach(function (sub) {\n            return sub.sub(filters2, opts2);\n          });\n          return greaterSub;\n        },\n        unsub: function unsub() {\n          subs.forEach(function (sub) {\n            return sub.unsub();\n          });\n        },\n        on: function on(type, cb) {\n          if (type === \"event\") {\n            eventListeners.add(cb);\n          } else if (type === \"eose\") {\n            eoseListeners.add(cb);\n          }\n        },\n        off: function off(type, cb) {\n          if (type === \"event\") {\n            eventListeners.delete(cb);\n          } else if (type === \"eose\") eoseListeners.delete(cb);\n        },\n        get events() {\n          return eventsGenerator(greaterSub);\n        }\n      };\n      return greaterSub;\n    }\n  }, {\n    key: \"get\",\n    value: function get(relays, filter, opts) {\n      var _this3 = this;\n      return new Promise(function (resolve) {\n        var sub = _this3.sub(relays, [filter], opts);\n        var timeout = setTimeout(function () {\n          sub.unsub();\n          resolve(null);\n        }, _this3.getTimeout);\n        sub.on(\"event\", function (event) {\n          resolve(event);\n          clearTimeout(timeout);\n          sub.unsub();\n        });\n      });\n    }\n  }, {\n    key: \"list\",\n    value: function list(relays, filters, opts) {\n      var _this4 = this;\n      return new Promise(function (resolve) {\n        var events = [];\n        var sub = _this4.sub(relays, filters, opts);\n        sub.on(\"event\", function (event) {\n          events.push(event);\n        });\n        sub.on(\"eose\", function () {\n          sub.unsub();\n          resolve(events);\n        });\n      });\n    }\n  }, {\n    key: \"batchedList\",\n    value: function batchedList(batchKey, relays, filters) {\n      var _this5 = this;\n      return new Promise(function (resolve) {\n        if (!_this5.batchedByKey[batchKey]) {\n          _this5.batchedByKey[batchKey] = [{\n            filters: filters,\n            relays: relays,\n            resolve: resolve,\n            events: []\n          }];\n          setTimeout(function () {\n            Object.keys(_this5.batchedByKey).forEach( /*#__PURE__*/function () {\n              var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(batchKey2) {\n                var batchedRequests, filters2, relays2, sub;\n                return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n                  while (1) {\n                    switch (_context10.prev = _context10.next) {\n                      case 0:\n                        batchedRequests = _this5.batchedByKey[batchKey2];\n                        filters2 = [];\n                        relays2 = [];\n                        batchedRequests.forEach(function (br) {\n                          filters2.push.apply(filters2, _toConsumableArray(br.filters));\n                          relays2.push.apply(relays2, _toConsumableArray(br.relays));\n                        });\n                        sub = _this5.sub(relays2, [mergeFilters.apply(void 0, filters2)]);\n                        sub.on(\"event\", function (event) {\n                          batchedRequests.forEach(function (br) {\n                            return matchFilters(br.filters, event) && br.events.push(event);\n                          });\n                        });\n                        sub.on(\"eose\", function () {\n                          sub.unsub();\n                          batchedRequests.forEach(function (br) {\n                            return br.resolve(br.events);\n                          });\n                        });\n                        delete _this5.batchedByKey[batchKey2];\n                      case 8:\n                      case \"end\":\n                        return _context10.stop();\n                    }\n                  }\n                }, _callee10);\n              }));\n              return function (_x5) {\n                return _ref8.apply(this, arguments);\n              };\n            }());\n          }, _this5.batchInterval);\n        } else {\n          _this5.batchedByKey[batchKey].push({\n            filters: filters,\n            relays: relays,\n            resolve: resolve,\n            events: []\n          });\n        }\n      });\n    }\n  }, {\n    key: \"publish\",\n    value: function publish(relays, event) {\n      var _this6 = this;\n      return relays.map( /*#__PURE__*/function () {\n        var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(relay) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n            while (1) {\n              switch (_context11.prev = _context11.next) {\n                case 0:\n                  _context11.next = 2;\n                  return _this6.ensureRelay(relay);\n                case 2:\n                  r = _context11.sent;\n                  return _context11.abrupt(\"return\", r.publish(event));\n                case 4:\n                case \"end\":\n                  return _context11.stop();\n              }\n            }\n          }, _callee11);\n        }));\n        return function (_x6) {\n          return _ref9.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"seenOn\",\n    value: function seenOn(id) {\n      var _this$_seenOn$id, _this$_seenOn$id$valu;\n      return Array.from(((_this$_seenOn$id = this._seenOn[id]) === null || _this$_seenOn$id === void 0 ? void 0 : (_this$_seenOn$id$valu = _this$_seenOn$id.values) === null || _this$_seenOn$id$valu === void 0 ? void 0 : _this$_seenOn$id$valu.call(_this$_seenOn$id)) || []);\n    }\n  }]);\n  return SimplePool;\n}();\n\n// nip19.ts\nvar nip19_exports = {};\n__export(nip19_exports, {\n  BECH32_REGEX: function BECH32_REGEX() {\n    return _BECH32_REGEX;\n  },\n  decode: function decode() {\n    return _decode;\n  },\n  naddrEncode: function naddrEncode() {\n    return _naddrEncode;\n  },\n  neventEncode: function neventEncode() {\n    return _neventEncode;\n  },\n  noteEncode: function noteEncode() {\n    return _noteEncode;\n  },\n  nprofileEncode: function nprofileEncode() {\n    return _nprofileEncode;\n  },\n  npubEncode: function npubEncode() {\n    return _npubEncode;\n  },\n  nrelayEncode: function nrelayEncode() {\n    return _nrelayEncode;\n  },\n  nsecEncode: function nsecEncode() {\n    return _nsecEncode;\n  }\n});\nimport { bytesToHex as bytesToHex3, concatBytes, hexToBytes } from \"@noble/hashes/utils\";\nimport { bech32 } from \"@scure/base\";\nvar Bech32MaxSize = 5e3;\nvar _BECH32_REGEX = /[\\x21-\\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;\nfunction integerToUint8Array(number) {\n  var uint8Array = new Uint8Array(4);\n  uint8Array[0] = number >> 24 & 255;\n  uint8Array[1] = number >> 16 & 255;\n  uint8Array[2] = number >> 8 & 255;\n  uint8Array[3] = number & 255;\n  return uint8Array;\n}\nfunction _decode(nip19) {\n  var _bech32$decode = bech32.decode(nip19, Bech32MaxSize),\n    prefix = _bech32$decode.prefix,\n    words = _bech32$decode.words;\n  var data = new Uint8Array(bech32.fromWords(words));\n  switch (prefix) {\n    case \"nprofile\":\n      {\n        var _tlv$;\n        var tlv = parseTLV(data);\n        if (!((_tlv$ = tlv[0]) !== null && _tlv$ !== void 0 && _tlv$[0])) throw new Error(\"missing TLV 0 for nprofile\");\n        if (tlv[0][0].length !== 32) throw new Error(\"TLV 0 should be 32 bytes\");\n        return {\n          type: \"nprofile\",\n          data: {\n            pubkey: bytesToHex3(tlv[0][0]),\n            relays: tlv[1] ? tlv[1].map(function (d) {\n              return _utf8Decoder.decode(d);\n            }) : []\n          }\n        };\n      }\n    case \"nevent\":\n      {\n        var _tlv$2, _tlv$3, _tlv$4;\n        var _tlv = parseTLV(data);\n        if (!((_tlv$2 = _tlv[0]) !== null && _tlv$2 !== void 0 && _tlv$2[0])) throw new Error(\"missing TLV 0 for nevent\");\n        if (_tlv[0][0].length !== 32) throw new Error(\"TLV 0 should be 32 bytes\");\n        if (_tlv[2] && _tlv[2][0].length !== 32) throw new Error(\"TLV 2 should be 32 bytes\");\n        if (_tlv[3] && _tlv[3][0].length !== 4) throw new Error(\"TLV 3 should be 4 bytes\");\n        return {\n          type: \"nevent\",\n          data: {\n            id: bytesToHex3(_tlv[0][0]),\n            relays: _tlv[1] ? _tlv[1].map(function (d) {\n              return _utf8Decoder.decode(d);\n            }) : [],\n            author: (_tlv$3 = _tlv[2]) !== null && _tlv$3 !== void 0 && _tlv$3[0] ? bytesToHex3(_tlv[2][0]) : void 0,\n            kind: (_tlv$4 = _tlv[3]) !== null && _tlv$4 !== void 0 && _tlv$4[0] ? parseInt(bytesToHex3(_tlv[3][0]), 16) : void 0\n          }\n        };\n      }\n    case \"naddr\":\n      {\n        var _tlv2$, _tlv2$2, _tlv2$3;\n        var _tlv2 = parseTLV(data);\n        if (!((_tlv2$ = _tlv2[0]) !== null && _tlv2$ !== void 0 && _tlv2$[0])) throw new Error(\"missing TLV 0 for naddr\");\n        if (!((_tlv2$2 = _tlv2[2]) !== null && _tlv2$2 !== void 0 && _tlv2$2[0])) throw new Error(\"missing TLV 2 for naddr\");\n        if (_tlv2[2][0].length !== 32) throw new Error(\"TLV 2 should be 32 bytes\");\n        if (!((_tlv2$3 = _tlv2[3]) !== null && _tlv2$3 !== void 0 && _tlv2$3[0])) throw new Error(\"missing TLV 3 for naddr\");\n        if (_tlv2[3][0].length !== 4) throw new Error(\"TLV 3 should be 4 bytes\");\n        return {\n          type: \"naddr\",\n          data: {\n            identifier: _utf8Decoder.decode(_tlv2[0][0]),\n            pubkey: bytesToHex3(_tlv2[2][0]),\n            kind: parseInt(bytesToHex3(_tlv2[3][0]), 16),\n            relays: _tlv2[1] ? _tlv2[1].map(function (d) {\n              return _utf8Decoder.decode(d);\n            }) : []\n          }\n        };\n      }\n    case \"nrelay\":\n      {\n        var _tlv3$;\n        var _tlv3 = parseTLV(data);\n        if (!((_tlv3$ = _tlv3[0]) !== null && _tlv3$ !== void 0 && _tlv3$[0])) throw new Error(\"missing TLV 0 for nrelay\");\n        return {\n          type: \"nrelay\",\n          data: _utf8Decoder.decode(_tlv3[0][0])\n        };\n      }\n    case \"nsec\":\n    case \"npub\":\n    case \"note\":\n      return {\n        type: prefix,\n        data: bytesToHex3(data)\n      };\n    default:\n      throw new Error(\"unknown prefix \".concat(prefix));\n  }\n}\nfunction parseTLV(data) {\n  var result = {};\n  var rest = data;\n  while (rest.length > 0) {\n    var t = rest[0];\n    var l = rest[1];\n    if (!l) throw new Error(\"malformed TLV \".concat(t));\n    var v = rest.slice(2, 2 + l);\n    rest = rest.slice(2 + l);\n    if (v.length < l) throw new Error(\"not enough data to read on TLV \".concat(t));\n    result[t] = result[t] || [];\n    result[t].push(v);\n  }\n  return result;\n}\nfunction _nsecEncode(hex) {\n  return encodeBytes(\"nsec\", hex);\n}\nfunction _npubEncode(hex) {\n  return encodeBytes(\"npub\", hex);\n}\nfunction _noteEncode(hex) {\n  return encodeBytes(\"note\", hex);\n}\nfunction encodeBech32(prefix, data) {\n  var words = bech32.toWords(data);\n  return bech32.encode(prefix, words, Bech32MaxSize);\n}\nfunction encodeBytes(prefix, hex) {\n  var data = hexToBytes(hex);\n  return encodeBech32(prefix, data);\n}\nfunction _nprofileEncode(profile) {\n  var data = encodeTLV({\n    0: [hexToBytes(profile.pubkey)],\n    1: (profile.relays || []).map(function (url) {\n      return _utf8Encoder.encode(url);\n    })\n  });\n  return encodeBech32(\"nprofile\", data);\n}\nfunction _neventEncode(event) {\n  var kindArray;\n  if (event.kind != void 0) {\n    kindArray = integerToUint8Array(event.kind);\n  }\n  var data = encodeTLV({\n    0: [hexToBytes(event.id)],\n    1: (event.relays || []).map(function (url) {\n      return _utf8Encoder.encode(url);\n    }),\n    2: event.author ? [hexToBytes(event.author)] : [],\n    3: kindArray ? [new Uint8Array(kindArray)] : []\n  });\n  return encodeBech32(\"nevent\", data);\n}\nfunction _naddrEncode(addr) {\n  var kind = new ArrayBuffer(4);\n  new DataView(kind).setUint32(0, addr.kind, false);\n  var data = encodeTLV({\n    0: [_utf8Encoder.encode(addr.identifier)],\n    1: (addr.relays || []).map(function (url) {\n      return _utf8Encoder.encode(url);\n    }),\n    2: [hexToBytes(addr.pubkey)],\n    3: [new Uint8Array(kind)]\n  });\n  return encodeBech32(\"naddr\", data);\n}\nfunction _nrelayEncode(url) {\n  var data = encodeTLV({\n    0: [_utf8Encoder.encode(url)]\n  });\n  return encodeBech32(\"nrelay\", data);\n}\nfunction encodeTLV(tlv) {\n  var entries = [];\n  Object.entries(tlv).forEach(function (_ref10) {\n    var _ref11 = _slicedToArray(_ref10, 2),\n      t = _ref11[0],\n      vs = _ref11[1];\n    vs.forEach(function (v) {\n      var entry = new Uint8Array(v.length + 2);\n      entry.set([parseInt(t)], 0);\n      entry.set([v.length], 1);\n      entry.set(v, 2);\n      entries.push(entry);\n    });\n  });\n  return concatBytes.apply(void 0, entries);\n}\n\n// references.ts\nvar mentionRegex = /\\bnostr:((note|npub|naddr|nevent|nprofile)1\\w+)\\b|#\\[(\\d+)\\]/g;\nfunction parseReferences(evt) {\n  var references = [];\n  var _iterator4 = _createForOfIteratorHelper(evt.content.matchAll(mentionRegex)),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var ref = _step4.value;\n      if (ref[2]) {\n        try {\n          var _decode2 = _decode(ref[1]),\n            type = _decode2.type,\n            data = _decode2.data;\n          switch (type) {\n            case \"npub\":\n              {\n                references.push({\n                  text: ref[0],\n                  profile: {\n                    pubkey: data,\n                    relays: []\n                  }\n                });\n                break;\n              }\n            case \"nprofile\":\n              {\n                references.push({\n                  text: ref[0],\n                  profile: data\n                });\n                break;\n              }\n            case \"note\":\n              {\n                references.push({\n                  text: ref[0],\n                  event: {\n                    id: data,\n                    relays: []\n                  }\n                });\n                break;\n              }\n            case \"nevent\":\n              {\n                references.push({\n                  text: ref[0],\n                  event: data\n                });\n                break;\n              }\n            case \"naddr\":\n              {\n                references.push({\n                  text: ref[0],\n                  address: data\n                });\n                break;\n              }\n          }\n        } catch (err) {}\n      } else if (ref[3]) {\n        var idx = parseInt(ref[3], 10);\n        var tag = evt.tags[idx];\n        if (!tag) continue;\n        switch (tag[0]) {\n          case \"p\":\n            {\n              references.push({\n                text: ref[0],\n                profile: {\n                  pubkey: tag[1],\n                  relays: tag[2] ? [tag[2]] : []\n                }\n              });\n              break;\n            }\n          case \"e\":\n            {\n              references.push({\n                text: ref[0],\n                event: {\n                  id: tag[1],\n                  relays: tag[2] ? [tag[2]] : []\n                }\n              });\n              break;\n            }\n          case \"a\":\n            {\n              try {\n                var _tag$1$split = tag[1].split(\":\"),\n                  _tag$1$split2 = _slicedToArray(_tag$1$split, 3),\n                  kind = _tag$1$split2[0],\n                  pubkey = _tag$1$split2[1],\n                  identifier = _tag$1$split2[2];\n                references.push({\n                  text: ref[0],\n                  address: {\n                    identifier: identifier,\n                    pubkey: pubkey,\n                    kind: parseInt(kind, 10),\n                    relays: tag[2] ? [tag[2]] : []\n                  }\n                });\n              } catch (err) {}\n              break;\n            }\n        }\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  return references;\n}\n\n// nip04.ts\nvar nip04_exports = {};\n__export(nip04_exports, {\n  decrypt: function decrypt() {\n    return _decrypt;\n  },\n  encrypt: function encrypt() {\n    return _encrypt;\n  }\n});\nimport { randomBytes } from \"@noble/hashes/utils\";\nimport { secp256k1 } from \"@noble/curves/secp256k1\";\nimport { base64 } from \"@scure/base\";\nif (typeof crypto !== \"undefined\" && !crypto.subtle && crypto.webcrypto) {\n  crypto.subtle = crypto.webcrypto.subtle;\n}\nfunction _encrypt(_x7, _x8, _x9) {\n  return _encrypt2.apply(this, arguments);\n}\nfunction _encrypt2() {\n  _encrypt2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(privkey, pubkey, text) {\n    var key, normalizedKey, iv, plaintext, cryptoKey, ciphertext, ctb64, ivb64;\n    return _regeneratorRuntime.wrap(function _callee13$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n            normalizedKey = getNormalizedX(key);\n            iv = Uint8Array.from(randomBytes(16));\n            plaintext = _utf8Encoder.encode(text);\n            _context14.next = 6;\n            return crypto.subtle.importKey(\"raw\", normalizedKey, {\n              name: \"AES-CBC\"\n            }, false, [\"encrypt\"]);\n          case 6:\n            cryptoKey = _context14.sent;\n            _context14.next = 9;\n            return crypto.subtle.encrypt({\n              name: \"AES-CBC\",\n              iv: iv\n            }, cryptoKey, plaintext);\n          case 9:\n            ciphertext = _context14.sent;\n            ctb64 = base64.encode(new Uint8Array(ciphertext));\n            ivb64 = base64.encode(new Uint8Array(iv.buffer));\n            return _context14.abrupt(\"return\", \"\".concat(ctb64, \"?iv=\").concat(ivb64));\n          case 13:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee13);\n  }));\n  return _encrypt2.apply(this, arguments);\n}\nfunction _decrypt(_x10, _x11, _x12) {\n  return _decrypt2.apply(this, arguments);\n}\nfunction _decrypt2() {\n  _decrypt2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(privkey, pubkey, data) {\n    var _data$split, _data$split2, ctb64, ivb64, key, normalizedKey, cryptoKey, ciphertext, iv, plaintext, text;\n    return _regeneratorRuntime.wrap(function _callee14$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            _data$split = data.split(\"?iv=\"), _data$split2 = _slicedToArray(_data$split, 2), ctb64 = _data$split2[0], ivb64 = _data$split2[1];\n            key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n            normalizedKey = getNormalizedX(key);\n            _context15.next = 5;\n            return crypto.subtle.importKey(\"raw\", normalizedKey, {\n              name: \"AES-CBC\"\n            }, false, [\"decrypt\"]);\n          case 5:\n            cryptoKey = _context15.sent;\n            ciphertext = base64.decode(ctb64);\n            iv = base64.decode(ivb64);\n            _context15.next = 10;\n            return crypto.subtle.decrypt({\n              name: \"AES-CBC\",\n              iv: iv\n            }, cryptoKey, ciphertext);\n          case 10:\n            plaintext = _context15.sent;\n            text = _utf8Decoder.decode(plaintext);\n            return _context15.abrupt(\"return\", text);\n          case 13:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee14);\n  }));\n  return _decrypt2.apply(this, arguments);\n}\nfunction getNormalizedX(key) {\n  return key.slice(1, 33);\n}\n\n// nip05.ts\nvar nip05_exports = {};\n__export(nip05_exports, {\n  NIP05_REGEX: function NIP05_REGEX() {\n    return _NIP05_REGEX;\n  },\n  queryProfile: function queryProfile() {\n    return _queryProfile;\n  },\n  searchDomain: function searchDomain() {\n    return _searchDomain;\n  },\n  useFetchImplementation: function useFetchImplementation() {\n    return _useFetchImplementation;\n  }\n});\nvar _NIP05_REGEX = /^(?:([\\w.+-]+)@)?([\\w.-]+)$/;\nvar _fetch;\ntry {\n  _fetch = fetch;\n} catch (_unused) {}\nfunction _useFetchImplementation(fetchImplementation) {\n  _fetch = fetchImplementation;\n}\nfunction _searchDomain(_x13) {\n  return _searchDomain2.apply(this, arguments);\n}\nfunction _searchDomain2() {\n  _searchDomain2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(domain) {\n    var query,\n      res,\n      _args16 = arguments;\n    return _regeneratorRuntime.wrap(function _callee15$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            query = _args16.length > 1 && _args16[1] !== undefined ? _args16[1] : \"\";\n            _context16.prev = 1;\n            _context16.next = 4;\n            return _fetch(\"https://\".concat(domain, \"/.well-known/nostr.json?name=\").concat(query));\n          case 4:\n            _context16.next = 6;\n            return _context16.sent.json();\n          case 6:\n            res = _context16.sent;\n            return _context16.abrupt(\"return\", res.names);\n          case 10:\n            _context16.prev = 10;\n            _context16.t0 = _context16[\"catch\"](1);\n            return _context16.abrupt(\"return\", {});\n          case 13:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee15, null, [[1, 10]]);\n  }));\n  return _searchDomain2.apply(this, arguments);\n}\nfunction _queryProfile(_x14) {\n  return _queryProfile2.apply(this, arguments);\n}\nfunction _queryProfile2() {\n  _queryProfile2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(fullname) {\n    var match, _match2, _, _match2$, name, domain, res, _parseNIP05Result, names, relays, pubkey;\n    return _regeneratorRuntime.wrap(function _callee16$(_context17) {\n      while (1) {\n        switch (_context17.prev = _context17.next) {\n          case 0:\n            match = fullname.match(_NIP05_REGEX);\n            if (match) {\n              _context17.next = 3;\n              break;\n            }\n            return _context17.abrupt(\"return\", null);\n          case 3:\n            _match2 = _slicedToArray(match, 3), _ = _match2[0], _match2$ = _match2[1], name = _match2$ === void 0 ? \"_\" : _match2$, domain = _match2[2];\n            _context17.prev = 4;\n            _context17.next = 7;\n            return _fetch(\"https://\".concat(domain, \"/.well-known/nostr.json?name=\").concat(name));\n          case 7:\n            res = _context17.sent;\n            _context17.t0 = parseNIP05Result;\n            _context17.next = 11;\n            return res.json();\n          case 11:\n            _context17.t1 = _context17.sent;\n            _parseNIP05Result = (0, _context17.t0)(_context17.t1);\n            names = _parseNIP05Result.names;\n            relays = _parseNIP05Result.relays;\n            pubkey = names[name];\n            return _context17.abrupt(\"return\", pubkey ? {\n              pubkey: pubkey,\n              relays: relays === null || relays === void 0 ? void 0 : relays[pubkey]\n            } : null);\n          case 19:\n            _context17.prev = 19;\n            _context17.t2 = _context17[\"catch\"](4);\n            return _context17.abrupt(\"return\", null);\n          case 22:\n          case \"end\":\n            return _context17.stop();\n        }\n      }\n    }, _callee16, null, [[4, 19]]);\n  }));\n  return _queryProfile2.apply(this, arguments);\n}\nfunction parseNIP05Result(json) {\n  var result = {\n    names: {}\n  };\n  for (var _i = 0, _Object$entries = Object.entries(json.names); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      name = _Object$entries$_i[0],\n      pubkey = _Object$entries$_i[1];\n    if (typeof name === \"string\" && typeof pubkey === \"string\") {\n      result.names[name] = pubkey;\n    }\n  }\n  if (json.relays) {\n    result.relays = {};\n    for (var _i2 = 0, _Object$entries2 = Object.entries(json.relays); _i2 < _Object$entries2.length; _i2++) {\n      var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),\n        _pubkey = _Object$entries2$_i[0],\n        relays = _Object$entries2$_i[1];\n      if (typeof _pubkey === \"string\" && Array.isArray(relays)) {\n        result.relays[_pubkey] = relays.filter(function (relay) {\n          return typeof relay === \"string\";\n        });\n      }\n    }\n  }\n  return result;\n}\n\n// nip06.ts\nvar nip06_exports = {};\n__export(nip06_exports, {\n  generateSeedWords: function generateSeedWords() {\n    return _generateSeedWords;\n  },\n  privateKeyFromSeedWords: function privateKeyFromSeedWords() {\n    return _privateKeyFromSeedWords;\n  },\n  validateWords: function validateWords() {\n    return _validateWords;\n  }\n});\nimport { bytesToHex as bytesToHex4 } from \"@noble/hashes/utils\";\nimport { wordlist } from \"@scure/bip39/wordlists/english\";\nimport { generateMnemonic, mnemonicToSeedSync, validateMnemonic } from \"@scure/bip39\";\nimport { HDKey } from \"@scure/bip32\";\nfunction _privateKeyFromSeedWords(mnemonic, passphrase) {\n  var root = HDKey.fromMasterSeed(mnemonicToSeedSync(mnemonic, passphrase));\n  var privateKey = root.derive(\"m/44'/1237'/0'/0/0\").privateKey;\n  if (!privateKey) throw new Error(\"could not derive private key\");\n  return bytesToHex4(privateKey);\n}\nfunction _generateSeedWords() {\n  return generateMnemonic(wordlist);\n}\nfunction _validateWords(words) {\n  return validateMnemonic(words, wordlist);\n}\n\n// nip10.ts\nvar nip10_exports = {};\n__export(nip10_exports, {\n  parse: function parse() {\n    return _parse;\n  }\n});\nfunction _parse(event) {\n  var result = {\n    reply: void 0,\n    root: void 0,\n    mentions: [],\n    profiles: []\n  };\n  var eTags = [];\n  var _iterator5 = _createForOfIteratorHelper(event.tags),\n    _step5;\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var tag = _step5.value;\n      if (tag[0] === \"e\" && tag[1]) {\n        eTags.push(tag);\n      }\n      if (tag[0] === \"p\" && tag[1]) {\n        result.profiles.push({\n          pubkey: tag[1],\n          relays: tag[2] ? [tag[2]] : []\n        });\n      }\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  for (var eTagIndex = 0; eTagIndex < eTags.length; eTagIndex++) {\n    var eTag = eTags[eTagIndex];\n    var _eTag = _slicedToArray(eTag, 4),\n      _ = _eTag[0],\n      eTagEventId = _eTag[1],\n      eTagRelayUrl = _eTag[2],\n      eTagMarker = _eTag[3];\n    var eventPointer = {\n      id: eTagEventId,\n      relays: eTagRelayUrl ? [eTagRelayUrl] : []\n    };\n    var isFirstETag = eTagIndex === 0;\n    var isLastETag = eTagIndex === eTags.length - 1;\n    if (eTagMarker === \"root\") {\n      result.root = eventPointer;\n      continue;\n    }\n    if (eTagMarker === \"reply\") {\n      result.reply = eventPointer;\n      continue;\n    }\n    if (eTagMarker === \"mention\") {\n      result.mentions.push(eventPointer);\n      continue;\n    }\n    if (isFirstETag) {\n      result.root = eventPointer;\n      continue;\n    }\n    if (isLastETag) {\n      result.reply = eventPointer;\n      continue;\n    }\n    result.mentions.push(eventPointer);\n  }\n  return result;\n}\n\n// nip13.ts\nvar nip13_exports = {};\n__export(nip13_exports, {\n  getPow: function getPow() {\n    return _getPow;\n  },\n  minePow: function minePow() {\n    return _minePow;\n  }\n});\nfunction _getPow(hex) {\n  var count = 0;\n  for (var i = 0; i < hex.length; i++) {\n    var nibble = parseInt(hex[i], 16);\n    if (nibble === 0) {\n      count += 4;\n    } else {\n      count += Math.clz32(nibble) - 28;\n      break;\n    }\n  }\n  return count;\n}\nfunction _minePow(unsigned, difficulty) {\n  var count = 0;\n  var event = unsigned;\n  var tag = [\"nonce\", count.toString(), difficulty.toString()];\n  event.tags.push(tag);\n  while (true) {\n    var now = Math.floor(new Date().getTime() / 1e3);\n    if (now !== event.created_at) {\n      count = 0;\n      event.created_at = now;\n    }\n    tag[1] = (++count).toString();\n    event.id = getEventHash(event);\n    if (_getPow(event.id) >= difficulty) {\n      break;\n    }\n  }\n  return event;\n}\n\n// nip18.ts\nvar nip18_exports = {};\n__export(nip18_exports, {\n  finishRepostEvent: function finishRepostEvent() {\n    return _finishRepostEvent;\n  },\n  getRepostedEvent: function getRepostedEvent() {\n    return _getRepostedEvent;\n  },\n  getRepostedEventPointer: function getRepostedEventPointer() {\n    return _getRepostedEventPointer;\n  }\n});\nfunction _finishRepostEvent(t, reposted, relayUrl, privateKey) {\n  var _t$tags;\n  return finishEvent({\n    kind: 6 /* Repost */,\n    tags: [].concat(_toConsumableArray((_t$tags = t.tags) !== null && _t$tags !== void 0 ? _t$tags : []), [[\"e\", reposted.id, relayUrl], [\"p\", reposted.pubkey]]),\n    content: t.content === \"\" ? \"\" : JSON.stringify(reposted),\n    created_at: t.created_at\n  }, privateKey);\n}\nfunction _getRepostedEventPointer(event) {\n  var _lastPTag, _lastPTag2;\n  if (event.kind !== 6 /* Repost */) {\n    return void 0;\n  }\n  var lastETag;\n  var lastPTag;\n  for (var i = event.tags.length - 1; i >= 0 && (lastETag === void 0 || lastPTag === void 0); i--) {\n    var tag = event.tags[i];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], (_lastPTag = lastPTag) === null || _lastPTag === void 0 ? void 0 : _lastPTag[2]].filter(function (x) {\n      return typeof x === \"string\";\n    }),\n    author: (_lastPTag2 = lastPTag) === null || _lastPTag2 === void 0 ? void 0 : _lastPTag2[1]\n  };\n}\nfunction _getRepostedEvent(event) {\n  var _ref12 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    skipVerification = _ref12.skipVerification;\n  var pointer = _getRepostedEventPointer(event);\n  if (pointer === void 0 || event.content === \"\") {\n    return void 0;\n  }\n  var repostedEvent;\n  try {\n    repostedEvent = JSON.parse(event.content);\n  } catch (error) {\n    return void 0;\n  }\n  if (repostedEvent.id !== pointer.id) {\n    return void 0;\n  }\n  if (!skipVerification && !verifySignature(repostedEvent)) {\n    return void 0;\n  }\n  return repostedEvent;\n}\n\n// nip21.ts\nvar nip21_exports = {};\n__export(nip21_exports, {\n  NOSTR_URI_REGEX: function NOSTR_URI_REGEX() {\n    return _NOSTR_URI_REGEX;\n  },\n  parse: function parse() {\n    return parse2;\n  },\n  test: function test() {\n    return _test;\n  }\n});\nvar _NOSTR_URI_REGEX = new RegExp(\"nostr:(\".concat(_BECH32_REGEX.source, \")\"));\nfunction _test(value) {\n  return typeof value === \"string\" && new RegExp(\"^\".concat(_NOSTR_URI_REGEX.source, \"$\")).test(value);\n}\nfunction parse2(uri) {\n  var match = uri.match(new RegExp(\"^\".concat(_NOSTR_URI_REGEX.source, \"$\")));\n  if (!match) throw new Error(\"Invalid Nostr URI: \".concat(uri));\n  return {\n    uri: match[0],\n    value: match[1],\n    decoded: _decode(match[1])\n  };\n}\n\n// nip25.ts\nvar nip25_exports = {};\n__export(nip25_exports, {\n  finishReactionEvent: function finishReactionEvent() {\n    return _finishReactionEvent;\n  },\n  getReactedEventPointer: function getReactedEventPointer() {\n    return _getReactedEventPointer;\n  }\n});\nfunction _finishReactionEvent(t, reacted, privateKey) {\n  var _t$tags2, _t$content;\n  var inheritedTags = reacted.tags.filter(function (tag) {\n    return tag.length >= 2 && (tag[0] === \"e\" || tag[0] === \"p\");\n  });\n  return finishEvent(_objectSpread(_objectSpread({}, t), {}, {\n    kind: 7 /* Reaction */,\n    tags: [].concat(_toConsumableArray((_t$tags2 = t.tags) !== null && _t$tags2 !== void 0 ? _t$tags2 : []), _toConsumableArray(inheritedTags), [[\"e\", reacted.id], [\"p\", reacted.pubkey]]),\n    content: (_t$content = t.content) !== null && _t$content !== void 0 ? _t$content : \"+\"\n  }), privateKey);\n}\nfunction _getReactedEventPointer(event) {\n  if (event.kind !== 7 /* Reaction */) {\n    return void 0;\n  }\n  var lastETag;\n  var lastPTag;\n  for (var i = event.tags.length - 1; i >= 0 && (lastETag === void 0 || lastPTag === void 0); i--) {\n    var tag = event.tags[i];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0 || lastPTag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], lastPTag[2]].filter(function (x) {\n      return x !== void 0;\n    }),\n    author: lastPTag[1]\n  };\n}\n\n// nip26.ts\nvar nip26_exports = {};\n__export(nip26_exports, {\n  createDelegation: function createDelegation() {\n    return _createDelegation;\n  },\n  getDelegator: function getDelegator() {\n    return _getDelegator;\n  }\n});\nimport { schnorr as schnorr3 } from \"@noble/curves/secp256k1\";\nimport { bytesToHex as bytesToHex5 } from \"@noble/hashes/utils\";\nimport { sha256 as sha2562 } from \"@noble/hashes/sha256\";\nfunction _createDelegation(privateKey, parameters) {\n  var conditions = [];\n  if ((parameters.kind || -1) >= 0) conditions.push(\"kind=\".concat(parameters.kind));\n  if (parameters.until) conditions.push(\"created_at<\".concat(parameters.until));\n  if (parameters.since) conditions.push(\"created_at>\".concat(parameters.since));\n  var cond = conditions.join(\"&\");\n  if (cond === \"\") throw new Error(\"refusing to create a delegation without any conditions\");\n  var sighash = sha2562(_utf8Encoder.encode(\"nostr:delegation:\".concat(parameters.pubkey, \":\").concat(cond)));\n  var sig = bytesToHex5(schnorr3.sign(sighash, privateKey));\n  return {\n    from: getPublicKey(privateKey),\n    to: parameters.pubkey,\n    cond: cond,\n    sig: sig\n  };\n}\nfunction _getDelegator(event) {\n  var tag = event.tags.find(function (tag2) {\n    return tag2[0] === \"delegation\" && tag2.length >= 4;\n  });\n  if (!tag) return null;\n  var pubkey = tag[1];\n  var cond = tag[2];\n  var sig = tag[3];\n  var conditions = cond.split(\"&\");\n  for (var i = 0; i < conditions.length; i++) {\n    var _conditions$i$split = conditions[i].split(/\\b/),\n      _conditions$i$split2 = _slicedToArray(_conditions$i$split, 3),\n      key = _conditions$i$split2[0],\n      operator = _conditions$i$split2[1],\n      value = _conditions$i$split2[2];\n    if (key === \"kind\" && operator === \"=\" && event.kind === parseInt(value)) continue;else if (key === \"created_at\" && operator === \"<\" && event.created_at < parseInt(value)) continue;else if (key === \"created_at\" && operator === \">\" && event.created_at > parseInt(value)) continue;else return null;\n  }\n  var sighash = sha2562(_utf8Encoder.encode(\"nostr:delegation:\".concat(event.pubkey, \":\").concat(cond)));\n  if (!schnorr3.verify(sig, sighash, pubkey)) return null;\n  return pubkey;\n}\n\n// nip27.ts\nvar nip27_exports = {};\n__export(nip27_exports, {\n  matchAll: function matchAll() {\n    return _matchAll;\n  },\n  regex: function regex() {\n    return _regex;\n  },\n  replaceAll: function replaceAll() {\n    return _replaceAll;\n  }\n});\nvar _regex = function _regex() {\n  return new RegExp(\"\\\\b\".concat(_NOSTR_URI_REGEX.source, \"\\\\b\"), \"g\");\n};\nfunction _matchAll(content) {\n  var matches, _iterator6, _step6, match, _match, uri, value;\n  return _regeneratorRuntime.wrap(function _matchAll$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          matches = content.matchAll(_regex());\n          _iterator6 = _createForOfIteratorHelper(matches);\n          _context12.prev = 2;\n          _iterator6.s();\n        case 4:\n          if ((_step6 = _iterator6.n()).done) {\n            _context12.next = 16;\n            break;\n          }\n          match = _step6.value;\n          _context12.prev = 6;\n          _match = _slicedToArray(match, 2), uri = _match[0], value = _match[1];\n          _context12.next = 10;\n          return {\n            uri: uri,\n            value: value,\n            decoded: _decode(value),\n            start: match.index,\n            end: match.index + uri.length\n          };\n        case 10:\n          _context12.next = 14;\n          break;\n        case 12:\n          _context12.prev = 12;\n          _context12.t0 = _context12[\"catch\"](6);\n        case 14:\n          _context12.next = 4;\n          break;\n        case 16:\n          _context12.next = 21;\n          break;\n        case 18:\n          _context12.prev = 18;\n          _context12.t1 = _context12[\"catch\"](2);\n          _iterator6.e(_context12.t1);\n        case 21:\n          _context12.prev = 21;\n          _iterator6.f();\n          return _context12.finish(21);\n        case 24:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked, null, [[2, 18, 21, 24], [6, 12]]);\n}\nfunction _replaceAll(content, replacer) {\n  return content.replaceAll(_regex(), function (uri, value) {\n    return replacer({\n      uri: uri,\n      value: value,\n      decoded: _decode(value)\n    });\n  });\n}\n\n// nip28.ts\nvar nip28_exports = {};\n__export(nip28_exports, {\n  channelCreateEvent: function channelCreateEvent() {\n    return _channelCreateEvent;\n  },\n  channelHideMessageEvent: function channelHideMessageEvent() {\n    return _channelHideMessageEvent;\n  },\n  channelMessageEvent: function channelMessageEvent() {\n    return _channelMessageEvent;\n  },\n  channelMetadataEvent: function channelMetadataEvent() {\n    return _channelMetadataEvent;\n  },\n  channelMuteUserEvent: function channelMuteUserEvent() {\n    return _channelMuteUserEvent;\n  }\n});\nvar _channelCreateEvent = function _channelCreateEvent(t, privateKey) {\n  var _t$tags3;\n  var content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finishEvent({\n    kind: 40 /* ChannelCreation */,\n    tags: _toConsumableArray((_t$tags3 = t.tags) !== null && _t$tags3 !== void 0 ? _t$tags3 : []),\n    content: content,\n    created_at: t.created_at\n  }, privateKey);\n};\nvar _channelMetadataEvent = function _channelMetadataEvent(t, privateKey) {\n  var _t$tags4;\n  var content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finishEvent({\n    kind: 41 /* ChannelMetadata */,\n    tags: [[\"e\", t.channel_create_event_id]].concat(_toConsumableArray((_t$tags4 = t.tags) !== null && _t$tags4 !== void 0 ? _t$tags4 : [])),\n    content: content,\n    created_at: t.created_at\n  }, privateKey);\n};\nvar _channelMessageEvent = function _channelMessageEvent(t, privateKey) {\n  var _t$tags5;\n  var tags = [[\"e\", t.channel_create_event_id, t.relay_url, \"root\"]];\n  if (t.reply_to_channel_message_event_id) {\n    tags.push([\"e\", t.reply_to_channel_message_event_id, t.relay_url, \"reply\"]);\n  }\n  return finishEvent({\n    kind: 42 /* ChannelMessage */,\n    tags: [].concat(tags, _toConsumableArray((_t$tags5 = t.tags) !== null && _t$tags5 !== void 0 ? _t$tags5 : [])),\n    content: t.content,\n    created_at: t.created_at\n  }, privateKey);\n};\nvar _channelHideMessageEvent = function _channelHideMessageEvent(t, privateKey) {\n  var _t$tags6;\n  var content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finishEvent({\n    kind: 43 /* ChannelHideMessage */,\n    tags: [[\"e\", t.channel_message_event_id]].concat(_toConsumableArray((_t$tags6 = t.tags) !== null && _t$tags6 !== void 0 ? _t$tags6 : [])),\n    content: content,\n    created_at: t.created_at\n  }, privateKey);\n};\nvar _channelMuteUserEvent = function _channelMuteUserEvent(t, privateKey) {\n  var _t$tags7;\n  var content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finishEvent({\n    kind: 44 /* ChannelMuteUser */,\n    tags: [[\"p\", t.pubkey_to_mute]].concat(_toConsumableArray((_t$tags7 = t.tags) !== null && _t$tags7 !== void 0 ? _t$tags7 : [])),\n    content: content,\n    created_at: t.created_at\n  }, privateKey);\n};\n\n// nip39.ts\nvar nip39_exports = {};\n__export(nip39_exports, {\n  useFetchImplementation: function useFetchImplementation() {\n    return useFetchImplementation2;\n  },\n  validateGithub: function validateGithub() {\n    return _validateGithub;\n  }\n});\nvar _fetch2;\ntry {\n  _fetch2 = fetch;\n} catch (_unused2) {}\nfunction useFetchImplementation2(fetchImplementation) {\n  _fetch2 = fetchImplementation;\n}\nfunction _validateGithub(_x15, _x16, _x17) {\n  return _validateGithub2.apply(this, arguments);\n} // nip42.ts\nfunction _validateGithub2() {\n  _validateGithub2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(pubkey, username, proof) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee17$(_context18) {\n      while (1) {\n        switch (_context18.prev = _context18.next) {\n          case 0:\n            _context18.prev = 0;\n            _context18.next = 3;\n            return _fetch2(\"https://gist.github.com/\".concat(username, \"/\").concat(proof, \"/raw\"));\n          case 3:\n            _context18.next = 5;\n            return _context18.sent.text();\n          case 5:\n            res = _context18.sent;\n            return _context18.abrupt(\"return\", res === \"Verifying that I control the following Nostr public key: \".concat(pubkey));\n          case 9:\n            _context18.prev = 9;\n            _context18.t0 = _context18[\"catch\"](0);\n            return _context18.abrupt(\"return\", false);\n          case 12:\n          case \"end\":\n            return _context18.stop();\n        }\n      }\n    }, _callee17, null, [[0, 9]]);\n  }));\n  return _validateGithub2.apply(this, arguments);\n}\nvar nip42_exports = {};\n__export(nip42_exports, {\n  authenticate: function authenticate() {\n    return _authenticate;\n  }\n});\nvar _authenticate = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(_ref13) {\n    var challenge, relay, sign, e;\n    return _regeneratorRuntime.wrap(function _callee12$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            challenge = _ref13.challenge, relay = _ref13.relay, sign = _ref13.sign;\n            e = {\n              kind: 22242 /* ClientAuth */,\n              created_at: Math.floor(Date.now() / 1e3),\n              tags: [[\"relay\", relay.url], [\"challenge\", challenge]],\n              content: \"\"\n            };\n            _context13.t0 = relay;\n            _context13.next = 5;\n            return sign(e);\n          case 5:\n            _context13.t1 = _context13.sent;\n            return _context13.abrupt(\"return\", _context13.t0.auth.call(_context13.t0, _context13.t1));\n          case 7:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee12);\n  }));\n  return function _authenticate(_x18) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\n// nip44.ts\nvar nip44_exports = {};\n__export(nip44_exports, {\n  decrypt: function decrypt() {\n    return decrypt2;\n  },\n  encrypt: function encrypt() {\n    return encrypt2;\n  },\n  utils: function utils() {\n    return _utils;\n  }\n});\nimport { chacha20 } from \"@noble/ciphers/chacha\";\nimport { ensureBytes, equalBytes } from \"@noble/ciphers/utils\";\nimport { secp256k1 as secp256k12 } from \"@noble/curves/secp256k1\";\nimport { hkdf } from \"@noble/hashes/hkdf\";\nimport { hmac } from \"@noble/hashes/hmac\";\nimport { sha256 as sha2563 } from \"@noble/hashes/sha256\";\nimport { concatBytes as concatBytes2, randomBytes as randomBytes2 } from \"@noble/hashes/utils\";\nimport { base64 as base642 } from \"@scure/base\";\nvar _utils = {\n  v2: {\n    maxPlaintextSize: 65536 - 128,\n    minCiphertextSize: 100,\n    maxCiphertextSize: 102400,\n    getConversationKey: function getConversationKey(privkeyA, pubkeyB) {\n      var key = secp256k12.getSharedSecret(privkeyA, \"02\" + pubkeyB);\n      return key.subarray(1, 33);\n    },\n    getMessageKeys: function getMessageKeys(conversationKey, salt) {\n      var keys = hkdf(sha2563, conversationKey, salt, \"nip44-v2\", 76);\n      return {\n        encryption: keys.subarray(0, 32),\n        nonce: keys.subarray(32, 44),\n        auth: keys.subarray(44, 76)\n      };\n    },\n    calcPadding: function calcPadding(len) {\n      if (!Number.isSafeInteger(len) || len < 0) throw new Error(\"expected positive integer\");\n      if (len <= 32) return 32;\n      var nextpower = 1 << Math.floor(Math.log2(len - 1)) + 1;\n      var chunk = nextpower <= 256 ? 32 : nextpower / 8;\n      return chunk * (Math.floor((len - 1) / chunk) + 1);\n    },\n    pad: function pad(unpadded) {\n      var unpaddedB = _utf8Encoder.encode(unpadded);\n      var len = unpaddedB.length;\n      if (len < 1 || len >= _utils.v2.maxPlaintextSize) throw new Error(\"invalid plaintext length: must be between 1b and 64KB\");\n      var paddedLen = _utils.v2.calcPadding(len);\n      var zeros = new Uint8Array(paddedLen - len);\n      var lenBuf = new Uint8Array(2);\n      new DataView(lenBuf.buffer).setUint16(0, len);\n      return concatBytes2(lenBuf, unpaddedB, zeros);\n    },\n    unpad: function unpad(padded) {\n      var unpaddedLen = new DataView(padded.buffer).getUint16(0);\n      var unpadded = padded.subarray(2, 2 + unpaddedLen);\n      if (unpaddedLen === 0 || unpadded.length !== unpaddedLen || padded.length !== 2 + _utils.v2.calcPadding(unpaddedLen)) throw new Error(\"invalid padding\");\n      return _utf8Decoder.decode(unpadded);\n    }\n  }\n};\nfunction encrypt2(key, plaintext) {\n  var _options$version, _options$salt;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var version = (_options$version = options.version) !== null && _options$version !== void 0 ? _options$version : 2;\n  if (version !== 2) throw new Error(\"unknown encryption version \" + version);\n  var salt = (_options$salt = options.salt) !== null && _options$salt !== void 0 ? _options$salt : randomBytes2(32);\n  ensureBytes(salt, 32);\n  var keys = _utils.v2.getMessageKeys(key, salt);\n  var padded = _utils.v2.pad(plaintext);\n  var ciphertext = chacha20(keys.encryption, keys.nonce, padded);\n  var mac = hmac(sha2563, keys.auth, ciphertext);\n  return base642.encode(concatBytes2(new Uint8Array([version]), salt, ciphertext, mac));\n}\nfunction decrypt2(key, ciphertext) {\n  var u = _utils.v2;\n  ensureBytes(key, 32);\n  var clen = ciphertext.length;\n  if (clen < u.minCiphertextSize || clen >= u.maxCiphertextSize) throw new Error(\"invalid ciphertext length: \" + clen);\n  if (ciphertext[0] === \"#\") throw new Error(\"unknown encryption version\");\n  var data;\n  try {\n    data = base642.decode(ciphertext);\n  } catch (error) {\n    throw new Error(\"invalid base64: \" + error.message);\n  }\n  var vers = data.subarray(0, 1)[0];\n  if (vers !== 2) throw new Error(\"unknown encryption version \" + vers);\n  var salt = data.subarray(1, 33);\n  var ciphertext_ = data.subarray(33, -32);\n  var mac = data.subarray(-32);\n  var keys = u.getMessageKeys(key, salt);\n  var calculatedMac = hmac(sha2563, keys.auth, ciphertext_);\n  if (!equalBytes(calculatedMac, mac)) throw new Error(\"invalid MAC\");\n  var padded = chacha20(keys.encryption, keys.nonce, ciphertext_);\n  return u.unpad(padded);\n}\n\n// nip47.ts\nvar nip47_exports = {};\n__export(nip47_exports, {\n  makeNwcRequestEvent: function makeNwcRequestEvent() {\n    return _makeNwcRequestEvent;\n  },\n  parseConnectionString: function parseConnectionString() {\n    return _parseConnectionString;\n  }\n});\nfunction _parseConnectionString(connectionString) {\n  var _URL = new URL(connectionString),\n    pathname = _URL.pathname,\n    searchParams = _URL.searchParams;\n  var pubkey = pathname;\n  var relay = searchParams.get(\"relay\");\n  var secret = searchParams.get(\"secret\");\n  if (!pubkey || !relay || !secret) {\n    throw new Error(\"invalid connection string\");\n  }\n  return {\n    pubkey: pubkey,\n    relay: relay,\n    secret: secret\n  };\n}\nfunction _makeNwcRequestEvent(_x19) {\n  return _makeNwcRequestEvent2.apply(this, arguments);\n} // nip57.ts\nfunction _makeNwcRequestEvent2() {\n  _makeNwcRequestEvent2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(_ref15) {\n    var pubkey, secret, invoice, content, encryptedContent, eventTemplate;\n    return _regeneratorRuntime.wrap(function _callee18$(_context19) {\n      while (1) {\n        switch (_context19.prev = _context19.next) {\n          case 0:\n            pubkey = _ref15.pubkey, secret = _ref15.secret, invoice = _ref15.invoice;\n            content = {\n              method: \"pay_invoice\",\n              params: {\n                invoice: invoice\n              }\n            };\n            _context19.next = 4;\n            return _encrypt(secret, pubkey, JSON.stringify(content));\n          case 4:\n            encryptedContent = _context19.sent;\n            eventTemplate = {\n              kind: 23194 /* NwcRequest */,\n              created_at: Math.round(Date.now() / 1e3),\n              content: encryptedContent,\n              tags: [[\"p\", pubkey]]\n            };\n            return _context19.abrupt(\"return\", finishEvent(eventTemplate, secret));\n          case 7:\n          case \"end\":\n            return _context19.stop();\n        }\n      }\n    }, _callee18);\n  }));\n  return _makeNwcRequestEvent2.apply(this, arguments);\n}\nvar nip57_exports = {};\n__export(nip57_exports, {\n  getZapEndpoint: function getZapEndpoint() {\n    return _getZapEndpoint;\n  },\n  makeZapReceipt: function makeZapReceipt() {\n    return _makeZapReceipt;\n  },\n  makeZapRequest: function makeZapRequest() {\n    return _makeZapRequest;\n  },\n  useFetchImplementation: function useFetchImplementation() {\n    return useFetchImplementation3;\n  },\n  validateZapRequest: function validateZapRequest() {\n    return _validateZapRequest;\n  }\n});\nimport { bech32 as bech322 } from \"@scure/base\";\nvar _fetch3;\ntry {\n  _fetch3 = fetch;\n} catch (_unused3) {}\nfunction useFetchImplementation3(fetchImplementation) {\n  _fetch3 = fetchImplementation;\n}\nfunction _getZapEndpoint(_x20) {\n  return _getZapEndpoint2.apply(this, arguments);\n}\nfunction _getZapEndpoint2() {\n  _getZapEndpoint2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(metadata) {\n    var lnurl, _JSON$parse, lud06, lud16, _bech322$decode, words, data, _lud16$split, _lud16$split2, name, domain, res, body;\n    return _regeneratorRuntime.wrap(function _callee19$(_context20) {\n      while (1) {\n        switch (_context20.prev = _context20.next) {\n          case 0:\n            _context20.prev = 0;\n            lnurl = \"\";\n            _JSON$parse = JSON.parse(metadata.content), lud06 = _JSON$parse.lud06, lud16 = _JSON$parse.lud16;\n            if (!lud06) {\n              _context20.next = 9;\n              break;\n            }\n            _bech322$decode = bech322.decode(lud06, 1e3), words = _bech322$decode.words;\n            data = bech322.fromWords(words);\n            lnurl = _utf8Decoder.decode(data);\n            _context20.next = 15;\n            break;\n          case 9:\n            if (!lud16) {\n              _context20.next = 14;\n              break;\n            }\n            _lud16$split = lud16.split(\"@\"), _lud16$split2 = _slicedToArray(_lud16$split, 2), name = _lud16$split2[0], domain = _lud16$split2[1];\n            lnurl = \"https://\".concat(domain, \"/.well-known/lnurlp/\").concat(name);\n            _context20.next = 15;\n            break;\n          case 14:\n            return _context20.abrupt(\"return\", null);\n          case 15:\n            _context20.next = 17;\n            return _fetch3(lnurl);\n          case 17:\n            res = _context20.sent;\n            _context20.next = 20;\n            return res.json();\n          case 20:\n            body = _context20.sent;\n            if (!(body.allowsNostr && body.nostrPubkey)) {\n              _context20.next = 23;\n              break;\n            }\n            return _context20.abrupt(\"return\", body.callback);\n          case 23:\n            _context20.next = 27;\n            break;\n          case 25:\n            _context20.prev = 25;\n            _context20.t0 = _context20[\"catch\"](0);\n          case 27:\n            return _context20.abrupt(\"return\", null);\n          case 28:\n          case \"end\":\n            return _context20.stop();\n        }\n      }\n    }, _callee19, null, [[0, 25]]);\n  }));\n  return _getZapEndpoint2.apply(this, arguments);\n}\nfunction _makeZapRequest(_ref16) {\n  var profile = _ref16.profile,\n    event = _ref16.event,\n    amount = _ref16.amount,\n    relays = _ref16.relays,\n    _ref16$comment = _ref16.comment,\n    comment = _ref16$comment === void 0 ? \"\" : _ref16$comment;\n  if (!amount) throw new Error(\"amount not given\");\n  if (!profile) throw new Error(\"profile not given\");\n  var zr = {\n    kind: 9734,\n    created_at: Math.round(Date.now() / 1e3),\n    content: comment,\n    tags: [[\"p\", profile], [\"amount\", amount.toString()], [\"relays\"].concat(_toConsumableArray(relays))]\n  };\n  if (event) {\n    zr.tags.push([\"e\", event]);\n  }\n  return zr;\n}\nfunction _validateZapRequest(zapRequestString) {\n  var zapRequest;\n  try {\n    zapRequest = JSON.parse(zapRequestString);\n  } catch (err) {\n    return \"Invalid zap request JSON.\";\n  }\n  if (!validateEvent(zapRequest)) return \"Zap request is not a valid Nostr event.\";\n  if (!verifySignature(zapRequest)) return \"Invalid signature on zap request.\";\n  var p = zapRequest.tags.find(function (_ref17) {\n    var _ref18 = _slicedToArray(_ref17, 2),\n      t = _ref18[0],\n      v = _ref18[1];\n    return t === \"p\" && v;\n  });\n  if (!p) return \"Zap request doesn't have a 'p' tag.\";\n  if (!p[1].match(/^[a-f0-9]{64}$/)) return \"Zap request 'p' tag is not valid hex.\";\n  var e = zapRequest.tags.find(function (_ref19) {\n    var _ref20 = _slicedToArray(_ref19, 2),\n      t = _ref20[0],\n      v = _ref20[1];\n    return t === \"e\" && v;\n  });\n  if (e && !e[1].match(/^[a-f0-9]{64}$/)) return \"Zap request 'e' tag is not valid hex.\";\n  var relays = zapRequest.tags.find(function (_ref21) {\n    var _ref22 = _slicedToArray(_ref21, 2),\n      t = _ref22[0],\n      v = _ref22[1];\n    return t === \"relays\" && v;\n  });\n  if (!relays) return \"Zap request doesn't have a 'relays' tag.\";\n  return null;\n}\nfunction _makeZapReceipt(_ref23) {\n  var zapRequest = _ref23.zapRequest,\n    preimage = _ref23.preimage,\n    bolt11 = _ref23.bolt11,\n    paidAt = _ref23.paidAt;\n  var zr = JSON.parse(zapRequest);\n  var tagsFromZapRequest = zr.tags.filter(function (_ref24) {\n    var _ref25 = _slicedToArray(_ref24, 1),\n      t = _ref25[0];\n    return t === \"e\" || t === \"p\" || t === \"a\";\n  });\n  var zap = {\n    kind: 9735,\n    created_at: Math.round(paidAt.getTime() / 1e3),\n    content: \"\",\n    tags: [].concat(_toConsumableArray(tagsFromZapRequest), [[\"bolt11\", bolt11], [\"description\", zapRequest]])\n  };\n  if (preimage) {\n    zap.tags.push([\"preimage\", preimage]);\n  }\n  return zap;\n}\n\n// nip98.ts\nvar nip98_exports = {};\n__export(nip98_exports, {\n  getToken: function getToken() {\n    return _getToken;\n  },\n  unpackEventFromToken: function unpackEventFromToken() {\n    return _unpackEventFromToken;\n  },\n  validateEvent: function validateEvent() {\n    return validateEvent2;\n  },\n  validateToken: function validateToken() {\n    return _validateToken;\n  }\n});\nimport { base64 as base643 } from \"@scure/base\";\nvar _authorizationScheme = \"Nostr \";\nfunction _getToken(_x21, _x22, _x23) {\n  return _getToken2.apply(this, arguments);\n}\nfunction _getToken2() {\n  _getToken2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(loginUrl, httpMethod, sign) {\n    var includeAuthorizationScheme,\n      event,\n      signedEvent,\n      authorizationScheme,\n      _args21 = arguments;\n    return _regeneratorRuntime.wrap(function _callee20$(_context21) {\n      while (1) {\n        switch (_context21.prev = _context21.next) {\n          case 0:\n            includeAuthorizationScheme = _args21.length > 3 && _args21[3] !== undefined ? _args21[3] : false;\n            if (!(!loginUrl || !httpMethod)) {\n              _context21.next = 3;\n              break;\n            }\n            throw new Error(\"Missing loginUrl or httpMethod\");\n          case 3:\n            event = getBlankEvent(27235 /* HttpAuth */);\n            event.tags = [[\"u\", loginUrl], [\"method\", httpMethod]];\n            event.created_at = Math.round(new Date().getTime() / 1e3);\n            _context21.next = 8;\n            return sign(event);\n          case 8:\n            signedEvent = _context21.sent;\n            authorizationScheme = includeAuthorizationScheme ? _authorizationScheme : \"\";\n            return _context21.abrupt(\"return\", authorizationScheme + base643.encode(_utf8Encoder.encode(JSON.stringify(signedEvent))));\n          case 11:\n          case \"end\":\n            return _context21.stop();\n        }\n      }\n    }, _callee20);\n  }));\n  return _getToken2.apply(this, arguments);\n}\nfunction _validateToken(_x24, _x25, _x26) {\n  return _validateToken2.apply(this, arguments);\n}\nfunction _validateToken2() {\n  _validateToken2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21(token, url, method) {\n    var event, valid;\n    return _regeneratorRuntime.wrap(function _callee21$(_context22) {\n      while (1) {\n        switch (_context22.prev = _context22.next) {\n          case 0:\n            _context22.next = 2;\n            return _unpackEventFromToken(token).catch(function (error) {\n              throw error;\n            });\n          case 2:\n            event = _context22.sent;\n            _context22.next = 5;\n            return validateEvent2(event, url, method).catch(function (error) {\n              throw error;\n            });\n          case 5:\n            valid = _context22.sent;\n            return _context22.abrupt(\"return\", valid);\n          case 7:\n          case \"end\":\n            return _context22.stop();\n        }\n      }\n    }, _callee21);\n  }));\n  return _validateToken2.apply(this, arguments);\n}\nfunction _unpackEventFromToken(_x27) {\n  return _unpackEventFromToken2.apply(this, arguments);\n}\nfunction _unpackEventFromToken2() {\n  _unpackEventFromToken2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee22(token) {\n    var eventB64, event;\n    return _regeneratorRuntime.wrap(function _callee22$(_context23) {\n      while (1) {\n        switch (_context23.prev = _context23.next) {\n          case 0:\n            if (token) {\n              _context23.next = 2;\n              break;\n            }\n            throw new Error(\"Missing token\");\n          case 2:\n            token = token.replace(_authorizationScheme, \"\");\n            eventB64 = _utf8Decoder.decode(base643.decode(token));\n            if (!(!eventB64 || eventB64.length === 0 || !eventB64.startsWith(\"{\"))) {\n              _context23.next = 6;\n              break;\n            }\n            throw new Error(\"Invalid token\");\n          case 6:\n            event = JSON.parse(eventB64);\n            return _context23.abrupt(\"return\", event);\n          case 8:\n          case \"end\":\n            return _context23.stop();\n        }\n      }\n    }, _callee22);\n  }));\n  return _unpackEventFromToken2.apply(this, arguments);\n}\nfunction validateEvent2(_x28, _x29, _x30) {\n  return _validateEvent.apply(this, arguments);\n}\nfunction _validateEvent() {\n  _validateEvent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee23(event, url, method) {\n    var urlTag, methodTag;\n    return _regeneratorRuntime.wrap(function _callee23$(_context24) {\n      while (1) {\n        switch (_context24.prev = _context24.next) {\n          case 0:\n            if (event) {\n              _context24.next = 2;\n              break;\n            }\n            throw new Error(\"Invalid nostr event\");\n          case 2:\n            if (verifySignature(event)) {\n              _context24.next = 4;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, signature invalid\");\n          case 4:\n            if (!(event.kind !== 27235 /* HttpAuth */)) {\n              _context24.next = 6;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, kind invalid\");\n          case 6:\n            if (event.created_at) {\n              _context24.next = 8;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, created_at invalid\");\n          case 8:\n            if (!(Math.round(new Date().getTime() / 1e3) - event.created_at > 60)) {\n              _context24.next = 10;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, expired\");\n          case 10:\n            urlTag = event.tags.find(function (t) {\n              return t[0] === \"u\";\n            });\n            if (!((urlTag === null || urlTag === void 0 ? void 0 : urlTag.length) !== 1 && (urlTag === null || urlTag === void 0 ? void 0 : urlTag[1]) !== url)) {\n              _context24.next = 13;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, url tag invalid\");\n          case 13:\n            methodTag = event.tags.find(function (t) {\n              return t[0] === \"method\";\n            });\n            if (!((methodTag === null || methodTag === void 0 ? void 0 : methodTag.length) !== 1 && (methodTag === null || methodTag === void 0 ? void 0 : methodTag[1].toLowerCase()) !== method.toLowerCase())) {\n              _context24.next = 16;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, method tag invalid\");\n          case 16:\n            return _context24.abrupt(\"return\", true);\n          case 17:\n          case \"end\":\n            return _context24.stop();\n        }\n      }\n    }, _callee23);\n  }));\n  return _validateEvent.apply(this, arguments);\n}\nexport { Kind, SimplePool, eventsGenerator, finishEvent, fakejson_exports as fj, generatePrivateKey, getBlankEvent, getEventHash, getPublicKey, getSignature, matchFilter, matchFilters, mergeFilters, nip04_exports as nip04, nip05_exports as nip05, nip06_exports as nip06, nip10_exports as nip10, nip13_exports as nip13, nip18_exports as nip18, nip19_exports as nip19, nip21_exports as nip21, nip25_exports as nip25, nip26_exports as nip26, nip27_exports as nip27, nip28_exports as nip28, nip39_exports as nip39, nip42_exports as nip42, nip44_exports as nip44, nip47_exports as nip47, nip57_exports as nip57, nip98_exports as nip98, parseReferences, relayInit, serializeEvent, signEvent, utils_exports as utils, validateEvent, verifiedSymbol, verifySignature };","import _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport \"core-js/modules/es.promise.finally.js\";\nimport { createContext, useState, useEffect, useRef, createElement, useContext, useReducer, useDebugValue, useCallback } from 'react';\nimport { atom as atom$1 } from 'jotai/vanilla';\nvar SUSPENSE_PROMISE = Symbol();\nvar isSuspensePromise = function isSuspensePromise(promise) {\n  return !!promise[SUSPENSE_PROMISE];\n};\nvar isSuspensePromiseAlreadyCancelled = function isSuspensePromiseAlreadyCancelled(suspensePromise) {\n  return !suspensePromise[SUSPENSE_PROMISE].c;\n};\nvar cancelSuspensePromise = function cancelSuspensePromise(suspensePromise) {\n  var _a;\n  var _suspensePromise$SUSP = suspensePromise[SUSPENSE_PROMISE],\n    basePromise = _suspensePromise$SUSP.b,\n    cancelPromise = _suspensePromise$SUSP.c;\n  if (cancelPromise) {\n    cancelPromise();\n    (_a = promiseAbortMap.get(basePromise)) == null ? void 0 : _a();\n  }\n};\nvar isEqualSuspensePromise = function isEqualSuspensePromise(oldSuspensePromise, newSuspensePromise) {\n  var oldOriginalPromise = oldSuspensePromise[SUSPENSE_PROMISE].o;\n  var newOriginalPromise = newSuspensePromise[SUSPENSE_PROMISE].o;\n  return oldOriginalPromise === newOriginalPromise || oldSuspensePromise === newOriginalPromise || isSuspensePromise(oldOriginalPromise) && isEqualSuspensePromise(oldOriginalPromise, newSuspensePromise);\n};\nvar createSuspensePromise = function createSuspensePromise(basePromise, promise) {\n  var suspensePromiseExtra = {\n    b: basePromise,\n    o: promise,\n    c: null\n  };\n  var suspensePromise = new Promise(function (resolve) {\n    suspensePromiseExtra.c = function () {\n      suspensePromiseExtra.c = null;\n      resolve();\n    };\n    promise.finally(suspensePromiseExtra.c);\n  });\n  suspensePromise[SUSPENSE_PROMISE] = suspensePromiseExtra;\n  return suspensePromise;\n};\nvar copySuspensePromise = function copySuspensePromise(suspensePromise) {\n  return createSuspensePromise(suspensePromise[SUSPENSE_PROMISE].b, suspensePromise[SUSPENSE_PROMISE].o);\n};\nvar promiseAbortMap = /* @__PURE__ */new WeakMap();\nvar registerPromiseAbort = function registerPromiseAbort(basePromise, abort) {\n  promiseAbortMap.set(basePromise, abort);\n};\nvar hasInitialValue = function hasInitialValue(atom) {\n  return \"init\" in atom;\n};\nvar READ_ATOM = \"r\";\nvar WRITE_ATOM = \"w\";\nvar COMMIT_ATOM = \"c\";\nvar SUBSCRIBE_ATOM = \"s\";\nvar RESTORE_ATOMS = \"h\";\nvar DEV_SUBSCRIBE_STATE = \"n\";\nvar DEV_GET_MOUNTED_ATOMS = \"l\";\nvar DEV_GET_ATOM_STATE = \"a\";\nvar DEV_GET_MOUNTED = \"m\";\nvar createStore = function createStore(initialValues) {\n  var _ref6;\n  var committedAtomStateMap = /* @__PURE__ */new WeakMap();\n  var mountedMap = /* @__PURE__ */new WeakMap();\n  var pendingMap = /* @__PURE__ */new Map();\n  var stateListeners;\n  var mountedAtoms;\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    stateListeners = /* @__PURE__ */new Set();\n    mountedAtoms = /* @__PURE__ */new Set();\n  }\n  if (initialValues) {\n    var _iterator = _createForOfIteratorHelper(initialValues),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _slicedToArray(_step.value, 2),\n          _atom2 = _step$value[0],\n          value = _step$value[1];\n        var atomState = {\n          v: value,\n          r: 0,\n          y: true,\n          // not invalidated\n          d: /* @__PURE__ */new Map()\n        };\n        if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n          Object.freeze(atomState);\n          if (!hasInitialValue(_atom2)) {\n            console.warn(\"Found initial value for derived atom which can cause unexpected behavior\", _atom2);\n          }\n        }\n        committedAtomStateMap.set(_atom2, atomState);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  var suspensePromiseCacheMap = /* @__PURE__ */new WeakMap();\n  var addSuspensePromiseToCache = function addSuspensePromiseToCache(version, atom, suspensePromise) {\n    var cache = suspensePromiseCacheMap.get(atom);\n    if (!cache) {\n      cache = /* @__PURE__ */new Map();\n      suspensePromiseCacheMap.set(atom, cache);\n    }\n    suspensePromise.then(function () {\n      if (cache.get(version) === suspensePromise) {\n        cache.delete(version);\n        if (!cache.size) {\n          suspensePromiseCacheMap.delete(atom);\n        }\n      }\n    });\n    cache.set(version, suspensePromise);\n  };\n  var cancelAllSuspensePromiseInCache = function cancelAllSuspensePromiseInCache(atom) {\n    var versionSet = /* @__PURE__ */new Set();\n    var cache = suspensePromiseCacheMap.get(atom);\n    if (cache) {\n      suspensePromiseCacheMap.delete(atom);\n      cache.forEach(function (suspensePromise, version) {\n        cancelSuspensePromise(suspensePromise);\n        versionSet.add(version);\n      });\n    }\n    return versionSet;\n  };\n  var versionedAtomStateMapMap = /* @__PURE__ */new WeakMap();\n  var getVersionedAtomStateMap = function getVersionedAtomStateMap(version) {\n    var versionedAtomStateMap = versionedAtomStateMapMap.get(version);\n    if (!versionedAtomStateMap) {\n      versionedAtomStateMap = /* @__PURE__ */new Map();\n      versionedAtomStateMapMap.set(version, versionedAtomStateMap);\n    }\n    return versionedAtomStateMap;\n  };\n  var getAtomState = function getAtomState(version, atom) {\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n      var _atomState = versionedAtomStateMap.get(atom);\n      if (!_atomState) {\n        _atomState = getAtomState(version.p, atom);\n        if (_atomState && \"p\" in _atomState && isSuspensePromiseAlreadyCancelled(_atomState.p)) {\n          _atomState = void 0;\n        }\n        if (_atomState) {\n          versionedAtomStateMap.set(atom, _atomState);\n        }\n      }\n      return _atomState;\n    }\n    return committedAtomStateMap.get(atom);\n  };\n  var setAtomState = function setAtomState(version, atom, atomState) {\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      Object.freeze(atomState);\n    }\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n      versionedAtomStateMap.set(atom, atomState);\n    } else {\n      var prevAtomState = committedAtomStateMap.get(atom);\n      committedAtomStateMap.set(atom, atomState);\n      if (!pendingMap.has(atom)) {\n        pendingMap.set(atom, prevAtomState);\n      }\n    }\n  };\n  var createReadDependencies = function createReadDependencies(version) {\n    var prevReadDependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : /* @__PURE__ */new Map();\n    var dependencies = arguments.length > 2 ? arguments[2] : undefined;\n    if (!dependencies) {\n      return prevReadDependencies;\n    }\n    var readDependencies = /* @__PURE__ */new Map();\n    var changed = false;\n    dependencies.forEach(function (atom) {\n      var _a;\n      var revision = ((_a = getAtomState(version, atom)) == null ? void 0 : _a.r) || 0;\n      readDependencies.set(atom, revision);\n      if (prevReadDependencies.get(atom) !== revision) {\n        changed = true;\n      }\n    });\n    if (prevReadDependencies.size === readDependencies.size && !changed) {\n      return prevReadDependencies;\n    }\n    return readDependencies;\n  };\n  var setAtomValue = function setAtomValue(version, atom, value, dependencies, suspensePromise) {\n    var atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (suspensePromise && (!(\"p\" in atomState) || !isEqualSuspensePromise(atomState.p, suspensePromise))) {\n        return atomState;\n      }\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n    }\n    var nextAtomState = {\n      v: value,\n      r: (atomState == null ? void 0 : atomState.r) || 0,\n      y: true,\n      // not invalidated\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    var changed = !(atomState == null ? void 0 : atomState.y);\n    if (!atomState || !(\"v\" in atomState) ||\n    // new value, or\n    !Object.is(atomState.v, value)) {\n      changed = true;\n      ++nextAtomState.r;\n      if (nextAtomState.d.has(atom)) {\n        nextAtomState.d = new Map(nextAtomState.d).set(atom, nextAtomState.r);\n      }\n    } else if (nextAtomState.d !== atomState.d && (nextAtomState.d.size !== atomState.d.size || !Array.from(nextAtomState.d.keys()).every(function (a) {\n      return atomState.d.has(a);\n    }))) {\n      changed = true;\n      Promise.resolve().then(function () {\n        flushPending(version);\n      });\n    }\n    if (atomState && !changed) {\n      return atomState;\n    }\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  var setAtomReadError = function setAtomReadError(version, atom, error, dependencies, suspensePromise) {\n    var atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (suspensePromise && (!(\"p\" in atomState) || !isEqualSuspensePromise(atomState.p, suspensePromise))) {\n        return atomState;\n      }\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n    }\n    var nextAtomState = {\n      e: error,\n      // set read error\n      r: ((atomState == null ? void 0 : atomState.r) || 0) + 1,\n      y: true,\n      // not invalidated\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  var setAtomSuspensePromise = function setAtomSuspensePromise(version, atom, suspensePromise, dependencies) {\n    var atomState = getAtomState(version, atom);\n    if (atomState && \"p\" in atomState) {\n      if (isEqualSuspensePromise(atomState.p, suspensePromise) && !isSuspensePromiseAlreadyCancelled(atomState.p)) {\n        if (!atomState.y) {\n          return _objectSpread(_objectSpread({}, atomState), {}, {\n            y: true\n          });\n        }\n        return atomState;\n      }\n      cancelSuspensePromise(atomState.p);\n    }\n    addSuspensePromiseToCache(version, atom, suspensePromise);\n    var nextAtomState = {\n      p: suspensePromise,\n      r: ((atomState == null ? void 0 : atomState.r) || 0) + 1,\n      y: true,\n      // not invalidated\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  var setAtomPromiseOrValue = function setAtomPromiseOrValue(version, atom, promiseOrValue, dependencies) {\n    if (promiseOrValue instanceof Promise) {\n      var suspensePromise = createSuspensePromise(promiseOrValue, promiseOrValue.then(function (value) {\n        setAtomValue(version, atom, value, dependencies, suspensePromise);\n      }).catch(function (e) {\n        if (e instanceof Promise) {\n          if (isSuspensePromise(e)) {\n            return e.then(function () {\n              readAtomState(version, atom, true);\n            });\n          }\n          return e;\n        }\n        setAtomReadError(version, atom, e, dependencies, suspensePromise);\n      }));\n      return setAtomSuspensePromise(version, atom, suspensePromise, dependencies);\n    }\n    return setAtomValue(version, atom, promiseOrValue, dependencies);\n  };\n  var setAtomInvalidated = function setAtomInvalidated(version, atom) {\n    var atomState = getAtomState(version, atom);\n    if (atomState) {\n      var nextAtomState = _objectSpread(_objectSpread({}, atomState), {}, {\n        // copy everything\n        y: false\n        // invalidated\n      });\n\n      setAtomState(version, atom, nextAtomState);\n    } else if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      console.warn(\"[Bug] could not invalidate non existing atom\", atom);\n    }\n  };\n  var readAtomState = function readAtomState(version, atom, force) {\n    if (!force) {\n      var _atomState2 = getAtomState(version, atom);\n      if (_atomState2) {\n        if (_atomState2.y &&\n        // not invalidated\n        \"p\" in _atomState2 && !isSuspensePromiseAlreadyCancelled(_atomState2.p)) {\n          return _atomState2;\n        }\n        _atomState2.d.forEach(function (_, a) {\n          if (a !== atom) {\n            if (!mountedMap.has(a)) {\n              readAtomState(version, a);\n            } else {\n              var aState = getAtomState(version, a);\n              if (aState && !aState.y) {\n                readAtomState(version, a);\n              }\n            }\n          }\n        });\n        if (Array.from(_atomState2.d).every(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n            a = _ref2[0],\n            r = _ref2[1];\n          var aState = getAtomState(version, a);\n          return aState && !(\"p\" in aState) &&\n          // has no suspense promise\n          aState.r === r;\n        })) {\n          if (!_atomState2.y) {\n            return _objectSpread(_objectSpread({}, _atomState2), {}, {\n              y: true\n            });\n          }\n          return _atomState2;\n        }\n      }\n    }\n    var dependencies = /* @__PURE__ */new Set();\n    try {\n      var promiseOrValue = atom.read(function (a) {\n        dependencies.add(a);\n        var aState = a === atom ? getAtomState(version, a) : readAtomState(version, a);\n        if (aState) {\n          if (\"e\" in aState) {\n            throw aState.e;\n          }\n          if (\"p\" in aState) {\n            throw aState.p;\n          }\n          return aState.v;\n        }\n        if (hasInitialValue(a)) {\n          return a.init;\n        }\n        throw new Error(\"no atom init\");\n      });\n      return setAtomPromiseOrValue(version, atom, promiseOrValue, dependencies);\n    } catch (errorOrPromise) {\n      if (errorOrPromise instanceof Promise) {\n        var suspensePromise = isSuspensePromise(errorOrPromise) && isSuspensePromiseAlreadyCancelled(errorOrPromise) ? copySuspensePromise(errorOrPromise) : createSuspensePromise(errorOrPromise, errorOrPromise);\n        return setAtomSuspensePromise(version, atom, suspensePromise, dependencies);\n      }\n      return setAtomReadError(version, atom, errorOrPromise, dependencies);\n    }\n  };\n  var readAtom = function readAtom(readingAtom, version) {\n    var atomState = readAtomState(version, readingAtom);\n    return atomState;\n  };\n  var addAtom = function addAtom(version, addingAtom) {\n    var mounted = mountedMap.get(addingAtom);\n    if (!mounted) {\n      mounted = mountAtom(version, addingAtom);\n    }\n    return mounted;\n  };\n  var canUnmountAtom = function canUnmountAtom(atom, mounted) {\n    return !mounted.l.size && (!mounted.t.size || mounted.t.size === 1 && mounted.t.has(atom));\n  };\n  var delAtom = function delAtom(version, deletingAtom) {\n    var mounted = mountedMap.get(deletingAtom);\n    if (mounted && canUnmountAtom(deletingAtom, mounted)) {\n      unmountAtom(version, deletingAtom);\n    }\n  };\n  var invalidateDependents = function invalidateDependents(version, atom) {\n    var mounted = mountedMap.get(atom);\n    mounted == null ? void 0 : mounted.t.forEach(function (dependent) {\n      if (dependent !== atom) {\n        setAtomInvalidated(version, dependent);\n        invalidateDependents(version, dependent);\n      }\n    });\n  };\n  var writeAtomState = function writeAtomState(version, atom, update) {\n    var isSync = true;\n    var writeGetter = function writeGetter(a, options) {\n      var aState = readAtomState(version, a);\n      if (\"e\" in aState) {\n        throw aState.e;\n      }\n      if (\"p\" in aState) {\n        if (options == null ? void 0 : options.unstable_promise) {\n          return aState.p.then(function () {\n            var s = getAtomState(version, a);\n            if (s && \"p\" in s && s.p === aState.p) {\n              return new Promise(function (resolve) {\n                return setTimeout(resolve);\n              }).then(function () {\n                return writeGetter(a, options);\n              });\n            }\n            return writeGetter(a, options);\n          });\n        }\n        if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n          console.info(\"Reading pending atom state in write operation. We throw a promise for now.\", a);\n        }\n        throw aState.p;\n      }\n      if (\"v\" in aState) {\n        return aState.v;\n      }\n      if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n        console.warn(\"[Bug] no value found while reading atom in write operation. This is probably a bug.\", a);\n      }\n      throw new Error(\"no value found\");\n    };\n    var setter = function setter(a, v) {\n      var promiseOrVoid2;\n      if (a === atom) {\n        if (!hasInitialValue(a)) {\n          throw new Error(\"atom not writable\");\n        }\n        var versionSet = cancelAllSuspensePromiseInCache(a);\n        versionSet.forEach(function (cancelledVersion) {\n          if (cancelledVersion !== version) {\n            setAtomPromiseOrValue(cancelledVersion, a, v);\n          }\n        });\n        var prevAtomState = getAtomState(version, a);\n        var nextAtomState = setAtomPromiseOrValue(version, a, v);\n        if (prevAtomState !== nextAtomState) {\n          invalidateDependents(version, a);\n        }\n      } else {\n        promiseOrVoid2 = writeAtomState(version, a, v);\n      }\n      if (!isSync) {\n        flushPending(version);\n      }\n      return promiseOrVoid2;\n    };\n    var promiseOrVoid = atom.write(writeGetter, setter, update);\n    isSync = false;\n    return promiseOrVoid;\n  };\n  var writeAtom = function writeAtom(writingAtom, update, version) {\n    var promiseOrVoid = writeAtomState(version, writingAtom, update);\n    flushPending(version);\n    return promiseOrVoid;\n  };\n  var isActuallyWritableAtom = function isActuallyWritableAtom(atom) {\n    return !!atom.write;\n  };\n  var mountAtom = function mountAtom(version, atom, initialDependent) {\n    var mounted = {\n      t: new Set(initialDependent && [initialDependent]),\n      l: /* @__PURE__ */new Set()\n    };\n    mountedMap.set(atom, mounted);\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      mountedAtoms.add(atom);\n    }\n    var atomState = readAtomState(void 0, atom);\n    atomState.d.forEach(function (_, a) {\n      var aMounted = mountedMap.get(a);\n      if (aMounted) {\n        aMounted.t.add(atom);\n      } else {\n        if (a !== atom) {\n          mountAtom(version, a, atom);\n        }\n      }\n    });\n    if (isActuallyWritableAtom(atom) && atom.onMount) {\n      var setAtom = function setAtom(update) {\n        return writeAtom(atom, update, version);\n      };\n      var onUnmount = atom.onMount(setAtom);\n      version = void 0;\n      if (onUnmount) {\n        mounted.u = onUnmount;\n      }\n    }\n    return mounted;\n  };\n  var unmountAtom = function unmountAtom(version, atom) {\n    var _a;\n    var onUnmount = (_a = mountedMap.get(atom)) == null ? void 0 : _a.u;\n    if (onUnmount) {\n      onUnmount();\n    }\n    mountedMap.delete(atom);\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      mountedAtoms.delete(atom);\n    }\n    var atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n      atomState.d.forEach(function (_, a) {\n        if (a !== atom) {\n          var mounted = mountedMap.get(a);\n          if (mounted) {\n            mounted.t.delete(atom);\n            if (canUnmountAtom(a, mounted)) {\n              unmountAtom(version, a);\n            }\n          }\n        }\n      });\n    } else if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      console.warn(\"[Bug] could not find atom state to unmount\", atom);\n    }\n  };\n  var mountDependencies = function mountDependencies(version, atom, atomState, prevReadDependencies) {\n    var dependencies = new Set(atomState.d.keys());\n    prevReadDependencies == null ? void 0 : prevReadDependencies.forEach(function (_, a) {\n      if (dependencies.has(a)) {\n        dependencies.delete(a);\n        return;\n      }\n      var mounted = mountedMap.get(a);\n      if (mounted) {\n        mounted.t.delete(atom);\n        if (canUnmountAtom(a, mounted)) {\n          unmountAtom(version, a);\n        }\n      }\n    });\n    dependencies.forEach(function (a) {\n      var mounted = mountedMap.get(a);\n      if (mounted) {\n        mounted.t.add(atom);\n      } else if (mountedMap.has(atom)) {\n        mountAtom(version, a, atom);\n      }\n    });\n  };\n  var flushPending = function flushPending(version) {\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n      versionedAtomStateMap.forEach(function (atomState, atom) {\n        var committedAtomState = committedAtomStateMap.get(atom);\n        if (atomState !== committedAtomState) {\n          var mounted = mountedMap.get(atom);\n          mounted == null ? void 0 : mounted.l.forEach(function (listener) {\n            return listener(version);\n          });\n        }\n      });\n      return;\n    }\n    while (pendingMap.size) {\n      var pending = Array.from(pendingMap);\n      pendingMap.clear();\n      pending.forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n          atom = _ref4[0],\n          prevAtomState = _ref4[1];\n        var atomState = getAtomState(void 0, atom);\n        if (atomState && atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n          mountDependencies(void 0, atom, atomState, prevAtomState == null ? void 0 : prevAtomState.d);\n        }\n        if (prevAtomState && !prevAtomState.y && (\n        // invalidated\n        atomState == null ? void 0 : atomState.y)) {\n          return;\n        }\n        var mounted = mountedMap.get(atom);\n        mounted == null ? void 0 : mounted.l.forEach(function (listener) {\n          return listener();\n        });\n      });\n    }\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      stateListeners.forEach(function (l) {\n        return l();\n      });\n    }\n  };\n  var commitVersionedAtomStateMap = function commitVersionedAtomStateMap(version) {\n    var versionedAtomStateMap = getVersionedAtomStateMap(version);\n    versionedAtomStateMap.forEach(function (atomState, atom) {\n      var prevAtomState = committedAtomStateMap.get(atom);\n      if (!prevAtomState || atomState.r > prevAtomState.r || atomState.y !== prevAtomState.y || atomState.r === prevAtomState.r && atomState.d !== prevAtomState.d) {\n        committedAtomStateMap.set(atom, atomState);\n        if (atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n          mountDependencies(version, atom, atomState, prevAtomState == null ? void 0 : prevAtomState.d);\n        }\n      }\n    });\n  };\n  var commitAtom = function commitAtom(_atom, version) {\n    if (version) {\n      commitVersionedAtomStateMap(version);\n    }\n    flushPending(void 0);\n  };\n  var subscribeAtom = function subscribeAtom(atom, callback, version) {\n    var mounted = addAtom(version, atom);\n    var listeners = mounted.l;\n    listeners.add(callback);\n    return function () {\n      listeners.delete(callback);\n      delAtom(version, atom);\n    };\n  };\n  var restoreAtoms = function restoreAtoms(values, version) {\n    var _iterator2 = _createForOfIteratorHelper(values),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _step2$value = _slicedToArray(_step2.value, 2),\n          _atom3 = _step2$value[0],\n          _value = _step2$value[1];\n        if (hasInitialValue(_atom3)) {\n          setAtomPromiseOrValue(version, _atom3, _value);\n          invalidateDependents(version, _atom3);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    flushPending(version);\n  };\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    var _ref5;\n    return _ref5 = {}, _defineProperty(_ref5, READ_ATOM, readAtom), _defineProperty(_ref5, WRITE_ATOM, writeAtom), _defineProperty(_ref5, COMMIT_ATOM, commitAtom), _defineProperty(_ref5, SUBSCRIBE_ATOM, subscribeAtom), _defineProperty(_ref5, RESTORE_ATOMS, restoreAtoms), _defineProperty(_ref5, DEV_SUBSCRIBE_STATE, function (l) {\n      stateListeners.add(l);\n      return function () {\n        stateListeners.delete(l);\n      };\n    }), _defineProperty(_ref5, DEV_GET_MOUNTED_ATOMS, function () {\n      return mountedAtoms.values();\n    }), _defineProperty(_ref5, DEV_GET_ATOM_STATE, function (a) {\n      return committedAtomStateMap.get(a);\n    }), _defineProperty(_ref5, DEV_GET_MOUNTED, function (a) {\n      return mountedMap.get(a);\n    }), _ref5;\n  }\n  return _ref6 = {}, _defineProperty(_ref6, READ_ATOM, readAtom), _defineProperty(_ref6, WRITE_ATOM, writeAtom), _defineProperty(_ref6, COMMIT_ATOM, commitAtom), _defineProperty(_ref6, SUBSCRIBE_ATOM, subscribeAtom), _defineProperty(_ref6, RESTORE_ATOMS, restoreAtoms), _ref6;\n};\nvar createStoreForExport = function createStoreForExport(initialValues) {\n  var store = createStore(initialValues);\n  var get = function get(atom) {\n    var atomState = store[READ_ATOM](atom);\n    if (\"e\" in atomState) {\n      throw atomState.e;\n    }\n    if (\"p\" in atomState) {\n      return void 0;\n    }\n    return atomState.v;\n  };\n  var asyncGet = function asyncGet(atom) {\n    return new Promise(function (resolve, reject) {\n      var atomState = store[READ_ATOM](atom);\n      if (\"e\" in atomState) {\n        reject(atomState.e);\n      } else if (\"p\" in atomState) {\n        resolve(atomState.p.then(function () {\n          return asyncGet(atom);\n        }));\n      } else {\n        resolve(atomState.v);\n      }\n    });\n  };\n  var set = function set(atom, update) {\n    return store[WRITE_ATOM](atom, update);\n  };\n  var sub = function sub(atom, callback) {\n    return store[SUBSCRIBE_ATOM](atom, callback);\n  };\n  return {\n    get: get,\n    asyncGet: asyncGet,\n    set: set,\n    sub: sub,\n    SECRET_INTERNAL_store: store\n  };\n};\nvar createScopeContainer = function createScopeContainer(initialValues, unstable_createStore) {\n  var store = unstable_createStore ? unstable_createStore(initialValues).SECRET_INTERNAL_store : createStore(initialValues);\n  return {\n    s: store\n  };\n};\nvar ScopeContextMap = /* @__PURE__ */new Map();\nvar getScopeContext = function getScopeContext(scope) {\n  if (!ScopeContextMap.has(scope)) {\n    ScopeContextMap.set(scope, createContext(createScopeContainer()));\n  }\n  return ScopeContextMap.get(scope);\n};\nvar Provider = function Provider(_ref7) {\n  var children = _ref7.children,\n    initialValues = _ref7.initialValues,\n    scope = _ref7.scope,\n    unstable_createStore = _ref7.unstable_createStore,\n    unstable_enableVersionedWrite = _ref7.unstable_enableVersionedWrite;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    version = _useState2[0],\n    setVersion = _useState2[1];\n  useEffect(function () {\n    var scopeContainer = scopeContainerRef.current;\n    if (scopeContainer.w) {\n      scopeContainer.s[COMMIT_ATOM](null, version);\n      delete version.p;\n      scopeContainer.v = version;\n    }\n  }, [version]);\n  var scopeContainerRef = useRef();\n  if (!scopeContainerRef.current) {\n    var scopeContainer = createScopeContainer(initialValues, unstable_createStore);\n    if (unstable_enableVersionedWrite) {\n      var retrying = 0;\n      scopeContainer.w = function (write) {\n        setVersion(function (parentVersion) {\n          var nextVersion = retrying ? parentVersion : {\n            p: parentVersion\n          };\n          write(nextVersion);\n          return nextVersion;\n        });\n      };\n      scopeContainer.v = version;\n      scopeContainer.r = function (fn) {\n        ++retrying;\n        fn();\n        --retrying;\n      };\n    }\n    scopeContainerRef.current = scopeContainer;\n  }\n  var ScopeContainerContext = getScopeContext(scope);\n  return createElement(ScopeContainerContext.Provider, {\n    value: scopeContainerRef.current\n  }, children);\n};\nfunction atom(read, write) {\n  return atom$1(read, write);\n}\nfunction useAtomValue(atom, scope) {\n  var ScopeContext = getScopeContext(scope);\n  var scopeContainer = useContext(ScopeContext);\n  var store = scopeContainer.s,\n    versionFromProvider = scopeContainer.v;\n  var getAtomValue = function getAtomValue(version2) {\n    var atomState = store[READ_ATOM](atom, version2);\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\" && !atomState.y) {\n      throw new Error(\"should not be invalidated\");\n    }\n    if (\"e\" in atomState) {\n      throw atomState.e;\n    }\n    if (\"p\" in atomState) {\n      throw atomState.p;\n    }\n    if (\"v\" in atomState) {\n      return atomState.v;\n    }\n    throw new Error(\"no atom value\");\n  };\n  var _useReducer = useReducer(function (prev, nextVersion) {\n      var nextValue = getAtomValue(nextVersion);\n      if (Object.is(prev[1], nextValue) && prev[2] === atom) {\n        return prev;\n      }\n      return [nextVersion, nextValue, atom];\n    }, versionFromProvider, function (initialVersion) {\n      var initialValue = getAtomValue(initialVersion);\n      return [initialVersion, initialValue, atom];\n    }),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    _useReducer2$ = _slicedToArray(_useReducer2[0], 3),\n    version = _useReducer2$[0],\n    valueFromReducer = _useReducer2$[1],\n    atomFromReducer = _useReducer2$[2],\n    rerenderIfChanged = _useReducer2[1];\n  var value = valueFromReducer;\n  if (atomFromReducer !== atom) {\n    rerenderIfChanged(version);\n    value = getAtomValue(version);\n  }\n  useEffect(function () {\n    var versionFromProvider2 = scopeContainer.v;\n    if (versionFromProvider2) {\n      store[COMMIT_ATOM](atom, versionFromProvider2);\n    }\n    var unsubscribe = store[SUBSCRIBE_ATOM](atom, rerenderIfChanged, versionFromProvider2);\n    rerenderIfChanged(versionFromProvider2);\n    return unsubscribe;\n  }, [store, atom, scopeContainer]);\n  useEffect(function () {\n    store[COMMIT_ATOM](atom, version);\n  });\n  useDebugValue(value);\n  return value;\n}\nfunction useSetAtom(atom, scope) {\n  var ScopeContext = getScopeContext(scope);\n  var _useContext = useContext(ScopeContext),\n    store = _useContext.s,\n    versionedWrite = _useContext.w;\n  var setAtom = useCallback(function (update) {\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\" && !(\"write\" in atom)) {\n      throw new Error(\"not writable atom\");\n    }\n    var write = function write(version) {\n      return store[WRITE_ATOM](atom, update, version);\n    };\n    return versionedWrite ? versionedWrite(write) : write();\n  }, [store, versionedWrite, atom]);\n  return setAtom;\n}\nfunction useAtom(atom, scope) {\n  if (\"scope\" in atom) {\n    console.warn(\"atom.scope is deprecated. Please do useAtom(atom, scope) instead.\");\n    scope = atom.scope;\n  }\n  return [useAtomValue(atom, scope),\n  // We do wrong type assertion here, which results in throwing an error.\n  useSetAtom(atom, scope)];\n}\nexport { Provider, getScopeContext as SECRET_INTERNAL_getScopeContext, registerPromiseAbort as SECRET_INTERNAL_registerPromiseAbort, atom, createStoreForExport as unstable_createStore, useAtom, useAtomValue, useSetAtom };","import { jsx } from 'react/jsx-runtime';\nimport { useState, useRef, useCallback, useEffect, useContext, createContext } from 'react';\nimport { relayInit, nip19 } from 'nostr-tools';\nimport { useAtom, atom } from 'jotai';\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar uniqBy = function uniqBy(arr, key) {\n  return Object.values(arr.reduce(function (map, item) {\n    var _extends2;\n    return _extends({}, map, (_extends2 = {}, _extends2[\"\" + item[key]] = item, _extends2));\n  }, {}));\n};\nvar uniqValues = function uniqValues(value, index, self) {\n  return self.indexOf(value) === index;\n};\nvar dateToUnix = function dateToUnix(_date) {\n  var date = _date || new Date();\n  return Math.floor(date.getTime() / 1000);\n};\nvar NostrContext = /*#__PURE__*/createContext({\n  isLoading: true,\n  connectedRelays: [],\n  onConnect: function onConnect() {\n    return null;\n  },\n  onDisconnect: function onDisconnect() {\n    return null;\n  },\n  publish: function publish() {\n    return null;\n  }\n});\nvar log = function log(isOn, type) {\n  var _console;\n  if (!isOn) return;\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n  (_console = console)[type].apply(_console, args);\n};\nfunction NostrProvider(_ref) {\n  var children = _ref.children,\n    relayUrls = _ref.relayUrls,\n    debug = _ref.debug;\n  var _useState = useState(true),\n    isLoading = _useState[0],\n    setIsLoading = _useState[1];\n  var _useState2 = useState([]),\n    connectedRelays = _useState2[0],\n    setConnectedRelays = _useState2[1];\n  var _useState3 = useState([]),\n    relays = _useState3[0],\n    setRelays = _useState3[1];\n  var relayUrlsRef = useRef([]);\n  var onConnectCallback = null;\n  var onDisconnectCallback = null;\n  var disconnectToRelays = useCallback(function (relayUrls) {\n    relayUrls.forEach( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(relayUrl) {\n        var _relays$find;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (_relays$find = relays.find(function (relay) {\n                  return relay.url === relayUrl;\n                })) == null ? void 0 : _relays$find.close();\n              case 2:\n                setRelays(function (prev) {\n                  return prev.filter(function (r) {\n                    return r.url !== relayUrl;\n                  });\n                });\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }, [relays]);\n  var connectToRelays = useCallback(function (relayUrls) {\n    relayUrls.forEach( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(relayUrl) {\n        var relay;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                relay = relayInit(relayUrl);\n                if (!(connectedRelays.findIndex(function (r) {\n                  return r.url === relayUrl;\n                }) >= 0)) {\n                  _context2.next = 3;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 3:\n                setRelays(function (prev) {\n                  return uniqBy([].concat(prev, [relay]), \"url\");\n                });\n                relay.connect();\n                relay.on(\"connect\", function () {\n                  log(debug, \"info\", \"\\u2705 nostr (\" + relayUrl + \"): Connected!\");\n                  setIsLoading(false);\n                  onConnectCallback == null ? void 0 : onConnectCallback(relay);\n                  setConnectedRelays(function (prev) {\n                    return uniqBy([].concat(prev, [relay]), \"url\");\n                  });\n                });\n                relay.on(\"disconnect\", function () {\n                  log(debug, \"warn\", \"\\uD83D\\uDEAA nostr (\" + relayUrl + \"): Connection closed.\");\n                  onDisconnectCallback == null ? void 0 : onDisconnectCallback(relay);\n                  setConnectedRelays(function (prev) {\n                    return prev.filter(function (r) {\n                      return r.url !== relayUrl;\n                    });\n                  });\n                });\n                relay.on(\"error\", function () {\n                  log(debug, \"error\", \"\\u274C nostr (\" + relayUrl + \"): Connection error!\");\n                });\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  }, [connectedRelays, debug, onConnectCallback, onDisconnectCallback]);\n  useEffect(function () {\n    if (relayUrlsRef.current === relayUrls) {\n      // relayUrls isn't updated, skip\n      return;\n    }\n    var relayUrlsToDisconnect = relayUrlsRef.current.filter(function (relayUrl) {\n      return !relayUrls.includes(relayUrl);\n    });\n    disconnectToRelays(relayUrlsToDisconnect);\n    connectToRelays(relayUrls);\n    relayUrlsRef.current = relayUrls;\n  }, [relayUrls, connectToRelays, disconnectToRelays]);\n  var publish = function publish(event) {\n    return connectedRelays.map(function (relay) {\n      log(debug, \"info\", \"\\u2B06\\uFE0F nostr (\" + relay.url + \"): Sending event:\", event);\n      return relay.publish(event);\n    });\n  };\n  var value = {\n    debug: debug,\n    isLoading: isLoading,\n    connectedRelays: connectedRelays,\n    publish: publish,\n    onConnect: function onConnect(_onConnectCallback) {\n      if (_onConnectCallback) {\n        onConnectCallback = _onConnectCallback;\n      }\n    },\n    onDisconnect: function onDisconnect(_onDisconnectCallback) {\n      if (_onDisconnectCallback) {\n        onDisconnectCallback = _onDisconnectCallback;\n      }\n    }\n  };\n  return jsx(NostrContext.Provider, {\n    value: value,\n    children: children\n  });\n}\nfunction useNostr() {\n  return useContext(NostrContext);\n}\nfunction useNostrEvents(_ref4) {\n  var filter = _ref4.filter,\n    _ref4$enabled = _ref4.enabled,\n    enabled = _ref4$enabled === void 0 ? true : _ref4$enabled;\n  var _useNostr = useNostr(),\n    isLoadingProvider = _useNostr.isLoading,\n    onConnect = _useNostr.onConnect,\n    debug = _useNostr.debug,\n    connectedRelays = _useNostr.connectedRelays;\n  var _useState4 = useState(true),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState([]),\n    events = _useState5[0],\n    setEvents = _useState5[1];\n  var _useState6 = useState(function () {\n      return;\n    }),\n    unsubscribe = _useState6[0],\n    setUnsubscribe = _useState6[1];\n  var onEventCallback = null;\n  var onSubscribeCallback = null;\n  var onDoneCallback = null;\n  // Lets us detect changes in the nested filter object for the useEffect hook\n  var filterBase64 = typeof window !== \"undefined\" ? window.btoa(JSON.stringify(filter)) : null;\n  var _unsubscribe = function _unsubscribe(sub, relay) {\n    log(debug, \"info\", \"\\uD83D\\uDE49 nostr (\" + relay.url + \"): Unsubscribing from filter:\", filter);\n    return sub.unsub();\n  };\n  var subscribe = useCallback(function (relay, filter) {\n    log(debug, \"info\", \"\\uD83D\\uDC42 nostr (\" + relay.url + \"): Subscribing to filter:\", filter);\n    var sub = relay.sub([filter]);\n    setIsLoading(true);\n    var unsubscribeFunc = function unsubscribeFunc() {\n      _unsubscribe(sub, relay);\n    };\n    setUnsubscribe(function () {\n      return unsubscribeFunc;\n    });\n    sub.on(\"event\", function (event) {\n      log(debug, \"info\", \"\\u2B07\\uFE0F nostr (\" + relay.url + \"): Received event:\", event);\n      onEventCallback == null ? void 0 : onEventCallback(event);\n      setEvents(function (_events) {\n        return [event].concat(_events);\n      });\n    });\n    sub.on(\"eose\", function () {\n      setIsLoading(false);\n      onDoneCallback == null ? void 0 : onDoneCallback();\n    });\n    return sub;\n  }, []);\n  useEffect(function () {\n    if (!enabled) return;\n    var relaySubs = connectedRelays.map(function (relay) {\n      var sub = subscribe(relay, filter);\n      onSubscribeCallback == null ? void 0 : onSubscribeCallback(sub, relay);\n      return {\n        sub: sub,\n        relay: relay\n      };\n    });\n    return function () {\n      relaySubs.forEach(function (_ref5) {\n        var sub = _ref5.sub,\n          relay = _ref5.relay;\n        _unsubscribe(sub, relay);\n      });\n    };\n  }, [connectedRelays, filterBase64, enabled]);\n  var uniqEvents = events.length > 0 ? uniqBy(events, \"id\") : [];\n  var sortedEvents = uniqEvents.sort(function (a, b) {\n    return b.created_at - a.created_at;\n  });\n  return {\n    isLoading: isLoading || isLoadingProvider,\n    events: sortedEvents,\n    onConnect: onConnect,\n    connectedRelays: connectedRelays,\n    unsubscribe: unsubscribe,\n    onSubscribe: function onSubscribe(_onSubscribeCallback) {\n      if (_onSubscribeCallback) {\n        onSubscribeCallback = _onSubscribeCallback;\n      }\n    },\n    onEvent: function onEvent(_onEventCallback) {\n      if (_onEventCallback) {\n        onEventCallback = _onEventCallback;\n      }\n    },\n    onDone: function onDone(_onDoneCallback) {\n      if (_onDoneCallback) {\n        onDoneCallback = _onDoneCallback;\n      }\n    }\n  };\n}\nvar QUEUE_DEBOUNCE_DURATION = 100;\nvar timer = undefined;\nvar queuedPubkeysAtom = /*#__PURE__*/atom([]);\nvar requestedPubkeysAtom = /*#__PURE__*/atom([]);\nvar fetchedProfilesAtom = /*#__PURE__*/atom({});\nfunction useProfileQueue(_ref) {\n  var pubkey = _ref.pubkey;\n  var _useState = useState(false),\n    isReadyToFetch = _useState[0],\n    setIsReadyToFetch = _useState[1];\n  var _useAtom = useAtom(queuedPubkeysAtom),\n    queuedPubkeys = _useAtom[0],\n    setQueuedPubkeys = _useAtom[1];\n  var _useAtom2 = useAtom(requestedPubkeysAtom),\n    requestedPubkeys = _useAtom2[0];\n  var alreadyRequested = !!requestedPubkeys.includes(pubkey);\n  useEffect(function () {\n    if (alreadyRequested) {\n      return;\n    }\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      setIsReadyToFetch(true);\n    }, QUEUE_DEBOUNCE_DURATION);\n    setQueuedPubkeys(function (_pubkeys) {\n      // Unique values only:\n      var arr = [].concat(_pubkeys, [pubkey]).filter(uniqValues).filter(function (_pubkey) {\n        return !requestedPubkeys.includes(_pubkey);\n      });\n      return arr;\n    });\n  }, [pubkey, setQueuedPubkeys, alreadyRequested, requestedPubkeys]);\n  return {\n    pubkeysToFetch: isReadyToFetch ? queuedPubkeys : []\n  };\n}\nfunction useProfile(_ref2) {\n  var pubkey = _ref2.pubkey,\n    _ref2$enabled = _ref2.enabled,\n    _enabled = _ref2$enabled === void 0 ? true : _ref2$enabled;\n  var _useAtom3 = useAtom(requestedPubkeysAtom),\n    setRequestedPubkeys = _useAtom3[1];\n  var _useProfileQueue = useProfileQueue({\n      pubkey: pubkey\n    }),\n    pubkeysToFetch = _useProfileQueue.pubkeysToFetch;\n  var enabled = _enabled && !!pubkeysToFetch.length;\n  var _useAtom4 = useAtom(fetchedProfilesAtom),\n    fetchedProfiles = _useAtom4[0],\n    setFetchedProfiles = _useAtom4[1];\n  var _useNostrEvents = useNostrEvents({\n      filter: {\n        kinds: [0],\n        authors: pubkeysToFetch\n      },\n      enabled: enabled\n    }),\n    onEvent = _useNostrEvents.onEvent,\n    onSubscribe = _useNostrEvents.onSubscribe,\n    isLoading = _useNostrEvents.isLoading,\n    onDone = _useNostrEvents.onDone;\n  onSubscribe(function () {\n    // Reset list\n    // (We've already opened a subscription to these pubkeys now)\n    setRequestedPubkeys(function (_pubkeys) {\n      return [].concat(_pubkeys, pubkeysToFetch).filter(uniqValues);\n    });\n  });\n  onEvent(function (rawMetadata) {\n    try {\n      var _metadata = JSON.parse(rawMetadata.content);\n      var metaPubkey = rawMetadata.pubkey;\n      if (_metadata) {\n        setFetchedProfiles(function (_profiles) {\n          var _extends2;\n          return _extends({}, _profiles, (_extends2 = {}, _extends2[metaPubkey] = _metadata, _extends2));\n        });\n      }\n    } catch (err) {\n      console.error(err, rawMetadata);\n    }\n  });\n  var metadata = fetchedProfiles[pubkey];\n  var npub = nip19.npubEncode(pubkey);\n  return {\n    isLoading: isLoading,\n    onDone: onDone,\n    data: metadata ? _extends({}, metadata, {\n      npub: npub\n    }) : undefined\n  };\n}\nexport { NostrProvider, dateToUnix, uniqBy, uniqValues, useNostr, useNostrEvents, useProfile };","export default __webpack_public_path__ + \"static/nostr-45d72f007aea3c26a601cd0e3c891e49.png\";","import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'gatsby';\nimport Layout from '../components/layout';\nimport YouTube from '../images/youtube.png';\nimport Email from '../images/email.png';\nimport SEO from '../components/seo'\n//import { relayInit } from 'nostr';\n//import { SimplePool } from 'nostr-tools/pool';\nimport { NostrProvider, useNostrEvents, dateToUnix } from 'nostr-react';\nimport NOSTR_IMG from '../images/nostr.png';\n\nconst Note = ({ content, created_at, id, kind, pubkey, sig, tags }) => {\n    // Extract image URLs from tags\n    const imageTags = tags.filter(tag => tag[0] === 'r');\n    const imageUrls = imageTags.map(tag => tag[1]);\n//<div className=\"note-pubkey\">{pubkey}</div>\n    return (\n        <div className=\"note\" key={id}>\n            <div className=\"note-header\">\n                <div className=\"note-date\">{new Date(created_at * 1000).toLocaleString()}</div>\n            </div>\n            <div className=\"note-content\">{content}</div>\n            <div className=\"note-images\">\n                {imageUrls.map((url, index) => (\n                    <img src={url} alt={`Note Image ${index + 1}`} key={index} className=\"note-image\"/>\n                ))}\n            </div>\n        </div>\n    );\n};\n\n\nconst publicKey = \"0a69cf2560597cd4dfff9a75f40261d902a91b139cdacea10d54a52b43219250\";\n//const publicKey = \"npub1pf5u7ftqt97dfhllnf6lgqnpmyp2jxcnnndvaggd2jjjksepjfgqwrpnfw\";\n\nconst relays = [\n        'wss://relay.damus.io',\n        'wss://nostr-pub.wellorder.net',\n\t\"wss://relay.nostr.bg\",\n\t\"wss://nos.lol\",\n    ];\n\n\n\n/*async function fetchRecentNotes(publicKey, callback ) {\n\n    const relays = [\n        'wss://relay.damus.io',\n        'wss://nostr-pub.wellorder.net',\n\t\"wss://relay.nostr.bg\",\n\t\"wss://nos.lol\",\n    ];\n\n    const pool = new SimplePool();\n    const subscriptionTimeout = 6000; // 10 seconds\n\n    let notes = [];\n\n    let h = pool.subscribeMany(\n        relays,\n        [\n            {\n                kinds: [1],\n                authors: [publicKey]\n            }\n        ],\n        {\n            onevent(event) {\n                if (event.pubkey === publicKey && event.kind === 1 && !event.tags.some(tag => tag[0] === 'e')) {\n                    if (!notes.some(note => note.id === event.id)) {\n                        notes.push(event);\n                    }\n                }\n\n                // Limit to 10 notes\n                if (notes.length >= 10) {\n                    h.close();\n                }\n            },\n            oneose() {\n                h.close();\n            }\n        }\n    );\n\n    // Cancel the subscription after 10 seconds\n    setTimeout(() => {\n        h.close();\n        console.log('Subscription canceled after 10 seconds.');\n        console.log('Fetched notes:', notes);\n\tcallback( notes );\n    }, subscriptionTimeout);\n}*/\n\nconst getTwoMonthsAgoTimestamp = () => {\n  const now = new Date();\n  now.setMonth(now.getMonth() - 2);\n  return now;//Math.floor(now.getTime() / 1000); // Convert to Unix timestamp\n};\n\nconst ProfileFeed = ( props ) => {\n  \tconst now = useRef( getTwoMonthsAgoTimestamp() );\n\tconst { events } = useNostrEvents({\n\t\tfilter: {\n\t\t\tauthors: [publicKey],\n\t\t\tsince: dateToUnix(now.current),\n\t\t\tkinds:[1]\n\t\t}\n\t})\n\tconst filtered = events.filter(event => {\n\t\treturn !event.tags.some(tag => tag[0] === 'e' );\n\t});\n\t\n\treturn (\n    \t\t<div style={{padding:`0 2em`}}>\n\t\t<FeedHeader email={ \"c.lacdael@poetry.me.uk\" }\n\t\t\tpublicKey={\"npub1pf5u7ftqt97dfhllnf6lgqnpmyp2jxcnnndvaggd2jjjksepjfgqwrpnfw\"} />\n\t\t{ ( filtered.length == 0 ) ? <p>Fetching NoStr posts ...</p>\n\t\t: filtered.map( (e,i) => <Note key={e.id} {...e} />  ) }\n\t\t</div>\n\t  );\n};\n\n\n\n\n\nconst FeedHeader = ({ email, publicKey }) => {\n    const copyToClipboard = (text) => {\n        navigator.clipboard.writeText(text).then(() => {\n            alert('Copied to clipboard!');\n        }, (err) => {\n            console.error('Could not copy text: ', err);\n        });\n    };\n\n    return (\n        <div className=\"feed-header\">\n\t    <img src={ NOSTR_IMG } className=\"header-icon\"/>\n            <div className=\"feed-header-tems\" >\n\t    <div className=\"feed-header-item\">\n                <strong>NoStr:&nbsp;</strong> { email}\n            </div>\n            <div className=\"feed-header-item\">\n                <strong>Pub:&nbsp; </strong><span className=\"pubkey-ellipsis\"> {publicKey}</span>\n                <button onClick={() => copyToClipboard(publicKey)} className=\"copy-button\">\n\t\t\t&#128203;\n                </button>\n            </div>\n\t\t</div>\n        </div>\n    );\n};\n\n\nconst ContactPage = ({ data }) => {\n \n  const [events, setEvents] = useState([]); \n\n  /*useEffect(() => {\n\tfetchRecentNotes(publicKey , (notes) => {\n\t   setEvents( notes ); \n\t   console.log('Final notes:', notes);\n\t});\n\t  //.catch(error => {\n\t    //console.error('Error fetching notes:', error);\n\t//});\n  }, []);*/\n\nreturn (\n    <NostrProvider relayUrls={relays} debug={true}>\n    <Layout>\n    <SEO title=\"Contact | poetry.me\" description=\"Contact the poet.\" />\n \t\t <ul className=\"breadcrumb\">\n        <li><Link to=\"/\">Home</Link></li>\n        <li>Contact</li>\n        </ul>\n      <div className=\"links\">\n                <a href=\"mailto:c.lacdael@poetry.me.uk\" _target=\"blank\" ><img src={Email} alt=\"email\" /><div>c.lacdael@poetry.me.uk</div></a>\n                <Link to=\"https://www.youtube.com/channel/UC2ZESffB6c9dyOpQTgltAOg\" target=\"_blank\"><img src={YouTube} alt=\"video channel\" /><div>*YouTube</div></Link>\n            </div>\n\n<em>*Currently looking at alternatives due to Youtube's morally indefensible activities.</em>\n\t<hr/>\n\t  <ProfileFeed events={ events } />\n   </Layout>\n  </NostrProvider>\n );\n};\n\n\nexport default ContactPage;\n"],"names":["isConstructor","tryToString","$TypeError","TypeError","module","exports","argument","charAt","S","index","unicode","length","fails","F","prototype","constructor","Object","getPrototypeOf","value","done","IteratorPrototype","create","createPropertyDescriptor","setToStringTag","Iterators","returnThis","this","IteratorConstructor","NAME","next","ENUMERABLE_NEXT","TO_STRING_TAG","PrototypeOfArrayIteratorPrototype","arrayIterator","isCallable","isObject","defineBuiltIn","wellKnownSymbol","IS_PURE","ITERATOR","BUGGY_SAFARI_ITERATORS","keys","test","call","hasOwn","toObject","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","$Object","ObjectPrototype","O","object","global","Promise","anObject","newPromiseCapability","C","x","promiseCapability","f","resolve","promise","classof","regexpExec","R","exec","result","re1","re2","uncurryThis","toString","regexpFlags","stickyHelpers","shared","getInternalState","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeReplace","String","replace","nativeExec","RegExp","patchedExec","indexOf","stringSlice","slice","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","undefined","string","reCopy","match","i","group","re","state","str","raw","groups","sticky","flags","source","charsAdded","strCopy","multiline","input","arguments","$RegExp","MISSED_STICKY","dotAll","a","defineProperty","target","TAG","STATIC","configurable","aConstructor","isNullOrUndefined","SPECIES","defaultConstructor","toIntegerOrInfinity","requireObjectCoercible","charCodeAt","createMethod","CONVERT_TO_STRING","$this","pos","first","second","position","size","codeAt","$","NativePromiseConstructor","getBuiltIn","speciesConstructor","promiseResolve","NativePromisePrototype","proto","real","forced","then","onFinally","isFunction","e","method","unsafe","createIteratorConstructor","createIterResultObject","toLength","isRegExp","getRegExpFlags","getMethod","advanceStringIndex","regExpExec","InternalStateModule","MATCH_ALL","REGEXP_STRING","REGEXP_STRING_ITERATOR","setInternalState","set","getterFor","RegExpPrototype","stringIndexOf","nativeMatchAll","matchAll","WORKS_WITH_NON_GLOBAL_REGEX","$RegExpStringIterator","regexp","$global","fullUnicode","type","$matchAll","matcher","rx","_OverloadYield","t","v","k","_awaitAsyncGenerator","AsyncGenerator","r","resume","n","o","u","settle","reject","key","arg","_invoke","_wrapAsyncGenerator","fn","apply","Symbol","asyncIterator","number","Number","isSafeInteger","Error","concat","bytes","b","Uint8Array","_len","lengths","Array","_key","includes","assert","bool","hash","outputLen","blockLen","exists","instance","checkFinished","destroyed","finished","output","out","min","globalThis","crypto","u8a","arr","DataView","buffer","byteOffset","byteLength","rotr","word","shift","Uint32Array","hexes","from","padStart","hex","hexToBytes","len","array","j","hexByte","byte","parseInt","isNaN","TextEncoder","encode","toBytes","data","arrays","reduce","sum","pad","forEach","Hash","_cloneInto","hashCons","hashC","msg","update","digest","tmp","randomBytes","bytesLength","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","Super","NewTarget","SHA2","_Hash","_super","padOffset","isLE","_this","view","take","Math","subarray","process","dataView","roundClean","fill","setBigUint64","_32n","BigInt","_u32_max","wh","wl","h","l","setUint32","oview","outLen","get","_i","digestInto","res","destroy","to","_to","Maj","c","SHA256_K","IV","SHA256_W","SHA256","_SHA","A","B","D","E","G","H","offset","getUint32","W15","W2","s0","s1","T1","T2","SHA224","_SHA2","_super2","_this2","_0n","_1n","_2n","numberToHexUnpadded","num","hexToNumber","bytesToNumberBE","bytesToNumberLE","reverse","numberToBytesBE","numberToBytesLE","numberToVarBytesBE","title","expectedLength","b1","b2","bitLen","bitGet","bitSet","bitMask","u8n","u8fr","createHmacDrbg","hashLen","qByteLen","hmacFn","reset","_len2","_key2","reseed","seed","gen","sl","push","pred","validatorFns","bigint","val","function","boolean","isArray","field","Fp","isValid","validators","optValidators","checkField","fieldName","isOptional","checkVal","_Object$entries","entries","_Object$entries$_i","_i2","_Object$entries2","_Object$entries2$_i","_fieldName","_type","_3n","_4n","_5n","_8n","pow","power","modulo","pow2","invert","y","q","m","FpSqrt","P","p1div4","root","eql","sqr","c1","n2","mul","nv","sub","ONE","Q","Z","legendreC","Q1div2","neg","g","ZERO","t2","ge","tonelliShanks","FIELD_FIELDS","FpPow","p","d","FpInvertBatch","nums","lastMultiplied","acc","is0","inverted","inv","reduceRight","nLength","nBitLength","_nBitLength","nByteLength","ceil","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","getOwnPropertyDescriptors","defineProperties","validateBasic","curve","map","ORDER","MASK","BYTES","BITS","Gx","Gy","freeze","b2n","h2b","DER","Err","_Error","DERErr","_parseInt","toSig","_DER$_parseInt","sBytes","_DER$_parseInt2","s","hexFromSig","sig","shl","rhl","rl","weierstrassPoints","opts","CURVE","allowedPrivateKeyLengths","wrapPrivateKey","isTorsionFree","clearCofactor","allowInfinityPoint","fromBytes","endo","beta","splitScalar","validatePointOpts","point","isCompressed","toAffine","tail","weierstrassEquation","x2","x3","add","isWithinCurveOrder","assertGE","normPrivateKeyToScalar","error","pointPrecomputes","Map","assertPrjPoint","other","Point","px","py","pz","windowSize","_WINDOW_SIZE","delete","_this$toAffine","left","right","isOdd","X1","Y1","Z1","X2","Y2","Z2","U1","U2","b3","X3","Y3","Z3","t0","t1","t3","t4","t5","negate","equals","wnaf","wNAFCached","comp","toInv","invertBatch","fromAffine","I","unsafeLadder","_endo$splitScalar","k1neg","k1","k2neg","k2","k1p","k2p","double","scalar","fake","_endo$splitScalar2","_this$wNAF","wNAF","f1p","_this$wNAF2","f2p","constTimeNegate","_this$wNAF3","normalizeZ","BASE","multiply","multiplyUnsafe","iz","z","ax","ay","zz","cofactor","assertValidity","toRawBytes","_ref","points","privateKey","_bits","bits","condition","item","W","windows","elm","precomputeWindow","_opts","base","window","precomputes","_opts2","mask","maxNumber","shiftBy","wbits","offset1","offset2","abs","cond1","cond2","precomputesMap","transform","ProjectivePoint","weierstrass","curveDef","hmac","bits2int","bits2int_modN","lowS","CURVE_ORDER","compressedLen","uncompressedLen","modN","invN","_weierstrassPoints","cat","hasEvenY","head","y2","sqrt","numToNByteStr","isBiggerThanHalfOrder","normalizeS","slcNum","Signature","recovery","msgHash","rec","radj","prefix","fromHex","ir","u1","u2","multiplyAndAddUnsafe","hasHighS","toDERHex","toCompactHex","_DER$toSig","utils","isValidPrivateKey","randomPrivateKey","groupOrder","minLen","precompute","_setWindowSize","isProbPub","delta","ORDER_MASK","int2octets","prepSig","defaultSigOpts","some","prehash","ent","extraEntropy","h1int","seedArgs","k2sig","kBytes","ik","normS","defaultVerOpts","getPublicKey","fromPrivateKey","getSharedSecret","privateA","publicB","sign","privKey","_prepSig","drbg","verify","signature","publicKey","_Point$BASE$multiplyA","sg","_sig","fromDER","derError","fromCompact","_r","_s","message","_sig2","is","HMAC","iHash","oHash","buf","secp256k1P","secp256k1N","divNearest","sqrtMod","_6n","_11n","_22n","_23n","_44n","_88n","b6","b9","b11","b22","b44","b88","b176","b220","b223","defHash","redef","_nLength","sqrtP","lhs","rhs","div","sqrN","addN","subN","mulN","lst","cmov","Field","secp256k1","a1","a2","POW_2_128","c2","msgs","getHash","fe","TAGGED_HASH_PREFIXES","taggedHash","tag","tagP","tagH","messages","pointToBytes","numTo32b","modP","schnorrGetExtPubKey","priv","d_","lift_x","xx","challenge","args","schnorrGetPublicKey","schnorrSign","auxRand","_schnorrGetExtPubKey","rand","k_","_schnorrGetExtPubKey2","schnorrVerify","pub","mod","_createForOfIteratorHelper","allowArrayLike","it","iterator","_arrayLikeToArray","name","_unsupportedIterableToArray","_e","err","normalCompletion","didErr","step","_e2","return","arr2","assertNumber","chain","wrap","decode","alphabet","digits","letter","join","separator","_step","_iterator","split","padding","chr","_step2","_iterator2","_step3","_iterator3","end","normalize","convertRadix","carry","digit","digitBase","floor","gcd","radix2carry","convertRadix2","_step4","_iterator4","radix","radix2","revPadding","unsafeWrapper","checksum","payload","newChecksum","oldChecksum","base16","base32","base64","toUpperCase","base64url","genBase58","abc","base58","XMR_BLOCK_LEN","base58xmr","block","BECH_ALPHABET","POLYMOD_GENERATORS","bech32Polymod","pre","chk","bechChecksum","words","encodingConst","_step5","_iterator5","_i3","genBech32","encoding","ENCODING_CONST","_words","fromWords","toWords","fromWordsUnsafe","limit","lowered","toLowerCase","sepIndex","lastIndexOf","endsWith","actualLength","decodeToBytes","_decode","decodeUnsafe","bech32","utf8","TextDecoder","CODERS","wordlist","pbkdf2Init","_password","_salt","dkLen","asyncTick","password","salt","DK","PRF","PRFSalt","pbkdf2Output","prfW","pbkdf2","_pbkdf2Init","ti","Ti","setInt32","ui","_ref2","SHA512_Kh","SHA512_Kl","SHA512_W_H","SHA512_W_L","SHA512","Ah","Al","Bh","Bl","Ch","Cl","Dh","Dl","Eh","El","Fh","Fl","Gh","Gl","Hh","Hl","W15h","W15l","s0h","s0l","W2h","W2l","s1h","s1l","SUMl","SUMh","sigma1h","sigma1l","CHIh","CHIl","T1ll","T1h","T1l","sigma0h","sigma0l","MAJh","MAJl","_u64$add","All","_u64$add2","_u64$add3","_u64$add4","_u64$add5","_u64$add6","_u64$add7","_u64$add8","_u64$add9","rounded","nfkd","norm","assertEntropy","entropy","calcChecksum","bitsLeft","getCoder","entropyToMnemonic","isJapanese","validateMnemonic","mnemonic","mnemonicToEntropy","passphrase","Rho","Id","_","Pi","idxL","idxR","_arr","shifts","shiftsL","idx","shiftsR","Kl","Kr","rotl","BUF","RIPEMD160","h0","h1","h2","h3","h4","al","ar","bl","br","cl","cr","dl","dr","el","er","rGroup","hbl","hbr","rr","sr","tl","_i4","tr","ripemd160","U32_MASK64","fromBig","le","u64","_fromBig","toBig","shrSH","shrSL","rotrSH","rotrSL","rotrBH","rotrBL","rotr32H","rotr32L","rotlSH","rotlSL","rotlBH","rotlBL","add3L","add3H","low","add4L","add4H","add5H","add5L","_u64$split","_u64$split2","SHA512_224","_SHA3","SHA512_256","_super3","_this3","_SHA4","SHA384","_super4","_this4","sha256","base58check","bytesToNumber","MASTER_SECRET","BITCOIN_VERSIONS","private","public","HARDENED_OFFSET","toU32","HDKey","opt","depth","chainCode","parentFingerprint","versions","privKeyBytes","pubKey","pubHash","serialize","path","child","deriveChild","childTweak","fingerprint","added","_added","toCompactRawBytes","xpriv","privateExtendedKey","xpub","publicExtendedKey","version","base58key","keyBuffer","keyView","isPriv","json","fromExtendedKey","defaults","obj","assign","u8to16","Poly1305","Uint16Array","t6","t7","isLast","hibit","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","h5","h6","h7","h8","h9","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","finalize","opos","sigma16","sigma32","sigma16_32","sigma32_32","isAligned32","salsaBasic","_checkOpts","rounds","counterRight","counterLen","allow128bitKeys","core","extendNonceFn","blockLen32","nonce","counter","sigma","toClean","nonceLen","nc","b32","k32","n32","d32","o32","ctr","pos32","_j","chachaCore","cnt","y00","y01","y02","y03","y04","y05","y06","y07","y08","y09","y10","y11","y12","y13","y14","y15","x00","x01","x02","x03","x04","x05","x06","x07","x08","x09","x10","x11","x12","x13","x14","x15","oi","chacha20","HKDF_COUNTER","EMPTY_BUFFER","hkdf","ikm","info","prk","blocks","okm","HMACTmp","T","expand","extract","_marked","_matchAll","_e3","__defProp","__export","all","MessageNode","_MessageNode","MessageQueue","_MessageQueue","insertEventIntoAscendingList","_insertEventIntoAscendingList","insertEventIntoDescendingList","_insertEventIntoDescendingList","normalizeURL","_normalizeURL","utf8Decoder","_utf8Decoder","utf8Encoder","_utf8Encoder","url","URL","pathname","port","protocol","searchParams","sort","sortedArray","event","_sortedArray$position","midPoint","start","created_at","id","_sortedArray$position2","_value","_next","node","_first","_last","_size","messageNode","newNode","prev","verifiedSymbol","getBlankEvent","kind","content","tags","finishEvent","pubkey","getEventHash","getSignature","evt","validateEvent","JSON","stringify","serializeEvent","verifySignature","matchFilter","ids","startsWith","kinds","authors","_loop","tagName","values","find","_ret","since","until","matchFilters","filters","_getHex","_getInt","sliced","_getSubscriptionId","pstart","pend","_matchEventId","_matchEventPubkey","_matchEventKind","getHex64","getInt","getSubscriptionId","matchEventId","matchEventKind","matchEventPubkey","relayInit","ws","connectionPromise","options","_options$listTimeout","listTimeout","_options$getTimeout","getTimeout","_options$countTimeout","countTimeout","openSubs","listeners","connect","disconnect","notice","auth","subListeners","pubListeners","connectRelay","_connectRelay","_callee4","_context4","abrupt","WebSocket","onopen","cb","onerror","onclose","_callee3","_context3","stop","handleNextInterval","incomingMessageQueue","handleNext","clearInterval","dequeue","subid","so","alreadyHaveEvent","parse","_subListeners$id","id2","skipVerification","_subListeners$id2","count","_id","eose","_id2","ok","reason","_pubListeners$_id","resolve2","reject2","_listeners$auth","onmessage","enqueue","setInterval","connected","_ws","readyState","_connect","_callee5","_context5","trySend","_x2","_trySend","_callee6","params","_context6","setTimeout","send","console","log","_sub","_ref5","_ref5$verb","verb","_ref5$skipVerificatio","_ref5$alreadyHaveEven","_ref5$id","random","subscription","newFilters","newOpts","unsub","on","off","listeners2","splice","events","eventsGenerator","_publishEvent","_ws2","list","timeout","clearTimeout","publish","_callee","_context","_callee2","_context2","close","_ws3","OPEN","status","_ws$readyState","_ws4","_x","_eventsGenerator","_callee7","nextResolve","eventQueue","pushToQueue","_context7","sent","finish","BECH32_REGEX","_BECH32_REGEX","naddrEncode","_naddrEncode","neventEncode","_neventEncode","noteEncode","_noteEncode","nprofileEncode","_nprofileEncode","npubEncode","_npubEncode","nrelayEncode","_nrelayEncode","nsecEncode","_nsecEncode","nip19","_bech32$decode","_tlv$","tlv","parseTLV","relays","_tlv$2","_tlv$3","_tlv$4","_tlv","author","_tlv2$","_tlv2$2","_tlv2$3","_tlv2","identifier","_tlv3$","_tlv3","rest","encodeBytes","encodeBech32","profile","encodeTLV","kindArray","uint8Array","integerToUint8Array","addr","ArrayBuffer","_ref10","_ref11","entry","_encrypt","_x7","_x8","_x9","_encrypt2","_callee13","privkey","text","normalizedKey","iv","plaintext","cryptoKey","ciphertext","ctb64","ivb64","_context14","getNormalizedX","subtle","importKey","encrypt","_decrypt","_x10","_x11","_x12","_decrypt2","_callee14","_data$split","_data$split2","_context15","decrypt","webcrypto","NIP05_REGEX","_NIP05_REGEX","queryProfile","_queryProfile","searchDomain","_searchDomain","useFetchImplementation","_useFetchImplementation","_fetch","fetch","_unused","fetchImplementation","_x13","_searchDomain2","_callee15","domain","query","_args16","_context16","names","_x14","_queryProfile2","_callee16","fullname","_match2","_match2$","_parseNIP05Result","_context17","parseNIP05Result","_pubkey","relay","_privateKeyFromSeedWords","fromMasterSeed","mnemonicToSeedSync","derive","_generateSeedWords","strength","generateMnemonic","_validateWords","generateSeedWords","privateKeyFromSeedWords","validateWords","_parse","reply","mentions","profiles","eTags","eTagIndex","eTag","_eTag","eTagEventId","eTagRelayUrl","eTagMarker","eventPointer","isFirstETag","isLastETag","_getPow","nibble","clz32","_minePow","unsigned","difficulty","now","Date","getTime","getPow","minePow","_finishRepostEvent","reposted","relayUrl","_t$tags","_getRepostedEventPointer","_lastPTag","_lastPTag2","lastETag","lastPTag","_getRepostedEvent","_ref12","pointer","repostedEvent","finishRepostEvent","getRepostedEvent","getRepostedEventPointer","NOSTR_URI_REGEX","_NOSTR_URI_REGEX","parse2","_test","uri","decoded","_finishReactionEvent","reacted","_t$tags2","_t$content","inheritedTags","_getReactedEventPointer","finishReactionEvent","getReactedEventPointer","_createDelegation","parameters","conditions","cond","sighash","_getDelegator","tag2","_conditions$i$split","_conditions$i$split2","operator","createDelegation","getDelegator","regex","_regex","replaceAll","_replaceAll","matches","_iterator6","_step6","_match","_context12","replacer","channelCreateEvent","_channelCreateEvent","channelHideMessageEvent","_channelHideMessageEvent","channelMessageEvent","_channelMessageEvent","channelMetadataEvent","_channelMetadataEvent","channelMuteUserEvent","_channelMuteUserEvent","_fetch2","_t$tags3","_t$tags4","channel_create_event_id","_t$tags5","relay_url","reply_to_channel_message_event_id","_t$tags6","channel_message_event_id","_t$tags7","pubkey_to_mute","useFetchImplementation2","validateGithub","_validateGithub","_unused2","_x15","_x16","_x17","_validateGithub2","_callee17","username","proof","_context18","authenticate","_authenticate","_ref14","_callee12","_ref13","_context13","_x18","decrypt2","encrypt2","_utils","v2","maxPlaintextSize","minCiphertextSize","maxCiphertextSize","getConversationKey","privkeyA","pubkeyB","getMessageKeys","conversationKey","encryption","calcPadding","nextpower","log2","chunk","unpadded","unpaddedB","paddedLen","zeros","lenBuf","setUint16","unpad","padded","unpaddedLen","getUint16","_options$version","_options$salt","mac","clen","vers","ciphertext_","isSame","_parseConnectionString","connectionString","_URL","secret","_makeNwcRequestEvent","_x19","_makeNwcRequestEvent2","_callee18","_ref15","invoice","encryptedContent","eventTemplate","_context19","round","makeNwcRequestEvent","parseConnectionString","_fetch3","getZapEndpoint","_getZapEndpoint","makeZapReceipt","_makeZapReceipt","makeZapRequest","_makeZapRequest","useFetchImplementation3","validateZapRequest","_validateZapRequest","_unused3","_x20","_getZapEndpoint2","_callee19","metadata","lnurl","_JSON$parse","lud06","lud16","_bech322$decode","_lud16$split","_lud16$split2","body","_context20","allowsNostr","nostrPubkey","callback","_ref16","amount","_ref16$comment","comment","zr","zapRequestString","zapRequest","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","preimage","bolt11","paidAt","tagsFromZapRequest","_ref24","zap","getToken","_getToken","unpackEventFromToken","_unpackEventFromToken","validateEvent2","validateToken","_validateToken","_authorizationScheme","_x21","_x22","_x23","_getToken2","_callee20","loginUrl","httpMethod","includeAuthorizationScheme","signedEvent","authorizationScheme","_args21","_context21","_x24","_x25","_x26","_validateToken2","_callee21","token","valid","_context22","catch","_x27","_unpackEventFromToken2","_callee22","eventB64","_context23","_x28","_x29","_x30","_validateEvent","_callee23","urlTag","methodTag","_context24","Op","hasOwnProperty","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","toStringTag","define","writable","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","methodName","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","asyncGeneratorStep","_throw","_extends","bind","uniqBy","_extends2","NostrContext","createContext","isLoading","connectedRelays","onConnect","onDisconnect","isOn","_console","NostrProvider","children","relayUrls","debug","_useState","useState","setIsLoading","_useState2","setConnectedRelays","_useState3","setRelays","relayUrlsRef","useRef","onConnectCallback","onDisconnectCallback","disconnectToRelays","useCallback","_relays$find","connectToRelays","_ref3","findIndex","useEffect","current","relayUrlsToDisconnect","_onConnectCallback","_onDisconnectCallback","jsx","Provider","useNostrEvents","_ref4","_ref4$enabled","enabled","_useNostr","useContext","isLoadingProvider","_useState4","_useState5","setEvents","_useState6","unsubscribe","setUnsubscribe","onEventCallback","onSubscribeCallback","onDoneCallback","filterBase64","btoa","_unsubscribe","subscribe","unsubscribeFunc","_events","relaySubs","onSubscribe","_onSubscribeCallback","onEvent","_onEventCallback","onDone","_onDoneCallback","Note","imageUrls","className","toLocaleString","src","alt","ProfileFeed","props","_date","date","setMonth","getMonth","getTwoMonthsAgoTimestamp","filtered","style","FeedHeader","email","NOSTR_IMG","onClick","navigator","clipboard","writeText","alert","description","Link","href","_target","Email","YouTube"],"sourceRoot":""}