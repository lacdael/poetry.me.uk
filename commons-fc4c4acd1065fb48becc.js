(self.webpackChunkpoetry_me_uk=self.webpackChunkpoetry_me_uk||[]).push([[351],{4365:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var a=n(7393),r=n.n(a),i=n(7028),o=n.n(i),s=n(1307),l=n.n(s),u=n(6689),c=n.n(u),p=n(8906),y=n(2534),d=n(2268),m=n(8534),M="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDIwMDEwOTA0Ly9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4wIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiB3aWR0aD0iMTI4LjAwMDAwMHB0IiBoZWlnaHQ9IjEyOC4wMDAwMDBwdCIgdmlld0JveD0iMCAwIDEyOC4wMDAwMDAgMTI4LjAwMDAwMCIKIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIG1lZXQiPgo8bWV0YWRhdGE+CkNyZWF0ZWQgYnkgcG90cmFjZSAxLjE1LCB3cml0dGVuIGJ5IFBldGVyIFNlbGluZ2VyIDIwMDEtMjAxNwo8L21ldGFkYXRhPgo8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwxMjguMDAwMDAwKSBzY2FsZSgwLjEwMDAwMCwtMC4xMDAwMDApIgpmaWxsPSIjMDAwMDAwIiBzdHJva2U9Im5vbmUiPgo8cGF0aCBkPSJNNDYxIDExNDQgYy04NCAtMTExIC04OSAtMTM2IC0yNiAtMTQ0IGw0MCAtNSA3IC01NSBjMyAtMzAgNiAtODcgNwotMTI2IDEgLTQwIDYgLTc1IDEzIC04MiAxNyAtMTcgMTE3IC0xNiAxMjQgMiAzIDggOCA3MCAxMiAxMzcgbDcgMTI0IDM1IDMKYzM1IDQgNjAgMTcgNjAgMzMgMCA0IC0zNCA1MyAtNzUgMTA4IC0xMDEgMTM1IC0xMDcgMTM2IC0yMDQgNXoiLz4KPHBhdGggZD0iTTgzNiAxMTM0IGMtMyAtOSAtNiAtNTkgLTYgLTExMiAwIC0xMzAgLTQgLTE0MiAtNDUgLTE0MiAtNDEgMCAtNjIKLTIzIC00OSAtNTUgNSAtMTMgMzkgLTYyIDc3IC0xMDkgOTAgLTExNSA5NCAtMTE1IDE5MiAxNCA0MSA1NCA3NSAxMDYgNzUgMTE0CjAgMjAgLTMxIDM2IC02OSAzNiBsLTMxIDAgMCAxMTYgYzAgNjMgLTUgMTI0IC0xMCAxMzUgLTkgMTUgLTIyIDE5IC02OSAxOQotNDQgMCAtNjAgLTQgLTY1IC0xNnoiLz4KPHBhdGggZD0iTTEwNjMgNTUzIGMtNDYgLTQ5IC04MyAtOTcgLTgzIC0xMDggMCAtMzEgLTM2IC04MyAtNzIgLTEwNSAtMjggLTE3Ci01MSAtMjAgLTE0NCAtMjAgLTEyNyAwIC0xNTggMTQgLTExOCA1NCAxMiAxMiAzOCAxNiAxMTUgMTYgOTMgMCAxMDIgMiAxMjQKMjUgMzMgMzIgMzMgNzggMCAxMTAgLTIzIDI0IC0yOCAyNSAtMTczIDI1IC0xMTEgMCAtMTYxIDQgLTE5NiAxNiAtNjQgMjIKLTE2NSAxNSAtMjI2IC0xNiAtNDMgLTIxIC0yNzMgLTIzNyAtMjY4IC0yNTAgMiAtNCA2MyAtNjQgMTM2IC0xMzUgbDEzMyAtMTI4CjM3IDM2IDM3IDM2IDI1MCAzIGMyNDIgMyAyNTEgNCAyOTEgMjcgMjYgMTQgMTAyIDkyIDE5OCAyMDMgMTQ0IDE2NSAxNTYgMTgyCjE1NiAyMTggMCA0NiAtMzUgODAgLTg0IDgwIC0yNiAwIC00NCAtMTQgLTExMyAtODd6Ii8+CjwvZz4KPC9zdmc+Cg==",g=(n(9255),n(7500)),I=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"nftBaseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_wallet","type":"address"}],"name":"walletOfOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"string","name":"_s","type":"string"}],"name":"textBody","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"string","name":"_base","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"text","type":"string"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),T=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftContract","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"seller","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"bool","name":"sold","type":"bool"}],"name":"MarketItemCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"approvedContracts","outputs":[{"internalType":"contract IERC721","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"inflationCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tax","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getMaxSalePrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"f","type":"uint256"}],"name":"setInflationCap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"f","type":"uint256"}],"name":"setHighestPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tax","type":"uint256"}],"name":"setTax","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC721","name":"_contract","type":"address"}],"name":"addApprovedContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC721","name":"_contract","type":"address"}],"name":"rmvApprovedContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"createMarketItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"removeMarketItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"createMarketSale","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[],"name":"fetchMarketItems","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"owner","type":"address"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct NFTMarket.MarketItem[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"fetchMyNFTs","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"owner","type":"address"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct NFTMarket.MarketItem[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function","constant":true}]}'),f=function(){return c().createElement("div",{id:"hourglass-loader"},c().createElement("svg",{viewBox:"0 0 70 100",width:"70",height:"100"},c().createElement("defs",null,c().createElement("path",{id:"hourglass",d:"M 5 5 h 60 q 0 22.5 -28 45 28 22.5 28 45 h -60 q 0 -22.5 28 -45 -28 -22.5 -28 -45z"}),c().createElement("clipPath",{id:"clip--hourglass"},c().createElement("use",{href:"#hourglass"}))),c().createElement("g",{clipPath:"url(#clip--hourglass)"},c().createElement("rect",{id:"sand",width:"70",height:"50",fill:"hsl(210, 40%, 20%)",stroke:"none"})),c().createElement("g",{stroke:"hsl(240, 15%, 5%)",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},c().createElement("use",{href:"#hourglass"}),c().createElement("path",{d:"M 5 5 v 90"}),c().createElement("path",{d:"M 65 5 v 90"})),c().createElement("g",{fill:"hsl(240, 15%, 5%)",stroke:"none"},c().createElement("rect",{width:"70",height:"5"}),c().createElement("rect",{width:"70",height:"5",y:"95"}),c().createElement("circle",{r:"5",cx:"5",cy:"50"}),c().createElement("circle",{r:"5",cx:"65",cy:"50"}))))},A=n.p+"static/leave-f0247d1c0513920e2ae649653d1812cb.png",C=n.p+"static/nft-90d736ab0fb6eac4a718e35f48c70b2d.png",w=function(e){e.siteTitle;var t=e.context,n=e.address,a=e.isConnected,r=e.eventHandler;return c().createElement(c().Fragment,null,c().createElement("div",{style:{maxWidth:"1080px",textAlign:"center",margin:"auto",position:"relative"}},!a&&c().createElement("em",{id:"quote"},"The restless spirits long to guide"),c().createElement("button",{style:{position:"absolute",top:"0",right:"0",fontWeight:"bolder",margin:"0.5em",height:"2em"},type:"button",onClick:function(e){return r("connect",{})}},a?c().createElement("img",{src:A,style:{height:"100%"}}):c().createElement(c().Fragment,null,"Connect",c().createElement("img",{src:C,style:{height:"1rem"}}))),a&&c().createElement("div",{style:{display:"flex",justifyContent:"center"}},c().createElement("button",{style:{margin:"0.5em",height:"2em"},onClick:function(e){return r("context",{})}},c().createElement("img",{src:"market"===t?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDIwMDEwOTA0Ly9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4wIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiB3aWR0aD0iMTkxLjAwMDAwMHB0IiBoZWlnaHQ9IjE2NS4wMDAwMDBwdCIgdmlld0JveD0iMCAwIDE5MS4wMDAwMDAgMTY1LjAwMDAwMCIKIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIG1lZXQiPgo8bWV0YWRhdGE+CkNyZWF0ZWQgYnkgcG90cmFjZSAxLjE1LCB3cml0dGVuIGJ5IFBldGVyIFNlbGluZ2VyIDIwMDEtMjAxNwo8L21ldGFkYXRhPgo8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwxNjUuMDAwMDAwKSBzY2FsZSgwLjEwMDAwMCwtMC4xMDAwMDApIgpmaWxsPSIjMDAwMDAwIiBzdHJva2U9Im5vbmUiPgo8cGF0aCBkPSJNNjMgMTYzMCBjLTY2IC00MCAtNjMgLTQgLTYzIC04MDcgMCAtNTYyIDMgLTczNCAxMyAtNzUzIDcgLTEzIDI4Ci0zNSA0NiAtNDcgbDM0IC0yMyA3OTQgMCBjODUyIDAgODIxIC0yIDg2OCA1MCAxNyAxOSAyMSA0MCAyNSAxNTggbDUgMTM2IDMxCjggYzE4IDQgNDYgMjQgNjMgNDMgbDMxIDM2IDAgMjY0IDAgMjY0IC0zMSAzNiBjLTE3IDE5IC00NSAzOSAtNjMgNDMgbC0zMSA4Ci01IDE1NiAtNSAxNTcgLTMwIDMxIGMtMTYgMTcgLTQzIDM0IC02MCAzOCAtMjkgOCAtMzAgMTEgLTM1IDczIC02IDc1IC0yMAoxMDMgLTYzIDEyOSAtMzEgMTkgLTU3IDIwIC03NjIgMjAgLTcwNiAwIC03MzEgLTEgLTc2MiAtMjB6IG0xMzk2IC0xMjEgYzI4Ci0xMCA3NCAtNjkgNTQgLTY5IC02IDAgLTEzNTYgMCAtMTM4MSAwIC0xIDAgNCAxMyAxMyAzMCA5IDE4IDI2IDMyIDQzIDM2IDE1CjMgMzIgNyAzNyA5IDYgMiAyNzggNCA2MDYgNCA0MTIgMSA2MDYgLTIgNjI4IC0xMHogbTE1OCAtMjMzIGMyNyAtMjQgMjggLTI3CjI4IC0xMjggbDAgLTEwMyAtMjMwIC0yIC0yMjkgLTIgLTYzIC0zMSBjLTY3IC0zMyAtMTA5IC03NyAtMTQ1IC0xNTAgLTIwIC0zOQotMjMgLTYxIC0yMyAtMTY1IDAgLTEwNCAzIC0xMjYgMjIgLTE2NSAzNiAtNzMgNzkgLTExNyAxNDYgLTE0OSBsNjIgLTMwIDIzMAotMyAyMzAgLTMgMyAtNTUgYzIgLTMwIDEgLTcwIC0zIC04OCAtMTIgLTY2IDIxIC02MyAtNzU1IC02MiAtNDE3IDAgLTcwOSA0Ci03MjAgMTAgLTM5IDIxIC00MSA0NyAtMzggNTg0IGwzIDUxOCAyOCAyNCAyOCAyNCA2OTkgMCA2OTkgMCAyOCAtMjR6IG0xMzAKLTM5MCBsMjggLTI0IDAgLTE2NyAwIC0xNjcgLTI4IC0yNCBjLTI4IC0yNCAtMzAgLTI0IC0yNDkgLTI0IC0yNDAgMCAtMjc2IDYKLTMzMiA1MSAtMTI1IDEwNCAtODggMzEwIDY2IDM2NiAyMiA3IDExMiAxMiAyNjAgMTIgMjI2IDEgMjI3IDEgMjU1IC0yM3oiLz4KPHBhdGggZD0iTTEyMzUgNzQ4IGMtMjEgLTI1IC0yNSAtMzggLTIxIC02MiAyMiAtMTA3IDE3NiAtOTkgMTc2IDkgMCA4MiAtMTAxCjExNyAtMTU1IDUzeiIvPgo8L2c+Cjwvc3ZnPgo=":M,style:{height:"100%"}})," "),c().createElement("button",{style:{margin:"0.5em"},type:"button"},c().createElement("span",{style:{maxWidth:"9em",overflow:"hidden",textOverflow:"ellipsis",display:"block",whiteSpace:"nowrap"}},n)))),!a&&c().createElement("nav",null,c().createElement("div",{style:{margin:"0 auto",maxWidth:1080}},c().createElement("ul",null,c().createElement("li",null,c().createElement(g.Link,{to:"/books"},"Books")),c().createElement("li",null,c().createElement(g.Link,{to:"/excerpts"},"Excerpts")),c().createElement("li",null,c().createElement(g.Link,{to:"/blog"},"Blog")),c().createElement("li",null,c().createElement(g.Link,{to:"/contact"},"Contact"))))))};w.defaultProps={siteTitle:""};var b=w,k=n(8751),N=n.n(k),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).clickOut=function(e){"modal"==e.target.id&&n.props.evnt(null)},n.state={show:!0},n}return N()(t,e),t.prototype.render=function(){return c().createElement("div",{id:"modal",onClick:this.clickOut},c().createElement("div",{id:"modal-inner",style:this.props.style},c().createElement("div",{id:"close",onClick:this.props.evnt.bind(null,null)},"×"),c().createElement(c().Fragment,null,this.props.children)))},t}(c().Component),h=n(8969),D=n(2216),v=I.Mt,x=T.Mt,L={harmony:{nft:"0x91BD719a249F6AAFDE5850392e1229e962bf3Df0",market:"0x22bF9B8f4568be87b0557c30505fCba698B06367"}},z=[D.harmonyOne],j="061d544ba5120e2746c84afb1a9e0adb",O=(0,p.configureChains)(z,[(0,h.w3mProvider)({projectId:j})]).publicClient,S=(0,p.createConfig)({autoConnect:!0,connectors:(0,h.w3mConnectors)({projectId:j,chains:z}),publicClient:O}),F=new h.EthereumClient(S,z),B=function(e){return c().createElement("div",{className:"toast"},c().createElement("strong",null,e.str))},Y=function(e){return void 0===e.token?(console.log(e),c().createElement("div",{className:"nft"},"None")):c().createElement("div",{className:"nft",onClick:function(t){return e.eventHandler()},title:e.token.name,style:e.style?e.style:{}},c().createElement("img",{src:e.token.image,alt:e.token.description}))},U=function(e){var t=(0,u.useState)(!1),n=t[0],a=t[1],r=(0,u.useState)(!1),i=r[0],o=r[1],s=(0,u.useState)(!1),l=s[0],p=s[1],y=(0,u.useState)(e.marketInfo?e.marketInfo.price:0),d=y[0],g=y[1];(0,u.useEffect)((function(){console.log(e.marketInfo),console.log((0,m.formatEther)(d)),e.isConnected&&!e.marketInfo&&e.getApprovedNFT(e.token.id).then((function(e){p(e)})).catch((function(e){p(!1)}))}),[e]);var I={img:{width:"42vh",margin:"1em auto",display:"block",border:"0.5em solid var(--main)",borderRadius:"1em"},btnSell:{borderRadius:"2em",margin:"0.5em",boxShadow:"0 0 4px 1px  var(--dark)",borderColor:"var(--emphasis)"},btnApprove:{margin:"1em",textAlign:"center"},details:{overflow:"auto",width:"90%",margin:"auto",display:"block",borderRadius:"1em",height:"5em"}};return void 0===e.token?c().createElement("div",{className:"nft"},"None"):c().createElement("div",{title:e.token.name,style:e.style?e.style:{}},c().createElement("img",{src:e.token.image,alt:e.token.description,style:I.img}),n?c().createElement(c().Fragment,null,"  ",e.marketInfo?null:i?c().createElement("div",{style:I.btnApprove},c().createElement("button",{disabled:l,onClick:function(t){e.approveNFT(e.token.id).then((function(e){return p(e)})).catch((function(e){return console.error(e)}))},type:"button",className:"action",style:{width:"30%"}},"Approve"),c().createElement("input",{type:"number",disabled:!l,onBlur:function(e){return g(e.target.value)},placeholder:"price",style:{width:"30%"}}),c().createElement("button",{disabled:!l&&d<=0,onClick:function(t){e.sellNFT(e.token.id,(0,m.parseEther)(d))},className:"action",type:"button",style:{width:"30%"}},"sell")):c().createElement("button",{style:I.btnSell,onClick:function(e){return o(!0)}},c().createElement("img",{src:M,alt:"nft market",style:{height:"1rem"}})," "),c().createElement("textarea",{readOnly:!0,value:JSON.stringify(e.token),style:I.details})):e.marketInfo?c().createElement("div",{style:{margin:"auto",display:"block",textAlign:"center"}},c().createElement("button",{type:"button",className:"action",style:{background:"var(--light)",borderColor:"var(--alert)"},onClick:function(t){return e.buyNFT(e.marketInfo.itemId,e.marketInfo.price)}},"BUY"),c().createElement("span",{style:{margin:"1em"}},(0,m.formatEther)(e.marketInfo.price),c().createElement("em",null,"¢"))):c().createElement("button",{type:"button",className:"action",onClick:function(e){return a(!0)}},". . .More"))};function Q(e){var t=(0,u.useState)(null),n=t[0],a=t[1],i=(0,u.useState)(!1),s=i[0],m=i[1],M=(0,u.useState)([]),I=M[0],T=M[1],A=(0,u.useState)([]),C=A[0],w=A[1],k=(0,u.useState)({}),N=k[0],h=k[1],D=(0,u.useState)("wallet"),z=D[0],j=D[1],O=(0,u.useState)(null),S=O[0],F=O[1],Q=(0,p.useAccount)(),Z=Q.address,R=Q.isConnected,W=(0,p.useNetwork)(),P=W.chain,G=W.chains,H=(0,d.useWeb3Modal)(),V=H.open,J=(H.close,(0,p.useDisconnect)().disconnect),K=function(){var e=o()(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return");case 2:console.log("init(); account: "+Z+", chain : "+P.network),m(!0),q().then((function(e){X().then((function(e){m(!1)})).catch((function(e){return ee("callFetchMarketItems",e)&&m(!1)}))})).catch((function(e){ee("callWalletOfOwner",e),console.error(e),console.log(P),m(!1),J()}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){R&&void 0!==P&&void 0!==Z&&K()}),[P,R,Z]);var _=function(e,t){switch(null==e&&F(null),e){case"connect":V();break;case"nft":F(t);break;case"context":"market"===z?0===I.length?te("First buy some NFTs"):j("wallet"):j("market")}},X=function(){return new Promise((function(e,t){(0,y.readContract)({address:L[P.network].market,abi:x,functionName:"fetchMarketItems"}).then((function(n){var a=[],r=[];n.forEach((function(e){r.push({itemId:e.itemId,nftContract:e.nftContract,owner:e.owner,price:e.price,seller:e.seller,sold:e.sold,tokenId:e.tokenId}),e.tokenId in N?console.log("id: "+e.tokenId+" - "+(e.tokenId in N)+"  "):a.push(e.tokenId)})),Promise.all(a.map(function(){var e=o()(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,y.readContract)({address:L[P.network].nft,abi:v,functionName:"tokenURI",args:[n]}).then((function(e){var t=N;t[n]=e.startsWith("data")?$(e):e,console.log(e),0===Object.keys(t).length&&console.log("1@@@@@@@@@@@@@@@ EMPTY!"),h((function(e){return Object.assign({},e,t)}))})).catch((function(e){return ee("tokenURI",e)&&t()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(t){w(r),e()})).catch((function(e){return ee("tokenURI",e)&&t()}))})).catch((function(e){return ee("fetchMarketItems",e)&&t()}))}))},q=function(){return new Promise((function(e,t){(0,y.readContract)({address:L[P.network].nft,abi:v,functionName:"walletOfOwner",args:[Z]}).then((function(n){var a=n.filter((function(e){return!(e in N)}));Promise.all(a.map(function(){var e=o()(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.readContract)({address:L[P.network].nft,abi:v,functionName:"tokenURI",args:[n]}).then((function(e){var t=N;t[n]=e.startsWith("data")?$(e):e,0===Object.keys(t).length&&console.log("2@@@@@@@@@@@@@@@ EMPTY!"),h((function(e){return Object.assign({},e,t)}))})).catch((function(e){return ee("tokenURI",e)&&t()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){T(n),0===n.length&&j("market"),e()})).catch((function(e){return ee("tokenURI",e)&&t()}))})).catch((function(e){return ee("walletOfOwner",e)&&t()}))}))},$=function(e){try{var t=e.split(",");if("application/json;base64"===t[0].split(":")[1]){var n=atob(t[1]);return JSON.parse(n)}}catch(a){console.error(a)}return""},ee=function(e,t){console.log(t),e&&te("Error calling "+e)},te=function(e,t){void 0===t&&(t=4e3),a(e),setTimeout((function(){return a(null)}),t)},ne=function(){return c().createElement("footer",null,c().createElement("em",null,"© ",c().createElement(g.Link,{to:"/christian-lacdael",style:{color:"var(--main)",textDecoration:"revert"}},"Christian Lacdael")," ",(new Date).getFullYear()))};return c().createElement(c().Fragment,null,c().createElement(b,{siteTitle:e.title||"Title",context:z,isConnected:R,address:void 0===P?"...":P.network in L?L[P.network]["wallet"===z?"nft":"market"]:void 0,eventHandler:_}),c().createElement("div",{style:{margin:"0 auto",maxWidth:1080,padding:"0 1.0875rem 1.45rem"}},null!=S&&c().createElement(E,{evnt:_},"image"in S?c().createElement(U,{token:S,isConnected:R,marketInfo:I.includes(S.id)?null:C.filter((function(e){return e.tokenId===S.id}))[0],approveNFT:function(e){return new Promise((function(t,n){(0,y.prepareWriteContract)({address:L[G.network].nft,abi:v,functionName:"approve",args:[L[G.network].market,e]}).then((function(e){var a=e.request;(0,y.writeContract)(a).then((function(e){t(!0)})).catch((function(e){return ee("marketApproveNFT",e)&&n(e)}))})).catch((function(e){return ee("marketApproveNFT",e)&&n(e)}))}))},getApprovedNFT:function(e){return new Promise((function(t,n){(0,y.readContract)({address:L[P.network].nft,abi:v,functionName:"getApproved",args:[e]}).then((function(e){for(var n=0;n<e.length;n++)e[n]===L[P.network].market&&t(!0);t(!1)})).catch((function(e){return ee("callMarketApprovedNFT",e)&&n()}))}))},sellNFT:function(e,t){console.log("marketSellNFT( "+L[G.network].nft+" , "+e+" , "+t+" )"),(0,y.prepareWriteContract)({address:L[G.network].market,abi:x,functionName:"createMarketItem",args:[L[G.network].nft,e,t]}).then((function(e){var t=e.request;(0,y.writeContract)(t).then((function(e){var t;if(null!=e&&null!==(t=e.events)&&void 0!==t&&t.MarketItemCreated){var n=e.events.MarketItemCreated.returnValues,a=n.tokenId;w((function(e){return[].concat(r()(e),[{itemId:n.itemId,nftContract:n.nftContract,owner:n.owner,price:n.price,seller:n.seller,sold:n.sold,tokenId:n.tokenId}])})),T(I.filter((function(e){return a!==e})))}})).catch((function(e){return ee("createMarketItem",e)}))})).catch((function(e){return ee("createMarketItem",e)}))},buyNFT:function(e,t){console.log("marketBuyNFT( "+L[P.network].nft+" , "+e+" )"),(0,y.prepareWriteContract)({address:L[G.network].market,abi:x,functionName:"createMarketSale",args:[L[G.network].nft,e],value:t}).then((function(t){var n=t.request;(0,y.writeContract)(n).then((function(t){if(t.hasOwnProperty("transactionHash")){var n=C.filter((function(t){return e===t.itemId}))[0].tokenId;T((function(e){return[].concat(r()(e),[n])})),w(C.filter((function(t){return e!==t.itemId})))}})).catch((function(e){return ee("createMarketSale",e)}))})).catch((function(e){return ee("createMarketSale",e)}))},eventHandler:_}):null," "),null!==n&&c().createElement(B,{str:n}),R?"market"===z?C.length>0?c().createElement(c().Fragment,null," ",C.map((function(e,t){return c().createElement(Y,{key:t,token:N[e.tokenId],eventHandler:_.bind(null,"nft",N[e.tokenId])})}))):c().createElement(f,null):c().createElement(c().Fragment,null," ",I.map((function(e,t){return c().createElement(Y,{key:t,token:N[e],eventHandler:_.bind(null,"nft",N[e])})}))," "):c().createElement(c().Fragment,null,c().createElement("main",null,e.children),c().createElement(ne,null))))}var Z=function(e){return c().createElement(c().Fragment,null," ",c().createElement(p.WagmiConfig,{config:S},c().createElement(g.StaticQuery,{query:"3649515864",render:function(t){return c().createElement(Q,{title:t.site.siteMetadata.title,children:e.children})}})),c().createElement(d.Web3Modal,{projectId:j,ethereumClient:F,defaultChain:D.harmonyOne}))}},9255:function(e,t,n){n.g.Buffer=n(871).Buffer,n.g.process=n(9369)}}]);
//# sourceMappingURL=commons-fc4c4acd1065fb48becc.js.map