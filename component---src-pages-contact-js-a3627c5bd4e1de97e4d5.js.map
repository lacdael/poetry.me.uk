{"version":3,"file":"component---src-pages-contact-js-a3627c5bd4e1de97e4d5.js","mappings":"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","sources":["webpack://poetry.me.uk/./node_modules/core-js/internals/a-constructor.js","webpack://poetry.me.uk/./node_modules/core-js/internals/advance-string-index.js","webpack://poetry.me.uk/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://poetry.me.uk/./node_modules/core-js/internals/create-iter-result-object.js","webpack://poetry.me.uk/./node_modules/core-js/internals/iterator-create-constructor.js","webpack://poetry.me.uk/./node_modules/core-js/internals/iterators-core.js","webpack://poetry.me.uk/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://poetry.me.uk/./node_modules/core-js/internals/promise-native-constructor.js","webpack://poetry.me.uk/./node_modules/core-js/internals/promise-resolve.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-exec.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://poetry.me.uk/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://poetry.me.uk/./node_modules/core-js/internals/set-to-string-tag.js","webpack://poetry.me.uk/./node_modules/core-js/internals/species-constructor.js","webpack://poetry.me.uk/./node_modules/core-js/internals/string-multibyte.js","webpack://poetry.me.uk/./node_modules/core-js/modules/es.promise.finally.js","webpack://poetry.me.uk/./node_modules/core-js/modules/es.string.match-all.js","webpack://poetry.me.uk/./node_modules/core-js/modules/esnext.string.match-all.js","webpack://poetry.me.uk/./src/images/youtube.png","webpack://poetry.me.uk/./src/images/email.png","webpack://poetry.me.uk/./node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/_assert.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/crypto.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/utils.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/_sha2.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/sha256.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/abstract/utils.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/abstract/modular.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/abstract/curve.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/abstract/weierstrass.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/hmac.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/_shortw_utils.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/curves/esm/secp256k1.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@scure/base/lib/esm/index.js","webpack://poetry.me.uk/./node_modules/@scure/bip39/esm/wordlists/english.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/hmac.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/pbkdf2.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/_sha2.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/sha256.js","webpack://poetry.me.uk/./node_modules/@noble/hashes/esm/sha512.js","webpack://poetry.me.uk/./node_modules/@scure/base/lib/esm/index.js","webpack://poetry.me.uk/./node_modules/@scure/bip39/esm/index.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/ripemd160.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/_u64.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/sha512.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@scure/bip32/lib/esm/index.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/utils.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/_assert.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/_poly1305.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/_salsa.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/ciphers/esm/chacha.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/@noble/hashes/esm/hkdf.js","webpack://poetry.me.uk/./node_modules/nostr-react/node_modules/nostr-tools/lib/esm/index.js","webpack://poetry.me.uk/./node_modules/jotai/esm/index.mjs","webpack://poetry.me.uk/./node_modules/nostr-react/dist/nostr-react.esm.js","webpack://poetry.me.uk/./src/images/nostr.png","webpack://poetry.me.uk/./src/pages/contact.js","webpack://poetry.me.uk/./node_modules/@babel/runtime/helpers/esm/OverloadYield.js","webpack://poetry.me.uk/./node_modules/@babel/runtime/helpers/esm/AsyncGenerator.js","webpack://poetry.me.uk/./node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js"],"sourcesContent":["var isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a constructor');\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar $TypeError = TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw $TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","var defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn(target, TO_STRING_TAG)) {\n    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var anObject = require('../internals/an-object');\nvar aConstructor = require('../internals/a-constructor');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromiseConstructor && fails(function () {\n  // eslint-disable-next-line unicorn/no-thenable -- required for testing\n  NativePromisePrototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = isCallable(onFinally);\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && isCallable(NativePromiseConstructor)) {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromisePrototype['finally'] !== method) {\n    defineBuiltIn(NativePromisePrototype, 'finally', method, { unsafe: true });\n  }\n}\n","'use strict';\n/* eslint-disable es/no-string-prototype-matchall -- safe */\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar createIteratorConstructor = require('../internals/iterator-create-constructor');\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar classof = require('../internals/classof-raw');\nvar isRegExp = require('../internals/is-regexp');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar getMethod = require('../internals/get-method');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar InternalStateModule = require('../internals/internal-state');\nvar IS_PURE = require('../internals/is-pure');\n\nvar MATCH_ALL = wellKnownSymbol('matchAll');\nvar REGEXP_STRING = 'RegExp String';\nvar REGEXP_STRING_ITERATOR = REGEXP_STRING + ' Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(REGEXP_STRING_ITERATOR);\nvar RegExpPrototype = RegExp.prototype;\nvar $TypeError = TypeError;\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar nativeMatchAll = uncurryThis(''.matchAll);\n\nvar WORKS_WITH_NON_GLOBAL_REGEX = !!nativeMatchAll && !fails(function () {\n  nativeMatchAll('a', /./);\n});\n\nvar $RegExpStringIterator = createIteratorConstructor(function RegExpStringIterator(regexp, string, $global, fullUnicode) {\n  setInternalState(this, {\n    type: REGEXP_STRING_ITERATOR,\n    regexp: regexp,\n    string: string,\n    global: $global,\n    unicode: fullUnicode,\n    done: false\n  });\n}, REGEXP_STRING, function next() {\n  var state = getInternalState(this);\n  if (state.done) return createIterResultObject(undefined, true);\n  var R = state.regexp;\n  var S = state.string;\n  var match = regExpExec(R, S);\n  if (match === null) {\n    state.done = true;\n    return createIterResultObject(undefined, true);\n  }\n  if (state.global) {\n    if (toString(match[0]) === '') R.lastIndex = advanceStringIndex(S, toLength(R.lastIndex), state.unicode);\n    return createIterResultObject(match, false);\n  }\n  state.done = true;\n  return createIterResultObject(match, false);\n});\n\nvar $matchAll = function (string) {\n  var R = anObject(this);\n  var S = toString(string);\n  var C = speciesConstructor(R, RegExp);\n  var flags = toString(getRegExpFlags(R));\n  var matcher, $global, fullUnicode;\n  matcher = new C(C === RegExp ? R.source : R, flags);\n  $global = !!~stringIndexOf(flags, 'g');\n  fullUnicode = !!~stringIndexOf(flags, 'u');\n  matcher.lastIndex = toLength(R.lastIndex);\n  return new $RegExpStringIterator(matcher, S, $global, fullUnicode);\n};\n\n// `String.prototype.matchAll` method\n// https://tc39.es/ecma262/#sec-string.prototype.matchall\n$({ target: 'String', proto: true, forced: WORKS_WITH_NON_GLOBAL_REGEX }, {\n  matchAll: function matchAll(regexp) {\n    var O = requireObjectCoercible(this);\n    var flags, S, matcher, rx;\n    if (!isNullOrUndefined(regexp)) {\n      if (isRegExp(regexp)) {\n        flags = toString(requireObjectCoercible(getRegExpFlags(regexp)));\n        if (!~stringIndexOf(flags, 'g')) throw $TypeError('`.matchAll` does not allow non-global regexes');\n      }\n      if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll(O, regexp);\n      matcher = getMethod(regexp, MATCH_ALL);\n      if (matcher === undefined && IS_PURE && classof(regexp) == 'RegExp') matcher = $matchAll;\n      if (matcher) return call(matcher, regexp, O);\n    } else if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll(O, regexp);\n    S = toString(O);\n    rx = new RegExp(regexp, 'g');\n    return IS_PURE ? call($matchAll, rx, S) : rx[MATCH_ALL](S);\n  }\n});\n\nIS_PURE || MATCH_ALL in RegExpPrototype || defineBuiltIn(RegExpPrototype, MATCH_ALL, $matchAll);\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.string.match-all');\n","export default __webpack_public_path__ + \"static/youtube-2dda02a185aa42b635c96d700405101d.png\";","export default __webpack_public_path__ + \"static/email-a0dcd8b08d16e0369ae8181a37966e7e.png\";","import OverloadYield from \"./OverloadYield.js\";\nexport default function _awaitAsyncGenerator(e) {\n  return new OverloadYield(e, 0);\n}","export function number(n) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(\"Wrong positive integer: \".concat(n));\n}\nexport function bool(b) {\n  if (typeof b !== 'boolean') throw new Error(\"Expected boolean, not \".concat(b));\n}\nexport function bytes(b) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  for (var _len = arguments.length, lengths = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    lengths[_key - 1] = arguments[_key];\n  }\n  if (lengths.length > 0 && !lengths.includes(b.length)) throw new Error(\"Expected Uint8Array of length \".concat(lengths, \", not of length=\").concat(b.length));\n}\nexport function hash(hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function') throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\nexport function exists(instance) {\n  var checkFinished = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nexport function output(out, instance) {\n  bytes(out);\n  var min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(\"digestInto() expects output buffer of length at least \".concat(min));\n  }\n}\nvar assert = {\n  number: number,\n  bool: bool,\n  bytes: bytes,\n  hash: hash,\n  exists: exists,\n  output: output\n};\nexport default assert;","import \"core-js/modules/esnext.global-this.js\";\nexport var crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _asyncToGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/regenerator/index.js\";\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nvar u8a = function u8a(a) {\n  return a instanceof Uint8Array;\n};\n// Cast array to different type\nexport var u8 = function u8(arr) {\n  return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n};\nexport var u32 = function u32(arr) {\n  return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n};\n// Cast array to view\nexport var createView = function createView(arr) {\n  return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n};\n// The rotate right (circular right shift) operation for uint32\nexport var rotr = function rotr(word, shift) {\n  return word << 32 - shift | word >>> shift;\n};\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport var isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\nvar hexes = Array.from({\n  length: 256\n}, function (v, i) {\n  return i.toString(16).padStart(2, '0');\n});\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  var hex = '';\n  for (var i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  var len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  var array = new Uint8Array(len / 2);\n  for (var i = 0; i < array.length; i++) {\n    var j = i * 2;\n    var hexByte = hex.slice(j, j + 2);\n    var byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport var nextTick = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function nextTick() {\n    return _ref.apply(this, arguments);\n  };\n}();\n// Returns control to thread each 'tick' ms to avoid blocking\nexport function asyncLoop(_x, _x2, _x3) {\n  return _asyncLoop.apply(this, arguments);\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction _asyncLoop() {\n  _asyncLoop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(iters, tick, cb) {\n    var ts, i, diff;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            ts = Date.now();\n            i = 0;\n          case 2:\n            if (!(i < iters)) {\n              _context2.next = 13;\n              break;\n            }\n            cb(i);\n            // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n            diff = Date.now() - ts;\n            if (!(diff >= 0 && diff < tick)) {\n              _context2.next = 7;\n              break;\n            }\n            return _context2.abrupt(\"continue\", 10);\n          case 7:\n            _context2.next = 9;\n            return nextTick();\n          case 9:\n            ts += diff;\n          case 10:\n            i++;\n            _context2.next = 2;\n            break;\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _asyncLoop.apply(this, arguments);\n}\nexport function utf8ToBytes(str) {\n  if (typeof str !== 'string') throw new Error(\"utf8ToBytes expected string, got \".concat(typeof str));\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(\"expected Uint8Array, got \".concat(typeof data));\n  return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes() {\n  for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n    arrays[_key] = arguments[_key];\n  }\n  var r = new Uint8Array(arrays.reduce(function (sum, a) {\n    return sum + a.length;\n  }, 0));\n  var pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach(function (a) {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n// For runtime check if class implements interface\nexport var Hash = /*#__PURE__*/function () {\n  function Hash() {\n    _classCallCheck(this, Hash);\n  }\n  _createClass(Hash, [{\n    key: \"clone\",\n    value:\n    // Safe version that clones internal state\n    function clone() {\n      return this._cloneInto();\n    }\n  }]);\n  return Hash;\n}();\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nvar isPlainObject = function isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\n};\nexport function checkOpts(defaults, opts) {\n  if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts))) throw new Error('Options should be object or undefined');\n  var merged = Object.assign(defaults, opts);\n  return merged;\n}\nexport function wrapConstructor(hashCons) {\n  var hashC = function hashC(msg) {\n    return hashCons().update(toBytes(msg)).digest();\n  };\n  var tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = function () {\n    return hashCons();\n  };\n  return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n  var hashC = function hashC(msg, opts) {\n    return hashCons(opts).update(toBytes(msg)).digest();\n  };\n  var tmp = hashCons({});\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = function (opts) {\n    return hashCons(opts);\n  };\n  return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n  var hashC = function hashC(msg, opts) {\n    return hashCons(opts).update(toBytes(msg)).digest();\n  };\n  var tmp = hashCons({});\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = function (opts) {\n    return hashCons(opts);\n  };\n  return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes() {\n  var bytesLength = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}","import _toConsumableArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport assert from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  var _32n = BigInt(32);\n  var _u32_max = BigInt(0xffffffff);\n  var wh = Number(value >> _32n & _u32_max);\n  var wl = Number(value & _u32_max);\n  var h = isLE ? 4 : 0;\n  var l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport var SHA2 = /*#__PURE__*/function (_Hash) {\n  _inherits(SHA2, _Hash);\n  var _super = _createSuper(SHA2);\n  function SHA2(blockLen, outputLen, padOffset, isLE) {\n    var _this;\n    _classCallCheck(this, SHA2);\n    _this = _super.call(this);\n    _this.blockLen = blockLen;\n    _this.outputLen = outputLen;\n    _this.padOffset = padOffset;\n    _this.isLE = isLE;\n    _this.finished = false;\n    _this.length = 0;\n    _this.pos = 0;\n    _this.destroyed = false;\n    _this.buffer = new Uint8Array(blockLen);\n    _this.view = createView(_this.buffer);\n    return _this;\n  }\n  _createClass(SHA2, [{\n    key: \"update\",\n    value: function update(data) {\n      assert.exists(this);\n      var view = this.view,\n        buffer = this.buffer,\n        blockLen = this.blockLen;\n      data = toBytes(data);\n      var len = data.length;\n      for (var pos = 0; pos < len;) {\n        var take = Math.min(blockLen - this.pos, len - pos);\n        // Fast path: we have at least one block in input, cast it to view and process\n        if (take === blockLen) {\n          var dataView = createView(data);\n          for (; blockLen <= len - pos; pos += blockLen) {\n            this.process(dataView, pos);\n          }\n          continue;\n        }\n        buffer.set(data.subarray(pos, pos + take), this.pos);\n        this.pos += take;\n        pos += take;\n        if (this.pos === blockLen) {\n          this.process(view, 0);\n          this.pos = 0;\n        }\n      }\n      this.length += data.length;\n      this.roundClean();\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assert.exists(this);\n      assert.output(out, this);\n      this.finished = true;\n      // Padding\n      // We can avoid allocation of buffer for padding completely if it\n      // was previously not allocated here. But it won't change performance.\n      var buffer = this.buffer,\n        view = this.view,\n        blockLen = this.blockLen,\n        isLE = this.isLE;\n      var pos = this.pos;\n      // append the bit '1' to the message\n      buffer[pos++] = 128;\n      this.buffer.subarray(pos).fill(0);\n      // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n      if (this.padOffset > blockLen - pos) {\n        this.process(view, 0);\n        pos = 0;\n      }\n      // Pad until full block byte with zeros\n      for (var i = pos; i < blockLen; i++) {\n        buffer[i] = 0;\n      }\n      // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n      // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n      // So we just write lowest 64 bits of that value.\n      setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n      this.process(view, 0);\n      var oview = createView(out);\n      var len = this.outputLen;\n      // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n      if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n      var outLen = len / 4;\n      var state = this.get();\n      if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n      for (var _i = 0; _i < outLen; _i++) {\n        oview.setUint32(4 * _i, state[_i], isLE);\n      }\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var buffer = this.buffer,\n        outputLen = this.outputLen;\n      this.digestInto(buffer);\n      var res = buffer.slice(0, outputLen);\n      this.destroy();\n      return res;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      var _to;\n      to || (to = new this.constructor());\n      (_to = to).set.apply(_to, _toConsumableArray(this.get()));\n      var blockLen = this.blockLen,\n        buffer = this.buffer,\n        length = this.length,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        pos = this.pos;\n      to.length = length;\n      to.pos = pos;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      if (length % blockLen) to.buffer.set(buffer);\n      return to;\n    }\n  }]);\n  return SHA2;\n}(Hash);","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n// Choice: a ? b : c\nvar Chi = function Chi(a, b, c) {\n  return a & b ^ ~a & c;\n};\n// Majority function, true if any two inpust is true\nvar Maj = function Maj(a, b, c) {\n  return a & b ^ a & c ^ b & c;\n};\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nvar SHA256_K = new Uint32Array([0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nvar IV = new Uint32Array([0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nvar SHA256_W = new Uint32Array(64);\nvar SHA256 = /*#__PURE__*/function (_SHA) {\n  _inherits(SHA256, _SHA);\n  var _super = _createSuper(SHA256);\n  function SHA256() {\n    var _this;\n    _classCallCheck(this, SHA256);\n    _this = _super.call(this, 64, 32, 8, false);\n    // We cannot use array here since array allows indexing by variable\n    // which means optimizer/compiler cannot use registers.\n    _this.A = IV[0] | 0;\n    _this.B = IV[1] | 0;\n    _this.C = IV[2] | 0;\n    _this.D = IV[3] | 0;\n    _this.E = IV[4] | 0;\n    _this.F = IV[5] | 0;\n    _this.G = IV[6] | 0;\n    _this.H = IV[7] | 0;\n    return _this;\n  }\n  _createClass(SHA256, [{\n    key: \"get\",\n    value: function get() {\n      var A = this.A,\n        B = this.B,\n        C = this.C,\n        D = this.D,\n        E = this.E,\n        F = this.F,\n        G = this.G,\n        H = this.H;\n      return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n  }, {\n    key: \"set\",\n    value: function set(A, B, C, D, E, F, G, H) {\n      this.A = A | 0;\n      this.B = B | 0;\n      this.C = C | 0;\n      this.D = D | 0;\n      this.E = E | 0;\n      this.F = F | 0;\n      this.G = G | 0;\n      this.H = H | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n      for (var i = 0; i < 16; i++, offset += 4) {\n        SHA256_W[i] = view.getUint32(offset, false);\n      }\n      for (var _i = 16; _i < 64; _i++) {\n        var W15 = SHA256_W[_i - 15];\n        var W2 = SHA256_W[_i - 2];\n        var s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ W15 >>> 3;\n        var s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ W2 >>> 10;\n        SHA256_W[_i] = s1 + SHA256_W[_i - 7] + s0 + SHA256_W[_i - 16] | 0;\n      }\n      // Compression function main loop, 64 rounds\n      var A = this.A,\n        B = this.B,\n        C = this.C,\n        D = this.D,\n        E = this.E,\n        F = this.F,\n        G = this.G,\n        H = this.H;\n      for (var i = 0; i < 64; i++) {\n        var sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n        var T1 = H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i] | 0;\n        var sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n        var T2 = sigma0 + Maj(A, B, C) | 0;\n        H = G;\n        G = F;\n        F = E;\n        E = D + T1 | 0;\n        D = C;\n        C = B;\n        B = A;\n        A = T1 + T2 | 0;\n      }\n      // Add the compressed chunk to the current hash value\n      A = A + this.A | 0;\n      B = B + this.B | 0;\n      C = C + this.C | 0;\n      D = D + this.D | 0;\n      E = E + this.E | 0;\n      F = F + this.F | 0;\n      G = G + this.G | 0;\n      H = H + this.H | 0;\n      this.set(A, B, C, D, E, F, G, H);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      SHA256_W.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.set(0, 0, 0, 0, 0, 0, 0, 0);\n      this.buffer.fill(0);\n    }\n  }]);\n  return SHA256;\n}(SHA2); // Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nvar SHA224 = /*#__PURE__*/function (_SHA2) {\n  _inherits(SHA224, _SHA2);\n  var _super2 = _createSuper(SHA224);\n  function SHA224() {\n    var _this2;\n    _classCallCheck(this, SHA224);\n    _this2 = _super2.call(this);\n    _this2.A = 0xc1059ed8 | 0;\n    _this2.B = 0x367cd507 | 0;\n    _this2.C = 0x3070dd17 | 0;\n    _this2.D = 0xf70e5939 | 0;\n    _this2.E = 0xffc00b31 | 0;\n    _this2.F = 0x68581511 | 0;\n    _this2.G = 0x64f98fa7 | 0;\n    _this2.H = 0xbefa4fa4 | 0;\n    _this2.outputLen = 28;\n    return _this2;\n  }\n  return _createClass(SHA224);\n}(SHA256);\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport var sha256 = wrapConstructor(function () {\n  return new SHA256();\n});\nexport var sha224 = wrapConstructor(function () {\n  return new SHA224();\n});","import _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// 100 lines of code in the file are duplicated from noble-hashes (utils).\n// This is OK: `abstract` directory does not use noble-hashes.\n// User may opt-in into using different hashing library. This way, noble-hashes\n// won't be included into their bundle.\nvar _0n = BigInt(0);\nvar _1n = BigInt(1);\nvar _2n = BigInt(2);\nvar u8a = function u8a(a) {\n  return a instanceof Uint8Array;\n};\nvar hexes = Array.from({\n  length: 256\n}, function (v, i) {\n  return i.toString(16).padStart(2, '0');\n});\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  var hex = '';\n  for (var i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\nexport function numberToHexUnpadded(num) {\n  var hex = num.toString(16);\n  return hex.length & 1 ? \"0\".concat(hex) : hex;\n}\nexport function hexToNumber(hex) {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  // Big Endian\n  return BigInt(hex === '' ? '0' : \"0x\".concat(hex));\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  var len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  var array = new Uint8Array(len / 2);\n  for (var i = 0; i < array.length; i++) {\n    var j = i * 2;\n    var hexByte = hex.slice(j, j + 2);\n    var byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n// BE: Big Endian, LE: Little Endian\nexport function bytesToNumberBE(bytes) {\n  return hexToNumber(bytesToHex(bytes));\n}\nexport function bytesToNumberLE(bytes) {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  return hexToNumber(bytesToHex(Uint8Array.from(bytes).reverse()));\n}\nexport function numberToBytesBE(n, len) {\n  return hexToBytes(n.toString(16).padStart(len * 2, '0'));\n}\nexport function numberToBytesLE(n, len) {\n  return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nexport function numberToVarBytesBE(n) {\n  return hexToBytes(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'private key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nexport function ensureBytes(title, hex, expectedLength) {\n  var res;\n  if (typeof hex === 'string') {\n    try {\n      res = hexToBytes(hex);\n    } catch (e) {\n      throw new Error(\"\".concat(title, \" must be valid hex string, got \\\"\").concat(hex, \"\\\". Cause: \").concat(e));\n    }\n  } else if (u8a(hex)) {\n    // Uint8Array.from() instead of hash.slice() because node.js Buffer\n    // is instance of Uint8Array, and its slice() creates **mutable** copy\n    res = Uint8Array.from(hex);\n  } else {\n    throw new Error(\"\".concat(title, \" must be hex string or Uint8Array\"));\n  }\n  var len = res.length;\n  if (typeof expectedLength === 'number' && len !== expectedLength) throw new Error(\"\".concat(title, \" expected \").concat(expectedLength, \" bytes, got \").concat(len));\n  return res;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes() {\n  for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n    arrays[_key] = arguments[_key];\n  }\n  var r = new Uint8Array(arrays.reduce(function (sum, a) {\n    return sum + a.length;\n  }, 0));\n  var pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach(function (a) {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\nexport function equalBytes(b1, b2) {\n  // We don't care about timing attacks here\n  if (b1.length !== b2.length) return false;\n  for (var i = 0; i < b1.length; i++) {\n    if (b1[i] !== b2[i]) return false;\n  }\n  return true;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n  if (typeof str !== 'string') throw new Error(\"utf8ToBytes expected string, got \".concat(typeof str));\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n */\nexport function bitLen(n) {\n  var len;\n  for (len = 0; n > _0n; n >>= _1n, len += 1) {\n    ;\n  }\n  return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nexport function bitGet(n, pos) {\n  return n >> BigInt(pos) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nexport var bitSet = function bitSet(n, pos, value) {\n  return n | (value ? _1n : _0n) << BigInt(pos);\n};\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nexport var bitMask = function bitMask(n) {\n  return (_2n << BigInt(n - 1)) - _1n;\n};\n// DRBG\nvar u8n = function u8n(data) {\n  return new Uint8Array(data);\n}; // creates Uint8Array\nvar u8fr = function u8fr(arr) {\n  return Uint8Array.from(arr);\n}; // another shortcut\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nexport function createHmacDrbg(hashLen, qByteLen, hmacFn) {\n  if (typeof hashLen !== 'number' || hashLen < 2) throw new Error('hashLen must be a number');\n  if (typeof qByteLen !== 'number' || qByteLen < 2) throw new Error('qByteLen must be a number');\n  if (typeof hmacFn !== 'function') throw new Error('hmacFn must be a function');\n  // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n  var v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n  var k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n  var i = 0; // Iterations counter, will throw when over 1000\n  var reset = function reset() {\n    v.fill(1);\n    k.fill(0);\n    i = 0;\n  };\n  var h = function h() {\n    for (var _len2 = arguments.length, b = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      b[_key2] = arguments[_key2];\n    }\n    return hmacFn.apply(void 0, [k, v].concat(b));\n  }; // hmac(k)(v, ...values)\n  var reseed = function reseed() {\n    var seed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : u8n();\n    // HMAC-DRBG reseed() function. Steps D-G\n    k = h(u8fr([0x00]), seed); // k = hmac(k || v || 0x00 || seed)\n    v = h(); // v = hmac(k || v)\n    if (seed.length === 0) return;\n    k = h(u8fr([0x01]), seed); // k = hmac(k || v || 0x01 || seed)\n    v = h(); // v = hmac(k || v)\n  };\n\n  var gen = function gen() {\n    // HMAC-DRBG generate() function\n    if (i++ >= 1000) throw new Error('drbg: tried 1000 values');\n    var len = 0;\n    var out = [];\n    while (len < qByteLen) {\n      v = h();\n      var sl = v.slice();\n      out.push(sl);\n      len += v.length;\n    }\n    return concatBytes.apply(void 0, out);\n  };\n  var genUntil = function genUntil(seed, pred) {\n    reset();\n    reseed(seed); // Steps D-G\n    var res = undefined; // Step H: grind until k is in [1..n-1]\n    while (!(res = pred(gen()))) {\n      reseed();\n    }\n    reset();\n    return res;\n  };\n  return genUntil;\n}\n// Validating curves and fields\nvar validatorFns = {\n  bigint: function bigint(val) {\n    return typeof val === 'bigint';\n  },\n  function: function _function(val) {\n    return typeof val === 'function';\n  },\n  boolean: function boolean(val) {\n    return typeof val === 'boolean';\n  },\n  string: function string(val) {\n    return typeof val === 'string';\n  },\n  isSafeInteger: function isSafeInteger(val) {\n    return Number.isSafeInteger(val);\n  },\n  array: function array(val) {\n    return Array.isArray(val);\n  },\n  field: function field(val, object) {\n    return object.Fp.isValid(val);\n  },\n  hash: function hash(val) {\n    return typeof val === 'function' && Number.isSafeInteger(val.outputLen);\n  }\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nexport function validateObject(object, validators) {\n  var optValidators = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var checkField = function checkField(fieldName, type, isOptional) {\n    var checkVal = validatorFns[type];\n    if (typeof checkVal !== 'function') throw new Error(\"Invalid validator \\\"\".concat(type, \"\\\", expected function\"));\n    var val = object[fieldName];\n    if (isOptional && val === undefined) return;\n    if (!checkVal(val, object)) {\n      throw new Error(\"Invalid param \".concat(String(fieldName), \"=\").concat(val, \" (\").concat(typeof val, \"), expected \").concat(type));\n    }\n  };\n  for (var _i = 0, _Object$entries = Object.entries(validators); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      fieldName = _Object$entries$_i[0],\n      type = _Object$entries$_i[1];\n    checkField(fieldName, type, false);\n  }\n  for (var _i2 = 0, _Object$entries2 = Object.entries(optValidators); _i2 < _Object$entries2.length; _i2++) {\n    var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),\n      _fieldName = _Object$entries2$_i[0],\n      _type = _Object$entries2$_i[1];\n    checkField(_fieldName, _type, true);\n  }\n  return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Utilities for modular arithmetics and finite fields\nimport { bitMask, numberToBytesBE, numberToBytesLE, bytesToNumberBE, bytesToNumberLE, ensureBytes, validateObject } from './utils.js';\n// prettier-ignore\nvar _0n = BigInt(0),\n  _1n = BigInt(1),\n  _2n = BigInt(2),\n  _3n = BigInt(3);\n// prettier-ignore\nvar _4n = BigInt(4),\n  _5n = BigInt(5),\n  _8n = BigInt(8);\n// prettier-ignore\nvar _9n = BigInt(9),\n  _16n = BigInt(16);\n// Calculates a modulo b\nexport function mod(a, b) {\n  var result = a % b;\n  return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\n// TODO: use field version && remove\nexport function pow(num, power, modulo) {\n  if (modulo <= _0n || power < _0n) throw new Error('Expected power/modulo > 0');\n  if (modulo === _1n) return _0n;\n  var res = _1n;\n  while (power > _0n) {\n    if (power & _1n) res = res * num % modulo;\n    num = num * num % modulo;\n    power >>= _1n;\n  }\n  return res;\n}\n// Does x ^ (2 ^ power) mod p. pow2(30, 4) == 30 ^ (2 ^ 4)\nexport function pow2(x, power, modulo) {\n  var res = x;\n  while (power-- > _0n) {\n    res *= res;\n    res %= modulo;\n  }\n  return res;\n}\n// Inverses number over modulo\nexport function invert(number, modulo) {\n  if (number === _0n || modulo <= _0n) {\n    throw new Error(\"invert: expected positive integers, got n=\".concat(number, \" mod=\").concat(modulo));\n  }\n  // Euclidean GCD https://brilliant.org/wiki/extended-euclidean-algorithm/\n  // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n  var a = mod(number, modulo);\n  var b = modulo;\n  // prettier-ignore\n  var x = _0n,\n    y = _1n,\n    u = _1n,\n    v = _0n;\n  while (a !== _0n) {\n    // JIT applies optimization if those two lines follow each other\n    var q = b / a;\n    var r = b % a;\n    var m = x - u * q;\n    var n = y - v * q;\n    // prettier-ignore\n    b = a, a = r, x = u, y = v, u = m, v = n;\n  }\n  var gcd = b;\n  if (gcd !== _1n) throw new Error('invert: does not exist');\n  return mod(x, modulo);\n}\n// Tonelli-Shanks algorithm\n// Paper 1: https://eprint.iacr.org/2012/685.pdf (page 12)\n// Paper 2: Square Roots from 1; 24, 51, 10 to Dan Shanks\nexport function tonelliShanks(P) {\n  // Legendre constant: used to calculate Legendre symbol (a | p),\n  // which denotes the value of a^((p-1)/2) (mod p).\n  // (a | p) ≡ 1    if a is a square (mod p)\n  // (a | p) ≡ -1   if a is not a square (mod p)\n  // (a | p) ≡ 0    if a ≡ 0 (mod p)\n  var legendreC = (P - _1n) / _2n;\n  var Q, S, Z;\n  // Step 1: By factoring out powers of 2 from p - 1,\n  // find q and s such that p - 1 = q*(2^s) with q odd\n  for (Q = P - _1n, S = 0; Q % _2n === _0n; Q /= _2n, S++) {\n    ;\n  }\n  // Step 2: Select a non-square z such that (z | p) ≡ -1 and set c ≡ zq\n  for (Z = _2n; Z < P && pow(Z, legendreC, P) !== P - _1n; Z++) {\n    ;\n  }\n  // Fast-path\n  if (S === 1) {\n    var p1div4 = (P + _1n) / _4n;\n    return function tonelliFast(Fp, n) {\n      var root = Fp.pow(n, p1div4);\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n  // Slow-path\n  var Q1div2 = (Q + _1n) / _2n;\n  return function tonelliSlow(Fp, n) {\n    // Step 0: Check that n is indeed a square: (n | p) should not be ≡ -1\n    if (Fp.pow(n, legendreC) === Fp.neg(Fp.ONE)) throw new Error('Cannot find square root');\n    var r = S;\n    // TODO: will fail at Fp2/etc\n    var g = Fp.pow(Fp.mul(Fp.ONE, Z), Q); // will update both x and b\n    var x = Fp.pow(n, Q1div2); // first guess at the square root\n    var b = Fp.pow(n, Q); // first guess at the fudge factor\n    while (!Fp.eql(b, Fp.ONE)) {\n      if (Fp.eql(b, Fp.ZERO)) return Fp.ZERO; // https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm (4. If t = 0, return r = 0)\n      // Find m such b^(2^m)==1\n      var m = 1;\n      for (var t2 = Fp.sqr(b); m < r; m++) {\n        if (Fp.eql(t2, Fp.ONE)) break;\n        t2 = Fp.sqr(t2); // t2 *= t2\n      }\n      // NOTE: r-m-1 can be bigger than 32, need to convert to bigint before shift, otherwise there will be overflow\n      var ge = Fp.pow(g, _1n << BigInt(r - m - 1)); // ge = 2^(r-m-1)\n      g = Fp.sqr(ge); // g = ge * ge\n      x = Fp.mul(x, ge); // x *= ge\n      b = Fp.mul(b, g); // b *= g\n      r = m;\n    }\n    return x;\n  };\n}\nexport function FpSqrt(P) {\n  // NOTE: different algorithms can give different roots, it is up to user to decide which one they want.\n  // For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n  // P ≡ 3 (mod 4)\n  // √n = n^((P+1)/4)\n  if (P % _4n === _3n) {\n    // Not all roots possible!\n    // const ORDER =\n    //   0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn;\n    // const NUM = 72057594037927816n;\n    var p1div4 = (P + _1n) / _4n;\n    return function sqrt3mod4(Fp, n) {\n      var root = Fp.pow(n, p1div4);\n      // Throw if root**2 != n\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n  // Atkin algorithm for q ≡ 5 (mod 8), https://eprint.iacr.org/2012/685.pdf (page 10)\n  if (P % _8n === _5n) {\n    var c1 = (P - _5n) / _8n;\n    return function sqrt5mod8(Fp, n) {\n      var n2 = Fp.mul(n, _2n);\n      var v = Fp.pow(n2, c1);\n      var nv = Fp.mul(n, v);\n      var i = Fp.mul(Fp.mul(nv, _2n), v);\n      var root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n      if (!Fp.eql(Fp.sqr(root), n)) throw new Error('Cannot find square root');\n      return root;\n    };\n  }\n  // P ≡ 9 (mod 16)\n  if (P % _16n === _9n) {\n    // NOTE: tonelli is too slow for bls-Fp2 calculations even on start\n    // Means we cannot use sqrt for constants at all!\n    //\n    // const c1 = Fp.sqrt(Fp.negate(Fp.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n    // const c2 = Fp.sqrt(c1);                //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n    // const c3 = Fp.sqrt(Fp.negate(c1));     //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n    // const c4 = (P + _7n) / _16n;           //  4. c4 = (q + 7) / 16        # Integer arithmetic\n    // sqrt = (x) => {\n    //   let tv1 = Fp.pow(x, c4);             //  1. tv1 = x^c4\n    //   let tv2 = Fp.mul(c1, tv1);           //  2. tv2 = c1 * tv1\n    //   const tv3 = Fp.mul(c2, tv1);         //  3. tv3 = c2 * tv1\n    //   let tv4 = Fp.mul(c3, tv1);           //  4. tv4 = c3 * tv1\n    //   const e1 = Fp.equals(Fp.square(tv2), x); //  5.  e1 = (tv2^2) == x\n    //   const e2 = Fp.equals(Fp.square(tv3), x); //  6.  e2 = (tv3^2) == x\n    //   tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n    //   tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n    //   const e3 = Fp.equals(Fp.square(tv2), x); //  9.  e3 = (tv2^2) == x\n    //   return Fp.cmov(tv1, tv2, e3); //  10.  z = CMOV(tv1, tv2, e3)  # Select the sqrt from tv1 and tv2\n    // }\n  }\n  // Other cases: Tonelli-Shanks algorithm\n  return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nexport var isNegativeLE = function isNegativeLE(num, modulo) {\n  return (mod(num, modulo) & _1n) === _1n;\n};\n// prettier-ignore\nvar FIELD_FIELDS = ['create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr', 'eql', 'add', 'sub', 'mul', 'pow', 'div', 'addN', 'subN', 'mulN', 'sqrN'];\nexport function validateField(field) {\n  var initial = {\n    ORDER: 'bigint',\n    MASK: 'bigint',\n    BYTES: 'isSafeInteger',\n    BITS: 'isSafeInteger'\n  };\n  var opts = FIELD_FIELDS.reduce(function (map, val) {\n    map[val] = 'function';\n    return map;\n  }, initial);\n  return validateObject(field, opts);\n}\n// Generic field functions\nexport function FpPow(f, num, power) {\n  // Should have same speed as pow for bigints\n  // TODO: benchmark!\n  if (power < _0n) throw new Error('Expected power > 0');\n  if (power === _0n) return f.ONE;\n  if (power === _1n) return num;\n  var p = f.ONE;\n  var d = num;\n  while (power > _0n) {\n    if (power & _1n) p = f.mul(p, d);\n    d = f.sqr(d);\n    power >>= _1n;\n  }\n  return p;\n}\n// 0 is non-invertible: non-batched version will throw on 0\nexport function FpInvertBatch(f, nums) {\n  var tmp = new Array(nums.length);\n  // Walk from first to last, multiply them by each other MOD p\n  var lastMultiplied = nums.reduce(function (acc, num, i) {\n    if (f.is0(num)) return acc;\n    tmp[i] = acc;\n    return f.mul(acc, num);\n  }, f.ONE);\n  // Invert last element\n  var inverted = f.inv(lastMultiplied);\n  // Walk from last to first, multiply them by inverted each other MOD p\n  nums.reduceRight(function (acc, num, i) {\n    if (f.is0(num)) return acc;\n    tmp[i] = f.mul(acc, tmp[i]);\n    return f.mul(acc, num);\n  }, inverted);\n  return tmp;\n}\nexport function FpDiv(f, lhs, rhs) {\n  return f.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, f.ORDER) : f.inv(rhs));\n}\n// This function returns True whenever the value x is a square in the field F.\nexport function FpIsSquare(f) {\n  var legendreConst = (f.ORDER - _1n) / _2n; // Integer arithmetic\n  return function (x) {\n    var p = f.pow(x, legendreConst);\n    return f.eql(p, f.ZERO) || f.eql(p, f.ONE);\n  };\n}\n// CURVE.n lengths\nexport function nLength(n, nBitLength) {\n  // Bit size, byte size of CURVE.n\n  var _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n  var nByteLength = Math.ceil(_nBitLength / 8);\n  return {\n    nBitLength: _nBitLength,\n    nByteLength: nByteLength\n  };\n}\n/**\n * Initializes a galois field over prime. Non-primes are not supported for now.\n * Do not init in loop: slow. Very fragile: always run a benchmark on change.\n * Major performance gains:\n * a) non-normalized operations like mulN instead of mul\n * b) `Object.freeze`\n * c) Same object shape: never add or remove keys\n * @param ORDER prime positive bigint\n * @param bitLen how many bits the field consumes\n * @param isLE (def: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nexport function Field(ORDER, bitLen) {\n  var isLE = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var redef = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  if (ORDER <= _0n) throw new Error(\"Expected Fp ORDER > 0, got \".concat(ORDER));\n  var _nLength = nLength(ORDER, bitLen),\n    BITS = _nLength.nBitLength,\n    BYTES = _nLength.nByteLength;\n  if (BYTES > 2048) throw new Error('Field lengths over 2048 bytes are not supported');\n  var sqrtP = FpSqrt(ORDER);\n  var f = Object.freeze({\n    ORDER: ORDER,\n    BITS: BITS,\n    BYTES: BYTES,\n    MASK: bitMask(BITS),\n    ZERO: _0n,\n    ONE: _1n,\n    create: function create(num) {\n      return mod(num, ORDER);\n    },\n    isValid: function isValid(num) {\n      if (typeof num !== 'bigint') throw new Error(\"Invalid field element: expected bigint, got \".concat(typeof num));\n      return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n    },\n\n    is0: function is0(num) {\n      return num === _0n;\n    },\n    isOdd: function isOdd(num) {\n      return (num & _1n) === _1n;\n    },\n    neg: function neg(num) {\n      return mod(-num, ORDER);\n    },\n    eql: function eql(lhs, rhs) {\n      return lhs === rhs;\n    },\n    sqr: function sqr(num) {\n      return mod(num * num, ORDER);\n    },\n    add: function add(lhs, rhs) {\n      return mod(lhs + rhs, ORDER);\n    },\n    sub: function sub(lhs, rhs) {\n      return mod(lhs - rhs, ORDER);\n    },\n    mul: function mul(lhs, rhs) {\n      return mod(lhs * rhs, ORDER);\n    },\n    pow: function pow(num, power) {\n      return FpPow(f, num, power);\n    },\n    div: function div(lhs, rhs) {\n      return mod(lhs * invert(rhs, ORDER), ORDER);\n    },\n    // Same as above, but doesn't normalize\n    sqrN: function sqrN(num) {\n      return num * num;\n    },\n    addN: function addN(lhs, rhs) {\n      return lhs + rhs;\n    },\n    subN: function subN(lhs, rhs) {\n      return lhs - rhs;\n    },\n    mulN: function mulN(lhs, rhs) {\n      return lhs * rhs;\n    },\n    inv: function inv(num) {\n      return invert(num, ORDER);\n    },\n    sqrt: redef.sqrt || function (n) {\n      return sqrtP(f, n);\n    },\n    invertBatch: function invertBatch(lst) {\n      return FpInvertBatch(f, lst);\n    },\n    // TODO: do we really need constant cmov?\n    // We don't have const-time bigints anyway, so probably will be not very useful\n    cmov: function cmov(a, b, c) {\n      return c ? b : a;\n    },\n    toBytes: function toBytes(num) {\n      return isLE ? numberToBytesLE(num, BYTES) : numberToBytesBE(num, BYTES);\n    },\n    fromBytes: function fromBytes(bytes) {\n      if (bytes.length !== BYTES) throw new Error(\"Fp.fromBytes: expected \".concat(BYTES, \", got \").concat(bytes.length));\n      return isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n    }\n  });\n  return Object.freeze(f);\n}\nexport function FpSqrtOdd(Fp, elm) {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  var root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nexport function FpSqrtEven(Fp, elm) {\n  if (!Fp.isOdd) throw new Error(\"Field doesn't have isOdd\");\n  var root = Fp.sqrt(elm);\n  return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * FIPS 186 B.4.1-compliant \"constant-time\" private key generation utility.\n * Can take (n+8) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 40 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. curveFn.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nexport function hashToPrivateScalar(hash, groupOrder) {\n  var isLE = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  hash = ensureBytes('privateHash', hash);\n  var hashLen = hash.length;\n  var minLen = nLength(groupOrder).nByteLength + 8;\n  if (minLen < 24 || hashLen < minLen || hashLen > 1024) throw new Error(\"hashToPrivateScalar: expected \".concat(minLen, \"-1024 bytes of input, got \").concat(hashLen));\n  var num = isLE ? bytesToNumberLE(hash) : bytesToNumberBE(hash);\n  return mod(num, groupOrder - _1n) + _1n;\n}","import _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Abelian group utilities\nimport { validateField, nLength } from './modular.js';\nimport { validateObject } from './utils.js';\nvar _0n = BigInt(0);\nvar _1n = BigInt(1);\n// Elliptic curve multiplication of Point by scalar. Fragile.\n// Scalars should always be less than curve order: this should be checked inside of a curve itself.\n// Creates precomputation tables for fast multiplication:\n// - private scalar is split by fixed size windows of W bits\n// - every window point is collected from window's table & added to accumulator\n// - since windows are different, same point inside tables won't be accessed more than once per calc\n// - each multiplication is 'Math.ceil(CURVE_ORDER / 𝑊) + 1' point additions (fixed for any scalar)\n// - +1 window is neccessary for wNAF\n// - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n// TODO: Research returning 2d JS array of windows, instead of a single window. This would allow\n// windows to be in different memory locations\nexport function wNAF(c, bits) {\n  var constTimeNegate = function constTimeNegate(condition, item) {\n    var neg = item.negate();\n    return condition ? neg : item;\n  };\n  var opts = function opts(W) {\n    var windows = Math.ceil(bits / W) + 1; // +1, because\n    var windowSize = Math.pow(2, W - 1); // -1 because we skip zero\n    return {\n      windows: windows,\n      windowSize: windowSize\n    };\n  };\n  return {\n    constTimeNegate: constTimeNegate,\n    // non-const time multiplication ladder\n    unsafeLadder: function unsafeLadder(elm, n) {\n      var p = c.ZERO;\n      var d = elm;\n      while (n > _0n) {\n        if (n & _1n) p = p.add(d);\n        d = d.double();\n        n >>= _1n;\n      }\n      return p;\n    },\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(𝑊−1) * (Math.ceil(𝑛 / 𝑊) + 1), where:\n     * - 𝑊 is the window size\n     * - 𝑛 is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow: function precomputeWindow(elm, W) {\n      var _opts = opts(W),\n        windows = _opts.windows,\n        windowSize = _opts.windowSize;\n      var points = [];\n      var p = elm;\n      var base = p;\n      for (var window = 0; window < windows; window++) {\n        base = p;\n        points.push(base);\n        // =1, because we skip zero\n        for (var i = 1; i < windowSize; i++) {\n          base = base.add(p);\n          points.push(base);\n        }\n        p = base.double();\n      }\n      return points;\n    },\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param W window size\n     * @param precomputes precomputed tables\n     * @param n scalar (we don't check here, but should be less than curve order)\n     * @returns real and fake (for const-time) points\n     */\n    wNAF: function wNAF(W, precomputes, n) {\n      // TODO: maybe check that scalar is less than group order? wNAF behavious is undefined otherwise\n      // But need to carefully remove other checks before wNAF. ORDER == bits here\n      var _opts2 = opts(W),\n        windows = _opts2.windows,\n        windowSize = _opts2.windowSize;\n      var p = c.ZERO;\n      var f = c.BASE;\n      var mask = BigInt(Math.pow(2, W) - 1); // Create mask with W ones: 0b1111 for W=4 etc.\n      var maxNumber = Math.pow(2, W);\n      var shiftBy = BigInt(W);\n      for (var window = 0; window < windows; window++) {\n        var offset = window * windowSize;\n        // Extract W bits.\n        var wbits = Number(n & mask);\n        // Shift number by W bits.\n        n >>= shiftBy;\n        // If the bits are bigger than max size, we'll split those.\n        // +224 => 256 - 32\n        if (wbits > windowSize) {\n          wbits -= maxNumber;\n          n += _1n;\n        }\n        // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n        // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n        // there is negate now: it is possible that negated element from low value\n        // would be the same as high element, which will create carry into next window.\n        // It's not obvious how this can fail, but still worth investigating later.\n        // Check if we're onto Zero point.\n        // Add random point inside current window to f.\n        var offset1 = offset;\n        var offset2 = offset + Math.abs(wbits) - 1; // -1 because we skip zero\n        var cond1 = window % 2 !== 0;\n        var cond2 = wbits < 0;\n        if (wbits === 0) {\n          // The most important part for const-time getPublicKey\n          f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n        } else {\n          p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n        }\n      }\n      // JIT-compiler should not eliminate f here, since it will later be used in normalizeZ()\n      // Even if the variable is still unused, there are some checks which will\n      // throw an exception, so compiler needs to prove they won't happen, which is hard.\n      // At this point there is a way to F be infinity-point even if p is not,\n      // which makes it less const-time: around 1 bigint multiply.\n      return {\n        p: p,\n        f: f\n      };\n    },\n    wNAFCached: function wNAFCached(P, precomputesMap, n, transform) {\n      // @ts-ignore\n      var W = P._WINDOW_SIZE || 1;\n      // Calculate precomputes on a first run, reuse them after\n      var comp = precomputesMap.get(P);\n      if (!comp) {\n        comp = this.precomputeWindow(P, W);\n        if (W !== 1) {\n          precomputesMap.set(P, transform(comp));\n        }\n      }\n      return this.wNAF(W, comp, n);\n    }\n  };\n}\nexport function validateBasic(curve) {\n  validateField(curve.Fp);\n  validateObject(curve, {\n    n: 'bigint',\n    h: 'bigint',\n    Gx: 'field',\n    Gy: 'field'\n  }, {\n    nBitLength: 'isSafeInteger',\n    nByteLength: 'isSafeInteger'\n  });\n  // Set defaults\n  return Object.freeze(_objectSpread(_objectSpread(_objectSpread({}, nLength(curve.n, curve.nBitLength)), curve), {\n    p: curve.Fp.ORDER\n  }));\n}","import _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _wrapNativeSuper from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Short Weierstrass curve. The formula is: y² = x³ + ax + b\nimport * as mod from './modular.js';\nimport * as ut from './utils.js';\nimport { ensureBytes } from './utils.js';\nimport { wNAF, validateBasic } from './curve.js';\nfunction validatePointOpts(curve) {\n  var opts = validateBasic(curve);\n  ut.validateObject(opts, {\n    a: 'field',\n    b: 'field'\n  }, {\n    allowedPrivateKeyLengths: 'array',\n    wrapPrivateKey: 'boolean',\n    isTorsionFree: 'function',\n    clearCofactor: 'function',\n    allowInfinityPoint: 'boolean',\n    fromBytes: 'function',\n    toBytes: 'function'\n  });\n  var endo = opts.endo,\n    Fp = opts.Fp,\n    a = opts.a;\n  if (endo) {\n    if (!Fp.eql(a, Fp.ZERO)) {\n      throw new Error('Endomorphism can only be defined for Koblitz curves that have a=0');\n    }\n    if (typeof endo !== 'object' || typeof endo.beta !== 'bigint' || typeof endo.splitScalar !== 'function') {\n      throw new Error('Expected endomorphism with beta: bigint and splitScalar: function');\n    }\n  }\n  return Object.freeze(_objectSpread({}, opts));\n}\n// ASN.1 DER encoding utilities\nvar b2n = ut.bytesToNumberBE,\n  h2b = ut.hexToBytes;\nexport var DER = {\n  // asn.1 DER encoding utils\n  Err: /*#__PURE__*/function (_Error) {\n    _inherits(DERErr, _Error);\n    var _super = _createSuper(DERErr);\n    function DERErr() {\n      var m = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      _classCallCheck(this, DERErr);\n      return _super.call(this, m);\n    }\n    return _createClass(DERErr);\n  }( /*#__PURE__*/_wrapNativeSuper(Error)),\n  _parseInt: function _parseInt(data) {\n    var E = DER.Err;\n    if (data.length < 2 || data[0] !== 0x02) throw new E('Invalid signature integer tag');\n    var len = data[1];\n    var res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) throw new E('Invalid signature integer: wrong length');\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    if (res[0] & 128) throw new E('Invalid signature integer: negative');\n    if (res[0] === 0x00 && !(res[1] & 128)) throw new E('Invalid signature integer: unnecessary leading zero');\n    return {\n      d: b2n(res),\n      l: data.subarray(len + 2)\n    }; // d is data, l is left\n  },\n  toSig: function toSig(hex) {\n    // parse DER signature\n    var E = DER.Err;\n    var data = typeof hex === 'string' ? h2b(hex) : hex;\n    if (!(data instanceof Uint8Array)) throw new Error('ui8a expected');\n    var l = data.length;\n    if (l < 2 || data[0] != 0x30) throw new E('Invalid signature tag');\n    if (data[1] !== l - 2) throw new E('Invalid signature: incorrect length');\n    var _DER$_parseInt = DER._parseInt(data.subarray(2)),\n      r = _DER$_parseInt.d,\n      sBytes = _DER$_parseInt.l;\n    var _DER$_parseInt2 = DER._parseInt(sBytes),\n      s = _DER$_parseInt2.d,\n      rBytesLeft = _DER$_parseInt2.l;\n    if (rBytesLeft.length) throw new E('Invalid signature: left bytes after parsing');\n    return {\n      r: r,\n      s: s\n    };\n  },\n  hexFromSig: function hexFromSig(sig) {\n    // Add leading zero if first byte has negative bit enabled. More details in '_parseInt'\n    var slice = function slice(s) {\n      return Number.parseInt(s[0], 16) & 8 ? '00' + s : s;\n    };\n    var h = function h(num) {\n      var hex = num.toString(16);\n      return hex.length & 1 ? \"0\".concat(hex) : hex;\n    };\n    var s = slice(h(sig.s));\n    var r = slice(h(sig.r));\n    var shl = s.length / 2;\n    var rhl = r.length / 2;\n    var sl = h(shl);\n    var rl = h(rhl);\n    return \"30\".concat(h(rhl + shl + 4), \"02\").concat(rl).concat(r, \"02\").concat(sl).concat(s);\n  }\n};\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nvar _0n = BigInt(0),\n  _1n = BigInt(1),\n  _2n = BigInt(2),\n  _3n = BigInt(3),\n  _4n = BigInt(4);\nexport function weierstrassPoints(opts) {\n  var CURVE = validatePointOpts(opts);\n  var Fp = CURVE.Fp; // All curves has same field / group length as for now, but they can differ\n  var toBytes = CURVE.toBytes || function (c, point, isCompressed) {\n    var a = point.toAffine();\n    return ut.concatBytes(Uint8Array.from([0x04]), Fp.toBytes(a.x), Fp.toBytes(a.y));\n  };\n  var fromBytes = CURVE.fromBytes || function (bytes) {\n    // const head = bytes[0];\n    var tail = bytes.subarray(1);\n    // if (head !== 0x04) throw new Error('Only non-compressed encoding is supported');\n    var x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n    var y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n    return {\n      x: x,\n      y: y\n    };\n  };\n  /**\n   * y² = x³ + ax + b: Short weierstrass curve formula\n   * @returns y²\n   */\n  function weierstrassEquation(x) {\n    var a = CURVE.a,\n      b = CURVE.b;\n    var x2 = Fp.sqr(x); // x * x\n    var x3 = Fp.mul(x2, x); // x2 * x\n    return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x3 + a * x + b\n  }\n  // Validate whether the passed curve params are valid.\n  // We check if curve equation works for generator point.\n  // `assertValidity()` won't work: `isTorsionFree()` is not available at this point in bls12-381.\n  // ProjectivePoint class has not been initialized yet.\n  if (!Fp.eql(Fp.sqr(CURVE.Gy), weierstrassEquation(CURVE.Gx))) throw new Error('bad generator point: equation left != right');\n  // Valid group elements reside in range 1..n-1\n  function isWithinCurveOrder(num) {\n    return typeof num === 'bigint' && _0n < num && num < CURVE.n;\n  }\n  function assertGE(num) {\n    if (!isWithinCurveOrder(num)) throw new Error('Expected valid bigint: 0 < bigint < curve.n');\n  }\n  // Validates if priv key is valid and converts it to bigint.\n  // Supports options allowedPrivateKeyLengths and wrapPrivateKey.\n  function normPrivateKeyToScalar(key) {\n    var lengths = CURVE.allowedPrivateKeyLengths,\n      nByteLength = CURVE.nByteLength,\n      wrapPrivateKey = CURVE.wrapPrivateKey,\n      n = CURVE.n;\n    if (lengths && typeof key !== 'bigint') {\n      if (key instanceof Uint8Array) key = ut.bytesToHex(key);\n      // Normalize to hex string, pad. E.g. P521 would norm 130-132 char hex to 132-char bytes\n      if (typeof key !== 'string' || !lengths.includes(key.length)) throw new Error('Invalid key');\n      key = key.padStart(nByteLength * 2, '0');\n    }\n    var num;\n    try {\n      num = typeof key === 'bigint' ? key : ut.bytesToNumberBE(ensureBytes('private key', key, nByteLength));\n    } catch (error) {\n      throw new Error(\"private key must be \".concat(nByteLength, \" bytes, hex or bigint, not \").concat(typeof key));\n    }\n    if (wrapPrivateKey) num = mod.mod(num, n); // disabled by default, enabled for BLS\n    assertGE(num); // num in range [1..N-1]\n    return num;\n  }\n  var pointPrecomputes = new Map();\n  function assertPrjPoint(other) {\n    if (!(other instanceof Point)) throw new Error('ProjectivePoint expected');\n  }\n  /**\n   * Projective Point works in 3d / projective (homogeneous) coordinates: (x, y, z) ∋ (x=x/z, y=y/z)\n   * Default Point works in 2d / affine coordinates: (x, y)\n   * We're doing calculations in projective, because its operations don't require costly inversion.\n   */\n  var Point = /*#__PURE__*/function () {\n    function Point(px, py, pz) {\n      _classCallCheck(this, Point);\n      this.px = px;\n      this.py = py;\n      this.pz = pz;\n      if (px == null || !Fp.isValid(px)) throw new Error('x required');\n      if (py == null || !Fp.isValid(py)) throw new Error('y required');\n      if (pz == null || !Fp.isValid(pz)) throw new Error('z required');\n    }\n    // Does not validate if the point is on-curve.\n    // Use fromHex instead, or call assertValidity() later.\n    _createClass(Point, [{\n      key: \"x\",\n      get: function get() {\n        return this.toAffine().x;\n      }\n    }, {\n      key: \"y\",\n      get: function get() {\n        return this.toAffine().y;\n      }\n      /**\n       * Takes a bunch of Projective Points but executes only one\n       * inversion on all of them. Inversion is very slow operation,\n       * so this improves performance massively.\n       * Optimization: converts a list of projective points to a list of identical points with Z=1.\n       */\n    }, {\n      key: \"_setWindowSize\",\n      value:\n      // \"Private method\", don't use it directly\n      function _setWindowSize(windowSize) {\n        this._WINDOW_SIZE = windowSize;\n        pointPrecomputes.delete(this);\n      }\n      // A point on curve is valid if it conforms to equation.\n    }, {\n      key: \"assertValidity\",\n      value: function assertValidity() {\n        // Zero is valid point too!\n        if (this.is0()) {\n          if (CURVE.allowInfinityPoint) return;\n          throw new Error('bad point: ZERO');\n        }\n        // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n        var _this$toAffine = this.toAffine(),\n          x = _this$toAffine.x,\n          y = _this$toAffine.y;\n        // Check if x, y are valid field elements\n        if (!Fp.isValid(x) || !Fp.isValid(y)) throw new Error('bad point: x or y not FE');\n        var left = Fp.sqr(y); // y²\n        var right = weierstrassEquation(x); // x³ + ax + b\n        if (!Fp.eql(left, right)) throw new Error('bad point: equation left != right');\n        if (!this.isTorsionFree()) throw new Error('bad point: not in prime-order subgroup');\n      }\n    }, {\n      key: \"hasEvenY\",\n      value: function hasEvenY() {\n        var _this$toAffine2 = this.toAffine(),\n          y = _this$toAffine2.y;\n        if (Fp.isOdd) return !Fp.isOdd(y);\n        throw new Error(\"Field doesn't support isOdd\");\n      }\n      /**\n       * Compare one point to another.\n       */\n    }, {\n      key: \"equals\",\n      value: function equals(other) {\n        assertPrjPoint(other);\n        var X1 = this.px,\n          Y1 = this.py,\n          Z1 = this.pz;\n        var X2 = other.px,\n          Y2 = other.py,\n          Z2 = other.pz;\n        var U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n        var U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n        return U1 && U2;\n      }\n      /**\n       * Flips point to one corresponding to (x, -y) in Affine coordinates.\n       */\n    }, {\n      key: \"negate\",\n      value: function negate() {\n        return new Point(this.px, Fp.neg(this.py), this.pz);\n      }\n      // Renes-Costello-Batina exception-free doubling formula.\n      // There is 30% faster Jacobian formula, but it is not complete.\n      // https://eprint.iacr.org/2015/1060, algorithm 3\n      // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n    }, {\n      key: \"double\",\n      value: function double() {\n        var a = CURVE.a,\n          b = CURVE.b;\n        var b3 = Fp.mul(b, _3n);\n        var X1 = this.px,\n          Y1 = this.py,\n          Z1 = this.pz;\n        var X3 = Fp.ZERO,\n          Y3 = Fp.ZERO,\n          Z3 = Fp.ZERO; // prettier-ignore\n        var t0 = Fp.mul(X1, X1); // step 1\n        var t1 = Fp.mul(Y1, Y1);\n        var t2 = Fp.mul(Z1, Z1);\n        var t3 = Fp.mul(X1, Y1);\n        t3 = Fp.add(t3, t3); // step 5\n        Z3 = Fp.mul(X1, Z1);\n        Z3 = Fp.add(Z3, Z3);\n        X3 = Fp.mul(a, Z3);\n        Y3 = Fp.mul(b3, t2);\n        Y3 = Fp.add(X3, Y3); // step 10\n        X3 = Fp.sub(t1, Y3);\n        Y3 = Fp.add(t1, Y3);\n        Y3 = Fp.mul(X3, Y3);\n        X3 = Fp.mul(t3, X3);\n        Z3 = Fp.mul(b3, Z3); // step 15\n        t2 = Fp.mul(a, t2);\n        t3 = Fp.sub(t0, t2);\n        t3 = Fp.mul(a, t3);\n        t3 = Fp.add(t3, Z3);\n        Z3 = Fp.add(t0, t0); // step 20\n        t0 = Fp.add(Z3, t0);\n        t0 = Fp.add(t0, t2);\n        t0 = Fp.mul(t0, t3);\n        Y3 = Fp.add(Y3, t0);\n        t2 = Fp.mul(Y1, Z1); // step 25\n        t2 = Fp.add(t2, t2);\n        t0 = Fp.mul(t2, t3);\n        X3 = Fp.sub(X3, t0);\n        Z3 = Fp.mul(t2, t1);\n        Z3 = Fp.add(Z3, Z3); // step 30\n        Z3 = Fp.add(Z3, Z3);\n        return new Point(X3, Y3, Z3);\n      }\n      // Renes-Costello-Batina exception-free addition formula.\n      // There is 30% faster Jacobian formula, but it is not complete.\n      // https://eprint.iacr.org/2015/1060, algorithm 1\n      // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n    }, {\n      key: \"add\",\n      value: function add(other) {\n        assertPrjPoint(other);\n        var X1 = this.px,\n          Y1 = this.py,\n          Z1 = this.pz;\n        var X2 = other.px,\n          Y2 = other.py,\n          Z2 = other.pz;\n        var X3 = Fp.ZERO,\n          Y3 = Fp.ZERO,\n          Z3 = Fp.ZERO; // prettier-ignore\n        var a = CURVE.a;\n        var b3 = Fp.mul(CURVE.b, _3n);\n        var t0 = Fp.mul(X1, X2); // step 1\n        var t1 = Fp.mul(Y1, Y2);\n        var t2 = Fp.mul(Z1, Z2);\n        var t3 = Fp.add(X1, Y1);\n        var t4 = Fp.add(X2, Y2); // step 5\n        t3 = Fp.mul(t3, t4);\n        t4 = Fp.add(t0, t1);\n        t3 = Fp.sub(t3, t4);\n        t4 = Fp.add(X1, Z1);\n        var t5 = Fp.add(X2, Z2); // step 10\n        t4 = Fp.mul(t4, t5);\n        t5 = Fp.add(t0, t2);\n        t4 = Fp.sub(t4, t5);\n        t5 = Fp.add(Y1, Z1);\n        X3 = Fp.add(Y2, Z2); // step 15\n        t5 = Fp.mul(t5, X3);\n        X3 = Fp.add(t1, t2);\n        t5 = Fp.sub(t5, X3);\n        Z3 = Fp.mul(a, t4);\n        X3 = Fp.mul(b3, t2); // step 20\n        Z3 = Fp.add(X3, Z3);\n        X3 = Fp.sub(t1, Z3);\n        Z3 = Fp.add(t1, Z3);\n        Y3 = Fp.mul(X3, Z3);\n        t1 = Fp.add(t0, t0); // step 25\n        t1 = Fp.add(t1, t0);\n        t2 = Fp.mul(a, t2);\n        t4 = Fp.mul(b3, t4);\n        t1 = Fp.add(t1, t2);\n        t2 = Fp.sub(t0, t2); // step 30\n        t2 = Fp.mul(a, t2);\n        t4 = Fp.add(t4, t2);\n        t0 = Fp.mul(t1, t4);\n        Y3 = Fp.add(Y3, t0);\n        t0 = Fp.mul(t5, t4); // step 35\n        X3 = Fp.mul(t3, X3);\n        X3 = Fp.sub(X3, t0);\n        t0 = Fp.mul(t3, t1);\n        Z3 = Fp.mul(t5, Z3);\n        Z3 = Fp.add(Z3, t0); // step 40\n        return new Point(X3, Y3, Z3);\n      }\n    }, {\n      key: \"subtract\",\n      value: function subtract(other) {\n        return this.add(other.negate());\n      }\n    }, {\n      key: \"is0\",\n      value: function is0() {\n        return this.equals(Point.ZERO);\n      }\n    }, {\n      key: \"wNAF\",\n      value: function wNAF(n) {\n        return wnaf.wNAFCached(this, pointPrecomputes, n, function (comp) {\n          var toInv = Fp.invertBatch(comp.map(function (p) {\n            return p.pz;\n          }));\n          return comp.map(function (p, i) {\n            return p.toAffine(toInv[i]);\n          }).map(Point.fromAffine);\n        });\n      }\n      /**\n       * Non-constant-time multiplication. Uses double-and-add algorithm.\n       * It's faster, but should only be used when you don't care about\n       * an exposed private key e.g. sig verification, which works over *public* keys.\n       */\n    }, {\n      key: \"multiplyUnsafe\",\n      value: function multiplyUnsafe(n) {\n        var I = Point.ZERO;\n        if (n === _0n) return I;\n        assertGE(n); // Will throw on 0\n        if (n === _1n) return this;\n        var endo = CURVE.endo;\n        if (!endo) return wnaf.unsafeLadder(this, n);\n        // Apply endomorphism\n        var _endo$splitScalar = endo.splitScalar(n),\n          k1neg = _endo$splitScalar.k1neg,\n          k1 = _endo$splitScalar.k1,\n          k2neg = _endo$splitScalar.k2neg,\n          k2 = _endo$splitScalar.k2;\n        var k1p = I;\n        var k2p = I;\n        var d = this;\n        while (k1 > _0n || k2 > _0n) {\n          if (k1 & _1n) k1p = k1p.add(d);\n          if (k2 & _1n) k2p = k2p.add(d);\n          d = d.double();\n          k1 >>= _1n;\n          k2 >>= _1n;\n        }\n        if (k1neg) k1p = k1p.negate();\n        if (k2neg) k2p = k2p.negate();\n        k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n        return k1p.add(k2p);\n      }\n      /**\n       * Constant time multiplication.\n       * Uses wNAF method. Windowed method may be 10% faster,\n       * but takes 2x longer to generate and consumes 2x memory.\n       * Uses precomputes when available.\n       * Uses endomorphism for Koblitz curves.\n       * @param scalar by which the point would be multiplied\n       * @returns New point\n       */\n    }, {\n      key: \"multiply\",\n      value: function multiply(scalar) {\n        assertGE(scalar);\n        var n = scalar;\n        var point, fake; // Fake point is used to const-time mult\n        var endo = CURVE.endo;\n        if (endo) {\n          var _endo$splitScalar2 = endo.splitScalar(n),\n            k1neg = _endo$splitScalar2.k1neg,\n            k1 = _endo$splitScalar2.k1,\n            k2neg = _endo$splitScalar2.k2neg,\n            k2 = _endo$splitScalar2.k2;\n          var _this$wNAF = this.wNAF(k1),\n            k1p = _this$wNAF.p,\n            f1p = _this$wNAF.f;\n          var _this$wNAF2 = this.wNAF(k2),\n            k2p = _this$wNAF2.p,\n            f2p = _this$wNAF2.f;\n          k1p = wnaf.constTimeNegate(k1neg, k1p);\n          k2p = wnaf.constTimeNegate(k2neg, k2p);\n          k2p = new Point(Fp.mul(k2p.px, endo.beta), k2p.py, k2p.pz);\n          point = k1p.add(k2p);\n          fake = f1p.add(f2p);\n        } else {\n          var _this$wNAF3 = this.wNAF(n),\n            p = _this$wNAF3.p,\n            f = _this$wNAF3.f;\n          point = p;\n          fake = f;\n        }\n        // Normalize `z` for both points, but return only real one\n        return Point.normalizeZ([point, fake])[0];\n      }\n      /**\n       * Efficiently calculate `aP + bQ`. Unsafe, can expose private key, if used incorrectly.\n       * Not using Strauss-Shamir trick: precomputation tables are faster.\n       * The trick could be useful if both P and Q are not G (not in our case).\n       * @returns non-zero affine point\n       */\n    }, {\n      key: \"multiplyAndAddUnsafe\",\n      value: function multiplyAndAddUnsafe(Q, a, b) {\n        var G = Point.BASE; // No Strauss-Shamir trick: we have 10% faster G precomputes\n        var mul = function mul(P, a // Select faster multiply() method\n        ) {\n          return a === _0n || a === _1n || !P.equals(G) ? P.multiplyUnsafe(a) : P.multiply(a);\n        };\n        var sum = mul(this, a).add(mul(Q, b));\n        return sum.is0() ? undefined : sum;\n      }\n      // Converts Projective point to affine (x, y) coordinates.\n      // Can accept precomputed Z^-1 - for example, from invertBatch.\n      // (x, y, z) ∋ (x=x/z, y=y/z)\n    }, {\n      key: \"toAffine\",\n      value: function toAffine(iz) {\n        var x = this.px,\n          y = this.py,\n          z = this.pz;\n        var is0 = this.is0();\n        // If invZ was 0, we return zero point. However we still want to execute\n        // all operations, so we replace invZ with a random number, 1.\n        if (iz == null) iz = is0 ? Fp.ONE : Fp.inv(z);\n        var ax = Fp.mul(x, iz);\n        var ay = Fp.mul(y, iz);\n        var zz = Fp.mul(z, iz);\n        if (is0) return {\n          x: Fp.ZERO,\n          y: Fp.ZERO\n        };\n        if (!Fp.eql(zz, Fp.ONE)) throw new Error('invZ was invalid');\n        return {\n          x: ax,\n          y: ay\n        };\n      }\n    }, {\n      key: \"isTorsionFree\",\n      value: function isTorsionFree() {\n        var cofactor = CURVE.h,\n          isTorsionFree = CURVE.isTorsionFree;\n        if (cofactor === _1n) return true; // No subgroups, always torsion-free\n        if (isTorsionFree) return isTorsionFree(Point, this);\n        throw new Error('isTorsionFree() has not been declared for the elliptic curve');\n      }\n    }, {\n      key: \"clearCofactor\",\n      value: function clearCofactor() {\n        var cofactor = CURVE.h,\n          clearCofactor = CURVE.clearCofactor;\n        if (cofactor === _1n) return this; // Fast-path\n        if (clearCofactor) return clearCofactor(Point, this);\n        return this.multiplyUnsafe(CURVE.h);\n      }\n    }, {\n      key: \"toRawBytes\",\n      value: function toRawBytes() {\n        var isCompressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        this.assertValidity();\n        return toBytes(Point, this, isCompressed);\n      }\n    }, {\n      key: \"toHex\",\n      value: function toHex() {\n        var isCompressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        return ut.bytesToHex(this.toRawBytes(isCompressed));\n      }\n    }], [{\n      key: \"fromAffine\",\n      value: function fromAffine(p) {\n        var _ref = p || {},\n          x = _ref.x,\n          y = _ref.y;\n        if (!p || !Fp.isValid(x) || !Fp.isValid(y)) throw new Error('invalid affine point');\n        if (p instanceof Point) throw new Error('projective point not allowed');\n        var is0 = function is0(i) {\n          return Fp.eql(i, Fp.ZERO);\n        };\n        // fromAffine(x:0, y:0) would produce (x:0, y:0, z:1), but we need (x:0, y:1, z:0)\n        if (is0(x) && is0(y)) return Point.ZERO;\n        return new Point(x, y, Fp.ONE);\n      }\n    }, {\n      key: \"normalizeZ\",\n      value: function normalizeZ(points) {\n        var toInv = Fp.invertBatch(points.map(function (p) {\n          return p.pz;\n        }));\n        return points.map(function (p, i) {\n          return p.toAffine(toInv[i]);\n        }).map(Point.fromAffine);\n      }\n      /**\n       * Converts hash string or Uint8Array to Point.\n       * @param hex short/long ECDSA hex\n       */\n    }, {\n      key: \"fromHex\",\n      value: function fromHex(hex) {\n        var P = Point.fromAffine(fromBytes(ensureBytes('pointHex', hex)));\n        P.assertValidity();\n        return P;\n      }\n      // Multiplies generator point by privateKey.\n    }, {\n      key: \"fromPrivateKey\",\n      value: function fromPrivateKey(privateKey) {\n        return Point.BASE.multiply(normPrivateKeyToScalar(privateKey));\n      }\n    }]);\n    return Point;\n  }();\n  Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n  Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO);\n  var _bits = CURVE.nBitLength;\n  var wnaf = wNAF(Point, CURVE.endo ? Math.ceil(_bits / 2) : _bits);\n  // Validate if generator point is on curve\n  return {\n    CURVE: CURVE,\n    ProjectivePoint: Point,\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n    weierstrassEquation: weierstrassEquation,\n    isWithinCurveOrder: isWithinCurveOrder\n  };\n}\nfunction validateOpts(curve) {\n  var opts = validateBasic(curve);\n  ut.validateObject(opts, {\n    hash: 'hash',\n    hmac: 'function',\n    randomBytes: 'function'\n  }, {\n    bits2int: 'function',\n    bits2int_modN: 'function',\n    lowS: 'boolean'\n  });\n  return Object.freeze(_objectSpread({\n    lowS: true\n  }, opts));\n}\nexport function weierstrass(curveDef) {\n  var CURVE = validateOpts(curveDef);\n  var Fp = CURVE.Fp,\n    CURVE_ORDER = CURVE.n;\n  var compressedLen = Fp.BYTES + 1; // e.g. 33 for 32\n  var uncompressedLen = 2 * Fp.BYTES + 1; // e.g. 65 for 32\n  function isValidFieldElement(num) {\n    return _0n < num && num < Fp.ORDER; // 0 is banned since it's not invertible FE\n  }\n\n  function modN(a) {\n    return mod.mod(a, CURVE_ORDER);\n  }\n  function invN(a) {\n    return mod.invert(a, CURVE_ORDER);\n  }\n  var _weierstrassPoints = weierstrassPoints(_objectSpread(_objectSpread({}, CURVE), {}, {\n      toBytes: function toBytes(c, point, isCompressed) {\n        var a = point.toAffine();\n        var x = Fp.toBytes(a.x);\n        var cat = ut.concatBytes;\n        if (isCompressed) {\n          return cat(Uint8Array.from([point.hasEvenY() ? 0x02 : 0x03]), x);\n        } else {\n          return cat(Uint8Array.from([0x04]), x, Fp.toBytes(a.y));\n        }\n      },\n      fromBytes: function fromBytes(bytes) {\n        var len = bytes.length;\n        var head = bytes[0];\n        var tail = bytes.subarray(1);\n        // this.assertValidity() is done inside of fromHex\n        if (len === compressedLen && (head === 0x02 || head === 0x03)) {\n          var x = ut.bytesToNumberBE(tail);\n          if (!isValidFieldElement(x)) throw new Error('Point is not on curve');\n          var y2 = weierstrassEquation(x); // y² = x³ + ax + b\n          var y = Fp.sqrt(y2); // y = y² ^ (p+1)/4\n          var isYOdd = (y & _1n) === _1n;\n          // ECDSA\n          var isHeadOdd = (head & 1) === 1;\n          if (isHeadOdd !== isYOdd) y = Fp.neg(y);\n          return {\n            x: x,\n            y: y\n          };\n        } else if (len === uncompressedLen && head === 0x04) {\n          var _x = Fp.fromBytes(tail.subarray(0, Fp.BYTES));\n          var _y = Fp.fromBytes(tail.subarray(Fp.BYTES, 2 * Fp.BYTES));\n          return {\n            x: _x,\n            y: _y\n          };\n        } else {\n          throw new Error(\"Point of length \".concat(len, \" was invalid. Expected \").concat(compressedLen, \" compressed bytes or \").concat(uncompressedLen, \" uncompressed bytes\"));\n        }\n      }\n    })),\n    Point = _weierstrassPoints.ProjectivePoint,\n    normPrivateKeyToScalar = _weierstrassPoints.normPrivateKeyToScalar,\n    weierstrassEquation = _weierstrassPoints.weierstrassEquation,\n    isWithinCurveOrder = _weierstrassPoints.isWithinCurveOrder;\n  var numToNByteStr = function numToNByteStr(num) {\n    return ut.bytesToHex(ut.numberToBytesBE(num, CURVE.nByteLength));\n  };\n  function isBiggerThanHalfOrder(number) {\n    var HALF = CURVE_ORDER >> _1n;\n    return number > HALF;\n  }\n  function normalizeS(s) {\n    return isBiggerThanHalfOrder(s) ? modN(-s) : s;\n  }\n  // slice bytes num\n  var slcNum = function slcNum(b, from, to) {\n    return ut.bytesToNumberBE(b.slice(from, to));\n  };\n  /**\n   * ECDSA signature with its (r, s) properties. Supports DER & compact representations.\n   */\n  var Signature = /*#__PURE__*/function () {\n    function Signature(r, s, recovery) {\n      _classCallCheck(this, Signature);\n      this.r = r;\n      this.s = s;\n      this.recovery = recovery;\n      this.assertValidity();\n    }\n    // pair (bytes of r, bytes of s)\n    _createClass(Signature, [{\n      key: \"assertValidity\",\n      value: function assertValidity() {\n        // can use assertGE here\n        if (!isWithinCurveOrder(this.r)) throw new Error('r must be 0 < r < CURVE.n');\n        if (!isWithinCurveOrder(this.s)) throw new Error('s must be 0 < s < CURVE.n');\n      }\n    }, {\n      key: \"addRecoveryBit\",\n      value: function addRecoveryBit(recovery) {\n        return new Signature(this.r, this.s, recovery);\n      }\n    }, {\n      key: \"recoverPublicKey\",\n      value: function recoverPublicKey(msgHash) {\n        var r = this.r,\n          s = this.s,\n          rec = this.recovery;\n        var h = bits2int_modN(ensureBytes('msgHash', msgHash)); // Truncate hash\n        if (rec == null || ![0, 1, 2, 3].includes(rec)) throw new Error('recovery id invalid');\n        var radj = rec === 2 || rec === 3 ? r + CURVE.n : r;\n        if (radj >= Fp.ORDER) throw new Error('recovery id 2 or 3 invalid');\n        var prefix = (rec & 1) === 0 ? '02' : '03';\n        var R = Point.fromHex(prefix + numToNByteStr(radj));\n        var ir = invN(radj); // r^-1\n        var u1 = modN(-h * ir); // -hr^-1\n        var u2 = modN(s * ir); // sr^-1\n        var Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2); // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1)\n        if (!Q) throw new Error('point at infinify'); // unsafe is fine: no priv data leaked\n        Q.assertValidity();\n        return Q;\n      }\n      // Signatures should be low-s, to prevent malleability.\n    }, {\n      key: \"hasHighS\",\n      value: function hasHighS() {\n        return isBiggerThanHalfOrder(this.s);\n      }\n    }, {\n      key: \"normalizeS\",\n      value: function normalizeS() {\n        return this.hasHighS() ? new Signature(this.r, modN(-this.s), this.recovery) : this;\n      }\n      // DER-encoded\n    }, {\n      key: \"toDERRawBytes\",\n      value: function toDERRawBytes() {\n        return ut.hexToBytes(this.toDERHex());\n      }\n    }, {\n      key: \"toDERHex\",\n      value: function toDERHex() {\n        return DER.hexFromSig({\n          r: this.r,\n          s: this.s\n        });\n      }\n      // padded bytes of r, then padded bytes of s\n    }, {\n      key: \"toCompactRawBytes\",\n      value: function toCompactRawBytes() {\n        return ut.hexToBytes(this.toCompactHex());\n      }\n    }, {\n      key: \"toCompactHex\",\n      value: function toCompactHex() {\n        return numToNByteStr(this.r) + numToNByteStr(this.s);\n      }\n    }], [{\n      key: \"fromCompact\",\n      value: function fromCompact(hex) {\n        var l = CURVE.nByteLength;\n        hex = ensureBytes('compactSignature', hex, l * 2);\n        return new Signature(slcNum(hex, 0, l), slcNum(hex, l, 2 * l));\n      }\n      // DER encoded ECDSA signature\n      // https://bitcoin.stackexchange.com/questions/57644/what-are-the-parts-of-a-bitcoin-transaction-input-script\n    }, {\n      key: \"fromDER\",\n      value: function fromDER(hex) {\n        var _DER$toSig = DER.toSig(ensureBytes('DER', hex)),\n          r = _DER$toSig.r,\n          s = _DER$toSig.s;\n        return new Signature(r, s);\n      }\n    }]);\n    return Signature;\n  }();\n  var utils = {\n    isValidPrivateKey: function isValidPrivateKey(privateKey) {\n      try {\n        normPrivateKeyToScalar(privateKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    },\n    normPrivateKeyToScalar: normPrivateKeyToScalar,\n    /**\n     * Produces cryptographically secure private key from random of size (nBitLength+64)\n     * as per FIPS 186 B.4.1 with modulo bias being neglible.\n     */\n    randomPrivateKey: function randomPrivateKey() {\n      var rand = CURVE.randomBytes(Fp.BYTES + 8);\n      var num = mod.hashToPrivateScalar(rand, CURVE_ORDER);\n      return ut.numberToBytesBE(num, CURVE.nByteLength);\n    },\n    /**\n     * Creates precompute table for an arbitrary EC point. Makes point \"cached\".\n     * Allows to massively speed-up `point.multiply(scalar)`.\n     * @returns cached point\n     * @example\n     * const fast = utils.precompute(8, ProjectivePoint.fromHex(someonesPubKey));\n     * fast.multiply(privKey); // much faster ECDH now\n     */\n    precompute: function precompute() {\n      var windowSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n      var point = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Point.BASE;\n      point._setWindowSize(windowSize);\n      point.multiply(BigInt(3)); // 3 is arbitrary, just need any number here\n      return point;\n    }\n  };\n  /**\n   * Computes public key for a private key. Checks for validity of the private key.\n   * @param privateKey private key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns Public key, full when isCompressed=false; short when isCompressed=true\n   */\n  function getPublicKey(privateKey) {\n    var isCompressed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n  }\n  /**\n   * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n   */\n  function isProbPub(item) {\n    var arr = item instanceof Uint8Array;\n    var str = typeof item === 'string';\n    var len = (arr || str) && item.length;\n    if (arr) return len === compressedLen || len === uncompressedLen;\n    if (str) return len === 2 * compressedLen || len === 2 * uncompressedLen;\n    if (item instanceof Point) return true;\n    return false;\n  }\n  /**\n   * ECDH (Elliptic Curve Diffie Hellman).\n   * Computes shared public key from private key and public key.\n   * Checks: 1) private key validity 2) shared key is on-curve.\n   * Does NOT hash the result.\n   * @param privateA private key\n   * @param publicB different public key\n   * @param isCompressed whether to return compact (default), or full key\n   * @returns shared public key\n   */\n  function getSharedSecret(privateA, publicB) {\n    var isCompressed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    if (isProbPub(privateA)) throw new Error('first arg must be private key');\n    if (!isProbPub(publicB)) throw new Error('second arg must be public key');\n    var b = Point.fromHex(publicB); // check for being on-curve\n    return b.multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed);\n  }\n  // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n  // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n  // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n  // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n  var bits2int = CURVE.bits2int || function (bytes) {\n    // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n    // for some cases, since bytes.length * 8 is not actual bitLength.\n    var num = ut.bytesToNumberBE(bytes); // check for == u8 done here\n    var delta = bytes.length * 8 - CURVE.nBitLength; // truncate to nBitLength leftmost bits\n    return delta > 0 ? num >> BigInt(delta) : num;\n  };\n  var bits2int_modN = CURVE.bits2int_modN || function (bytes) {\n    return modN(bits2int(bytes)); // can't use bytesToNumberBE here\n  };\n  // NOTE: pads output with zero as per spec\n  var ORDER_MASK = ut.bitMask(CURVE.nBitLength);\n  /**\n   * Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`.\n   */\n  function int2octets(num) {\n    if (typeof num !== 'bigint') throw new Error('bigint expected');\n    if (!(_0n <= num && num < ORDER_MASK)) throw new Error(\"bigint expected < 2^\".concat(CURVE.nBitLength));\n    // works with order, can have different size than numToField!\n    return ut.numberToBytesBE(num, CURVE.nByteLength);\n  }\n  // Steps A, D of RFC6979 3.2\n  // Creates RFC6979 seed; converts msg/privKey to numbers.\n  // Used only in sign, not in verify.\n  // NOTE: we cannot assume here that msgHash has same amount of bytes as curve order, this will be wrong at least for P521.\n  // Also it can be bigger for P224 + SHA256\n  function prepSig(msgHash, privateKey) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultSigOpts;\n    if (['recovered', 'canonical'].some(function (k) {\n      return k in opts;\n    })) throw new Error('sign() legacy options not supported');\n    var hash = CURVE.hash,\n      randomBytes = CURVE.randomBytes;\n    var lowS = opts.lowS,\n      prehash = opts.prehash,\n      ent = opts.extraEntropy; // generates low-s sigs by default\n    if (lowS == null) lowS = true; // RFC6979 3.2: we skip step A, because we already provide hash\n    msgHash = ensureBytes('msgHash', msgHash);\n    if (prehash) msgHash = ensureBytes('prehashed msgHash', hash(msgHash));\n    // We can't later call bits2octets, since nested bits2int is broken for curves\n    // with nBitLength % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n    // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n    var h1int = bits2int_modN(msgHash);\n    var d = normPrivateKeyToScalar(privateKey); // validate private key, convert to bigint\n    var seedArgs = [int2octets(d), int2octets(h1int)];\n    // extraEntropy. RFC6979 3.6: additional k' (optional).\n    if (ent != null) {\n      // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n      var e = ent === true ? randomBytes(Fp.BYTES) : ent; // generate random bytes OR pass as-is\n      seedArgs.push(ensureBytes('extraEntropy', e, Fp.BYTES)); // check for being of size BYTES\n    }\n\n    var seed = ut.concatBytes.apply(ut, seedArgs); // Step D of RFC6979 3.2\n    var m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n    // Converts signature params into point w r/s, checks result for validity.\n    function k2sig(kBytes) {\n      // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n      var k = bits2int(kBytes); // Cannot use fields methods, since it is group element\n      if (!isWithinCurveOrder(k)) return; // Important: all mod() calls here must be done over N\n      var ik = invN(k); // k^-1 mod n\n      var q = Point.BASE.multiply(k).toAffine(); // q = Gk\n      var r = modN(q.x); // r = q.x mod n\n      if (r === _0n) return;\n      // Can use scalar blinding b^-1(bm + bdr) where b ∈ [1,q−1] according to\n      // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n      // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n      var s = modN(ik * modN(m + r * d)); // Not using blinding here\n      if (s === _0n) return;\n      var recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n      var normS = s;\n      if (lowS && isBiggerThanHalfOrder(s)) {\n        normS = normalizeS(s); // if lowS was passed, ensure s is always\n        recovery ^= 1; // // in the bottom half of N\n      }\n\n      return new Signature(r, normS, recovery); // use normS, not s\n    }\n\n    return {\n      seed: seed,\n      k2sig: k2sig\n    };\n  }\n  var defaultSigOpts = {\n    lowS: CURVE.lowS,\n    prehash: false\n  };\n  var defaultVerOpts = {\n    lowS: CURVE.lowS,\n    prehash: false\n  };\n  /**\n   * Signs message hash with a private key.\n   * ```\n   * sign(m, d, k) where\n   *   (x, y) = G × k\n   *   r = x mod n\n   *   s = (m + dr)/k mod n\n   * ```\n   * @param msgHash NOT message. msg needs to be hashed to `msgHash`, or use `prehash`.\n   * @param privKey private key\n   * @param opts lowS for non-malleable sigs. extraEntropy for mixing randomness into k. prehash will hash first arg.\n   * @returns signature with recovery param\n   */\n  function sign(msgHash, privKey) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultSigOpts;\n    var _prepSig = prepSig(msgHash, privKey, opts),\n      seed = _prepSig.seed,\n      k2sig = _prepSig.k2sig; // Steps A, D of RFC6979 3.2.\n    var C = CURVE;\n    var drbg = ut.createHmacDrbg(C.hash.outputLen, C.nByteLength, C.hmac);\n    return drbg(seed, k2sig); // Steps B, C, D, E, F, G\n  }\n  // Enable precomputes. Slows down first publicKey computation by 20ms.\n  Point.BASE._setWindowSize(8);\n  // utils.precompute(8, ProjectivePoint.BASE)\n  /**\n   * Verifies a signature against message hash and public key.\n   * Rejects lowS signatures by default: to override,\n   * specify option `{lowS: false}`. Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n   *\n   * ```\n   * verify(r, s, h, P) where\n   *   U1 = hs^-1 mod n\n   *   U2 = rs^-1 mod n\n   *   R = U1⋅G - U2⋅P\n   *   mod(R.x, n) == r\n   * ```\n   */\n  function verify(signature, msgHash, publicKey) {\n    var _Point$BASE$multiplyA;\n    var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultVerOpts;\n    var sg = signature;\n    msgHash = ensureBytes('msgHash', msgHash);\n    publicKey = ensureBytes('publicKey', publicKey);\n    if ('strict' in opts) throw new Error('options.strict was renamed to lowS');\n    var lowS = opts.lowS,\n      prehash = opts.prehash;\n    var _sig = undefined;\n    var P;\n    try {\n      if (typeof sg === 'string' || sg instanceof Uint8Array) {\n        // Signature can be represented in 2 ways: compact (2*nByteLength) & DER (variable-length).\n        // Since DER can also be 2*nByteLength bytes, we check for it first.\n        try {\n          _sig = Signature.fromDER(sg);\n        } catch (derError) {\n          if (!(derError instanceof DER.Err)) throw derError;\n          _sig = Signature.fromCompact(sg);\n        }\n      } else if (typeof sg === 'object' && typeof sg.r === 'bigint' && typeof sg.s === 'bigint') {\n        var _r = sg.r,\n          _s = sg.s;\n        _sig = new Signature(_r, _s);\n      } else {\n        throw new Error('PARSE');\n      }\n      P = Point.fromHex(publicKey);\n    } catch (error) {\n      if (error.message === 'PARSE') throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");\n      return false;\n    }\n    if (lowS && _sig.hasHighS()) return false;\n    if (prehash) msgHash = CURVE.hash(msgHash);\n    var _sig2 = _sig,\n      r = _sig2.r,\n      s = _sig2.s;\n    var h = bits2int_modN(msgHash); // Cannot use fields methods, since it is group element\n    var is = invN(s); // s^-1\n    var u1 = modN(h * is); // u1 = hs^-1 mod n\n    var u2 = modN(r * is); // u2 = rs^-1 mod n\n    var R = (_Point$BASE$multiplyA = Point.BASE.multiplyAndAddUnsafe(P, u1, u2)) === null || _Point$BASE$multiplyA === void 0 ? void 0 : _Point$BASE$multiplyA.toAffine(); // R = u1⋅G + u2⋅P\n    if (!R) return false;\n    var v = modN(R.x);\n    return v === r;\n  }\n  return {\n    CURVE: CURVE,\n    getPublicKey: getPublicKey,\n    getSharedSecret: getSharedSecret,\n    sign: sign,\n    verify: verify,\n    ProjectivePoint: Point,\n    Signature: Signature,\n    utils: utils\n  };\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nexport function SWUFpSqrtRatio(Fp, Z) {\n  // Generic implementation\n  var q = Fp.ORDER;\n  var l = _0n;\n  for (var o = q - _1n; o % _2n === _0n; o /= _2n) {\n    l += _1n;\n  }\n  var c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n  // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n  // 2n ** c1 == 2n << (c1-1)\n  var _2n_pow_c1_1 = _2n << c1 - _1n - _1n;\n  var _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n  var c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n  var c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n  var c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n  var c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n  var c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n  var c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n  var sqrtRatio = function sqrtRatio(u, v) {\n    var tv1 = c6; // 1. tv1 = c6\n    var tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n    var tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n    tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n    var tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n    tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n    tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n    tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n    tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n    var tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n    tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n    var isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n    tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n    tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n    tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n    tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n    // 17. for i in (c1, c1 - 1, ..., 2):\n    for (var i = c1; i > _1n; i--) {\n      var _tv = i - _2n; // 18.    tv5 = i - 2\n      _tv = _2n << _tv - _1n; // 19.    tv5 = 2^tv5\n      var tvv5 = Fp.pow(tv4, _tv); // 20.    tv5 = tv4^tv5\n      var e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n      tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n      tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n      tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n      tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n      tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n    }\n\n    return {\n      isValid: isQR,\n      value: tv3\n    };\n  };\n  if (Fp.ORDER % _4n === _3n) {\n    // sqrt_ratio_3mod4(u, v)\n    var _c = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n    var _c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n    sqrtRatio = function sqrtRatio(u, v) {\n      var tv1 = Fp.sqr(v); // 1. tv1 = v^2\n      var tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n      tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n      var y1 = Fp.pow(tv1, _c); // 4. y1 = tv1^c1\n      y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n      var y2 = Fp.mul(y1, _c2); // 6. y2 = y1 * c2\n      var tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n      var isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n      var y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n      return {\n        isValid: isQR,\n        value: y\n      }; // 11. return (isQR, y) isQR ? y : y*c2\n    };\n  }\n  // No curves uses that\n  // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n  return sqrtRatio;\n}\n/**\n * From draft-irtf-cfrg-hash-to-curve-16\n */\nexport function mapToCurveSimpleSWU(Fp, opts) {\n  mod.validateField(Fp);\n  if (!Fp.isValid(opts.A) || !Fp.isValid(opts.B) || !Fp.isValid(opts.Z)) throw new Error('mapToCurveSimpleSWU: invalid opts');\n  var sqrtRatio = SWUFpSqrtRatio(Fp, opts.Z);\n  if (!Fp.isOdd) throw new Error('Fp.isOdd is not implemented!');\n  // Input: u, an element of F.\n  // Output: (x, y), a point on E.\n  return function (u) {\n    // prettier-ignore\n    var tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n    tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n    tv1 = Fp.mul(tv1, opts.Z); // 2.  tv1 = Z * tv1\n    tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n    tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n    tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n    tv3 = Fp.mul(tv3, opts.B); // 6.  tv3 = B * tv3\n    tv4 = Fp.cmov(opts.Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n    tv4 = Fp.mul(tv4, opts.A); // 8.  tv4 = A * tv4\n    tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n    tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n    tv5 = Fp.mul(tv6, opts.A); // 11. tv5 = A * tv6\n    tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n    tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n    tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n    tv5 = Fp.mul(tv6, opts.B); // 15. tv5 = B * tv6\n    tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n    x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n    var _sqrtRatio = sqrtRatio(tv2, tv6),\n      isValid = _sqrtRatio.isValid,\n      value = _sqrtRatio.value; // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n    y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n    y = Fp.mul(y, value); // 20.   y = y * y1\n    x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n    y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n    var e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n    y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n    x = Fp.div(x, tv4); // 25.   x = x / tv4\n    return {\n      x: x,\n      y: y\n    };\n  };\n}","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport assert from './_assert.js';\nimport { Hash, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport var HMAC = /*#__PURE__*/function (_Hash) {\n  _inherits(HMAC, _Hash);\n  var _super = _createSuper(HMAC);\n  function HMAC(hash, _key) {\n    var _this;\n    _classCallCheck(this, HMAC);\n    _this = _super.call(this);\n    _this.finished = false;\n    _this.destroyed = false;\n    assert.hash(hash);\n    var key = toBytes(_key);\n    _this.iHash = hash.create();\n    if (typeof _this.iHash.update !== 'function') throw new Error('Expected instance of class which extends utils.Hash');\n    _this.blockLen = _this.iHash.blockLen;\n    _this.outputLen = _this.iHash.outputLen;\n    var blockLen = _this.blockLen;\n    var pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (var i = 0; i < pad.length; i++) {\n      pad[i] ^= 0x36;\n    }\n    _this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    _this.oHash = hash.create();\n    // Undo internal XOR && apply outer XOR\n    for (var _i = 0; _i < pad.length; _i++) {\n      pad[_i] ^= 0x36 ^ 0x5c;\n    }\n    _this.oHash.update(pad);\n    pad.fill(0);\n    return _this;\n  }\n  _createClass(HMAC, [{\n    key: \"update\",\n    value: function update(buf) {\n      assert.exists(this);\n      this.iHash.update(buf);\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assert.exists(this);\n      assert.bytes(out, this.outputLen);\n      this.finished = true;\n      this.iHash.digestInto(out);\n      this.oHash.update(out);\n      this.oHash.digestInto(out);\n      this.destroy();\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var out = new Uint8Array(this.oHash.outputLen);\n      this.digestInto(out);\n      return out;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      // Create new instance without calling constructor since key already in state and we don't know it.\n      to || (to = Object.create(Object.getPrototypeOf(this), {}));\n      var oHash = this.oHash,\n        iHash = this.iHash,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        blockLen = this.blockLen,\n        outputLen = this.outputLen;\n      to = to;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      to.blockLen = blockLen;\n      to.outputLen = outputLen;\n      to.oHash = oHash._cloneInto(to.oHash);\n      to.iHash = iHash._cloneInto(to.iHash);\n      return to;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.destroyed = true;\n      this.oHash.destroy();\n      this.iHash.destroy();\n    }\n  }]);\n  return HMAC;\n}(Hash);\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport var hmac = function hmac(hash, key, message) {\n  return new HMAC(hash, key).update(message).digest();\n};\nhmac.create = function (hash, key) {\n  return new HMAC(hash, key);\n};","import _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { hmac as _hmac } from '@noble/hashes/hmac';\nimport { concatBytes, randomBytes } from '@noble/hashes/utils';\nimport { weierstrass } from './abstract/weierstrass.js';\n// connects noble-curves to noble-hashes\nexport function getHash(hash) {\n  return {\n    hash: hash,\n    hmac: function hmac(key) {\n      for (var _len = arguments.length, msgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        msgs[_key - 1] = arguments[_key];\n      }\n      return _hmac(hash, key, concatBytes.apply(void 0, msgs));\n    },\n    randomBytes: randomBytes\n  };\n}\nexport function createCurve(curveDef, defHash) {\n  var create = function create(hash) {\n    return weierstrass(_objectSpread(_objectSpread({}, curveDef), getHash(hash)));\n  };\n  return Object.freeze(_objectSpread(_objectSpread({}, create(defHash)), {}, {\n    create: create\n  }));\n}","/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nimport { sha256 } from '@noble/hashes/sha256';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { Field, mod, pow2 } from './abstract/modular.js';\nimport { mapToCurveSimpleSWU } from './abstract/weierstrass.js';\nimport { bytesToNumberBE, concatBytes, ensureBytes, numberToBytesBE } from './abstract/utils.js';\nimport { createHasher, isogenyMap } from './abstract/hash-to-curve.js';\nimport { createCurve } from './_shortw_utils.js';\nvar secp256k1P = BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f');\nvar secp256k1N = BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141');\nvar _1n = BigInt(1);\nvar _2n = BigInt(2);\nvar divNearest = function divNearest(a, b) {\n  return (a + b / _2n) / b;\n};\n/**\n * √n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n  var P = secp256k1P;\n  // prettier-ignore\n  var _3n = BigInt(3),\n    _6n = BigInt(6),\n    _11n = BigInt(11),\n    _22n = BigInt(22);\n  // prettier-ignore\n  var _23n = BigInt(23),\n    _44n = BigInt(44),\n    _88n = BigInt(88);\n  var b2 = y * y * y % P; // x^3, 11\n  var b3 = b2 * b2 * y % P; // x^7\n  var b6 = pow2(b3, _3n, P) * b3 % P;\n  var b9 = pow2(b6, _3n, P) * b3 % P;\n  var b11 = pow2(b9, _2n, P) * b2 % P;\n  var b22 = pow2(b11, _11n, P) * b11 % P;\n  var b44 = pow2(b22, _22n, P) * b22 % P;\n  var b88 = pow2(b44, _44n, P) * b44 % P;\n  var b176 = pow2(b88, _88n, P) * b88 % P;\n  var b220 = pow2(b176, _44n, P) * b44 % P;\n  var b223 = pow2(b220, _3n, P) * b3 % P;\n  var t1 = pow2(b223, _23n, P) * b22 % P;\n  var t2 = pow2(t1, _6n, P) * b2 % P;\n  var root = pow2(t2, _2n, P);\n  if (!Fp.eql(Fp.sqr(root), y)) throw new Error('Cannot find square root');\n  return root;\n}\nvar Fp = Field(secp256k1P, undefined, undefined, {\n  sqrt: sqrtMod\n});\nexport var secp256k1 = createCurve({\n  a: BigInt(0),\n  b: BigInt(7),\n  Fp: Fp,\n  n: secp256k1N,\n  // Base point (x, y) aka generator point\n  Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n  Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n  h: BigInt(1),\n  lowS: true,\n  /**\n   * secp256k1 belongs to Koblitz curves: it has efficiently computable endomorphism.\n   * Endomorphism uses 2x less RAM, speeds up precomputation by 2x and ECDH / key recovery by 20%.\n   * For precomputed wNAF it trades off 1/2 init time & 1/3 ram for 20% perf hit.\n   * Explanation: https://gist.github.com/paulmillr/eb670806793e84df628a7c434a873066\n   */\n  endo: {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    splitScalar: function splitScalar(k) {\n      var n = secp256k1N;\n      var a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n      var b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n      var a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n      var b2 = a1;\n      var POW_2_128 = BigInt('0x100000000000000000000000000000000'); // (2n**128n).toString(16)\n      var c1 = divNearest(b2 * k, n);\n      var c2 = divNearest(-b1 * k, n);\n      var k1 = mod(k - c1 * a1 - c2 * a2, n);\n      var k2 = mod(-c1 * b1 - c2 * b2, n);\n      var k1neg = k1 > POW_2_128;\n      var k2neg = k2 > POW_2_128;\n      if (k1neg) k1 = n - k1;\n      if (k2neg) k2 = n - k2;\n      if (k1 > POW_2_128 || k2 > POW_2_128) {\n        throw new Error('splitScalar: Endomorphism failed, k=' + k);\n      }\n      return {\n        k1neg: k1neg,\n        k1: k1,\n        k2neg: k2neg,\n        k2: k2\n      };\n    }\n  }\n}, sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\nvar _0n = BigInt(0);\nvar fe = function fe(x) {\n  return typeof x === 'bigint' && _0n < x && x < secp256k1P;\n};\nvar ge = function ge(x) {\n  return typeof x === 'bigint' && _0n < x && x < secp256k1N;\n};\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nvar TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag) {\n  var tagP = TAGGED_HASH_PREFIXES[tag];\n  if (tagP === undefined) {\n    var tagH = sha256(Uint8Array.from(tag, function (c) {\n      return c.charCodeAt(0);\n    }));\n    tagP = concatBytes(tagH, tagH);\n    TAGGED_HASH_PREFIXES[tag] = tagP;\n  }\n  for (var _len = arguments.length, messages = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    messages[_key - 1] = arguments[_key];\n  }\n  return sha256(concatBytes.apply(void 0, [tagP].concat(messages)));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nvar pointToBytes = function pointToBytes(point) {\n  return point.toRawBytes(true).slice(1);\n};\nvar numTo32b = function numTo32b(n) {\n  return numberToBytesBE(n, 32);\n};\nvar modP = function modP(x) {\n  return mod(x, secp256k1P);\n};\nvar modN = function modN(x) {\n  return mod(x, secp256k1N);\n};\nvar Point = secp256k1.ProjectivePoint;\nvar GmulAdd = function GmulAdd(Q, a, b) {\n  return Point.BASE.multiplyAndAddUnsafe(Q, a, b);\n};\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n  var d_ = secp256k1.utils.normPrivateKeyToScalar(priv); // same method executed in fromPrivateKey\n  var p = Point.fromPrivateKey(d_); // P = d'⋅G; 0 < d' < n check is done inside\n  var scalar = p.hasEvenY() ? d_ : modN(-d_);\n  return {\n    scalar: scalar,\n    bytes: pointToBytes(p)\n  };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n  if (!fe(x)) throw new Error('bad x: need 0 < x < p'); // Fail if x ≥ p.\n  var xx = modP(x * x);\n  var c = modP(xx * x + BigInt(7)); // Let c = x³ + 7 mod p.\n  var y = sqrtMod(c); // Let y = c^(p+1)/4 mod p.\n  if (y % _2n !== _0n) y = modP(-y); // Return the unique point P such that x(P) = x and\n  var p = new Point(x, y, _1n); // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n  p.assertValidity();\n  return p;\n}\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  return modN(bytesToNumberBE(taggedHash.apply(void 0, ['BIP0340/challenge'].concat(args))));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(privateKey) {\n  return schnorrGetExtPubKey(privateKey).bytes; // d'=int(sk). Fail if d'=0 or d'≥n. Ret bytes(d'⋅G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, privateKey) {\n  var auxRand = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : randomBytes(32);\n  var m = ensureBytes('message', message);\n  var _schnorrGetExtPubKey = schnorrGetExtPubKey(privateKey),\n    px = _schnorrGetExtPubKey.bytes,\n    d = _schnorrGetExtPubKey.scalar; // checks for isWithinCurveOrder\n  var a = ensureBytes('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n  var t = numTo32b(d ^ bytesToNumberBE(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n  var rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n  var k_ = modN(bytesToNumberBE(rand)); // Let k' = int(rand) mod n\n  if (k_ === _0n) throw new Error('sign failed: k is zero'); // Fail if k' = 0.\n  var _schnorrGetExtPubKey2 = schnorrGetExtPubKey(k_),\n    rx = _schnorrGetExtPubKey2.bytes,\n    k = _schnorrGetExtPubKey2.scalar; // Let R = k'⋅G.\n  var e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n  var sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n  sig.set(rx, 0);\n  sig.set(numTo32b(modN(k + e * d)), 32);\n  // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n  if (!schnorrVerify(sig, m, px)) throw new Error('sign: Invalid signature produced');\n  return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n  var sig = ensureBytes('signature', signature, 64);\n  var m = ensureBytes('message', message);\n  var pub = ensureBytes('publicKey', publicKey, 32);\n  try {\n    var P = lift_x(bytesToNumberBE(pub)); // P = lift_x(int(pk)); fail if that fails\n    var r = bytesToNumberBE(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r ≥ p.\n    if (!fe(r)) return false;\n    var s = bytesToNumberBE(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s ≥ n.\n    if (!ge(s)) return false;\n    var e = challenge(numTo32b(r), pointToBytes(P), m); // int(challenge(bytes(r)||bytes(P)||m))%n\n    var R = GmulAdd(P, s, modN(-e)); // R = s⋅G - e⋅P\n    if (!R || !R.hasEvenY() || R.toAffine().x !== r) return false; // -eP == (n-e)P\n    return true; // Fail if is_infinite(R) / not has_even_y(R) / x(R) ≠ r.\n  } catch (error) {\n    return false;\n  }\n}\nexport var schnorr = /* @__PURE__ */function () {\n  return {\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    utils: {\n      randomPrivateKey: secp256k1.utils.randomPrivateKey,\n      lift_x: lift_x,\n      pointToBytes: pointToBytes,\n      numberToBytesBE: numberToBytesBE,\n      bytesToNumberBE: bytesToNumberBE,\n      taggedHash: taggedHash,\n      mod: mod\n    }\n  };\n}();\nvar isoMap = /* @__PURE__ */function () {\n  return isogenyMap(Fp, [\n  // xNum\n  ['0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7', '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581', '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262', '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c'],\n  // xDen\n  ['0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b', '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14', '0x0000000000000000000000000000000000000000000000000000000000000001' // LAST 1\n  ],\n  // yNum\n  ['0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c', '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3', '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931', '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84'],\n  // yDen\n  ['0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b', '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573', '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f', '0x0000000000000000000000000000000000000000000000000000000000000001' // LAST 1\n  ]].map(function (i) {\n    return i.map(function (j) {\n      return BigInt(j);\n    });\n  }));\n}();\nvar mapSWU = /* @__PURE__ */function () {\n  return mapToCurveSimpleSWU(Fp, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fp.create(BigInt('-11'))\n  });\n}();\nvar htf = /* @__PURE__ */function () {\n  return createHasher(secp256k1.ProjectivePoint, function (scalars) {\n    var _mapSWU = mapSWU(Fp.create(scalars[0])),\n      x = _mapSWU.x,\n      y = _mapSWU.y;\n    return isoMap(x, y);\n  }, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fp.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: sha256\n  });\n}();\nexport var hashToCurve = /* @__PURE__ */function () {\n  return htf.hashToCurve;\n}();\nexport var encodeToCurve = /* @__PURE__ */function () {\n  return htf.encodeToCurve;\n}();","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nexport function assertNumber(n) {\n  if (!Number.isSafeInteger(n)) throw new Error(\"Wrong integer: \".concat(n));\n}\nfunction chain() {\n  var wrap = function wrap(a, b) {\n    return function (c) {\n      return a(b(c));\n    };\n  };\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  var encode = Array.from(args).reverse().reduce(function (acc, i) {\n    return acc ? wrap(acc, i.encode) : i.encode;\n  }, undefined);\n  var decode = args.reduce(function (acc, i) {\n    return acc ? wrap(acc, i.decode) : i.decode;\n  }, undefined);\n  return {\n    encode: encode,\n    decode: decode\n  };\n}\nfunction alphabet(alphabet) {\n  return {\n    encode: function encode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('alphabet.encode input should be an array of numbers');\n      return digits.map(function (i) {\n        assertNumber(i);\n        if (i < 0 || i >= alphabet.length) throw new Error(\"Digit index outside alphabet: \".concat(i, \" (alphabet: \").concat(alphabet.length, \")\"));\n        return alphabet[i];\n      });\n    },\n    decode: function decode(input) {\n      if (!Array.isArray(input) || input.length && typeof input[0] !== 'string') throw new Error('alphabet.decode input should be array of strings');\n      return input.map(function (letter) {\n        if (typeof letter !== 'string') throw new Error(\"alphabet.decode: not string element=\".concat(letter));\n        var index = alphabet.indexOf(letter);\n        if (index === -1) throw new Error(\"Unknown letter: \\\"\".concat(letter, \"\\\". Allowed: \").concat(alphabet));\n        return index;\n      });\n    }\n  };\n}\nfunction join() {\n  var separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  if (typeof separator !== 'string') throw new Error('join separator should be string');\n  return {\n    encode: function encode(from) {\n      if (!Array.isArray(from) || from.length && typeof from[0] !== 'string') throw new Error('join.encode input should be array of strings');\n      var _iterator = _createForOfIteratorHelper(from),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var i = _step.value;\n          if (typeof i !== 'string') throw new Error(\"join.encode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return from.join(separator);\n    },\n    decode: function decode(to) {\n      if (typeof to !== 'string') throw new Error('join.decode input should be string');\n      return to.split(separator);\n    }\n  };\n}\nfunction padding(bits) {\n  var chr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '=';\n  assertNumber(bits);\n  if (typeof chr !== 'string') throw new Error('padding chr should be string');\n  return {\n    encode: function encode(data) {\n      if (!Array.isArray(data) || data.length && typeof data[0] !== 'string') throw new Error('padding.encode input should be array of strings');\n      var _iterator2 = _createForOfIteratorHelper(data),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var i = _step2.value;\n          if (typeof i !== 'string') throw new Error(\"padding.encode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      while (data.length * bits % 8) {\n        data.push(chr);\n      }\n      return data;\n    },\n    decode: function decode(input) {\n      if (!Array.isArray(input) || input.length && typeof input[0] !== 'string') throw new Error('padding.encode input should be array of strings');\n      var _iterator3 = _createForOfIteratorHelper(input),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var i = _step3.value;\n          if (typeof i !== 'string') throw new Error(\"padding.decode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      var end = input.length;\n      if (end * bits % 8) throw new Error('Invalid padding: string should have whole number of bytes');\n      for (; end > 0 && input[end - 1] === chr; end--) {\n        if (!((end - 1) * bits % 8)) throw new Error('Invalid padding: string has too much padding');\n      }\n      return input.slice(0, end);\n    }\n  };\n}\nfunction normalize(fn) {\n  if (typeof fn !== 'function') throw new Error('normalize fn should be function');\n  return {\n    encode: function encode(from) {\n      return from;\n    },\n    decode: function decode(to) {\n      return fn(to);\n    }\n  };\n}\nfunction convertRadix(data, from, to) {\n  if (from < 2) throw new Error(\"convertRadix: wrong from=\".concat(from, \", base cannot be less than 2\"));\n  if (to < 2) throw new Error(\"convertRadix: wrong to=\".concat(to, \", base cannot be less than 2\"));\n  if (!Array.isArray(data)) throw new Error('convertRadix: data should be array');\n  if (!data.length) return [];\n  var pos = 0;\n  var res = [];\n  var digits = Array.from(data);\n  digits.forEach(function (d) {\n    assertNumber(d);\n    if (d < 0 || d >= from) throw new Error(\"Wrong integer: \".concat(d));\n  });\n  while (true) {\n    var carry = 0;\n    var done = true;\n    for (var i = pos; i < digits.length; i++) {\n      var digit = digits[i];\n      var digitBase = from * carry + digit;\n      if (!Number.isSafeInteger(digitBase) || from * carry / from !== carry || digitBase - digit !== from * carry) {\n        throw new Error('convertRadix: carry overflow');\n      }\n      carry = digitBase % to;\n      digits[i] = Math.floor(digitBase / to);\n      if (!Number.isSafeInteger(digits[i]) || digits[i] * to + carry !== digitBase) throw new Error('convertRadix: carry overflow');\n      if (!done) continue;else if (!digits[i]) pos = i;else done = false;\n    }\n    res.push(carry);\n    if (done) break;\n  }\n  for (var _i = 0; _i < data.length - 1 && data[_i] === 0; _i++) {\n    res.push(0);\n  }\n  return res.reverse();\n}\nvar gcd = function gcd(a, b) {\n  return !b ? a : gcd(b, a % b);\n};\nvar radix2carry = function radix2carry(from, to) {\n  return from + (to - gcd(from, to));\n};\nfunction convertRadix2(data, from, to, padding) {\n  if (!Array.isArray(data)) throw new Error('convertRadix2: data should be array');\n  if (from <= 0 || from > 32) throw new Error(\"convertRadix2: wrong from=\".concat(from));\n  if (to <= 0 || to > 32) throw new Error(\"convertRadix2: wrong to=\".concat(to));\n  if (radix2carry(from, to) > 32) {\n    throw new Error(\"convertRadix2: carry overflow from=\".concat(from, \" to=\").concat(to, \" carryBits=\").concat(radix2carry(from, to)));\n  }\n  var carry = 0;\n  var pos = 0;\n  var mask = Math.pow(2, to) - 1;\n  var res = [];\n  var _iterator4 = _createForOfIteratorHelper(data),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var n = _step4.value;\n      assertNumber(n);\n      if (n >= Math.pow(2, from)) throw new Error(\"convertRadix2: invalid data word=\".concat(n, \" from=\").concat(from));\n      carry = carry << from | n;\n      if (pos + from > 32) throw new Error(\"convertRadix2: carry overflow pos=\".concat(pos, \" from=\").concat(from));\n      pos += from;\n      for (; pos >= to; pos -= to) {\n        res.push((carry >> pos - to & mask) >>> 0);\n      }\n      carry &= Math.pow(2, pos) - 1;\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  carry = carry << to - pos & mask;\n  if (!padding && pos >= from) throw new Error('Excess padding');\n  if (!padding && carry) throw new Error(\"Non-zero padding: \".concat(carry));\n  if (padding && pos > 0) res.push(carry >>> 0);\n  return res;\n}\nfunction radix(num) {\n  assertNumber(num);\n  return {\n    encode: function encode(bytes) {\n      if (!(bytes instanceof Uint8Array)) throw new Error('radix.encode input should be Uint8Array');\n      return convertRadix(Array.from(bytes), Math.pow(2, 8), num);\n    },\n    decode: function decode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('radix.decode input should be array of strings');\n      return Uint8Array.from(convertRadix(digits, num, Math.pow(2, 8)));\n    }\n  };\n}\nfunction radix2(bits) {\n  var revPadding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  assertNumber(bits);\n  if (bits <= 0 || bits > 32) throw new Error('radix2: bits should be in (0..32]');\n  if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32) throw new Error('radix2: carry overflow');\n  return {\n    encode: function encode(bytes) {\n      if (!(bytes instanceof Uint8Array)) throw new Error('radix2.encode input should be Uint8Array');\n      return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n    },\n    decode: function decode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('radix2.decode input should be array of strings');\n      return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n    }\n  };\n}\nfunction unsafeWrapper(fn) {\n  if (typeof fn !== 'function') throw new Error('unsafeWrapper fn should be function');\n  return function () {\n    try {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return fn.apply(null, args);\n    } catch (e) {}\n  };\n}\nfunction checksum(len, fn) {\n  assertNumber(len);\n  if (typeof fn !== 'function') throw new Error('checksum fn should be function');\n  return {\n    encode: function encode(data) {\n      if (!(data instanceof Uint8Array)) throw new Error('checksum.encode: input should be Uint8Array');\n      var checksum = fn(data).slice(0, len);\n      var res = new Uint8Array(data.length + len);\n      res.set(data);\n      res.set(checksum, data.length);\n      return res;\n    },\n    decode: function decode(data) {\n      if (!(data instanceof Uint8Array)) throw new Error('checksum.decode: input should be Uint8Array');\n      var payload = data.slice(0, -len);\n      var newChecksum = fn(payload).slice(0, len);\n      var oldChecksum = data.slice(-len);\n      for (var i = 0; i < len; i++) {\n        if (newChecksum[i] !== oldChecksum[i]) throw new Error('Invalid checksum');\n      }\n      return payload;\n    }\n  };\n}\nexport var utils = {\n  alphabet: alphabet,\n  chain: chain,\n  checksum: checksum,\n  radix: radix,\n  radix2: radix2,\n  join: join,\n  padding: padding\n};\nexport var base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexport var base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexport var base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexport var base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize(function (s) {\n  return s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1');\n}));\nexport var base64 = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexport var base64url = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nvar genBase58 = function genBase58(abc) {\n  return chain(radix(58), alphabet(abc), join(''));\n};\nexport var base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexport var base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexport var base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\nvar XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexport var base58xmr = {\n  encode: function encode(data) {\n    var res = '';\n    for (var i = 0; i < data.length; i += 8) {\n      var block = data.subarray(i, i + 8);\n      res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n    }\n    return res;\n  },\n  decode: function decode(str) {\n    var res = [];\n    for (var i = 0; i < str.length; i += 11) {\n      var slice = str.slice(i, i + 11);\n      var blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n      var block = base58.decode(slice);\n      for (var j = 0; j < block.length - blockLen; j++) {\n        if (block[j] !== 0) throw new Error('base58xmr: wrong padding');\n      }\n      res = res.concat(Array.from(block.slice(block.length - blockLen)));\n    }\n    return Uint8Array.from(res);\n  }\n};\nexport var base58check = function base58check(sha256) {\n  return chain(checksum(4, function (data) {\n    return sha256(sha256(data));\n  }), base58);\n};\nvar BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nvar POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n  var b = pre >> 25;\n  var chk = (pre & 0x1ffffff) << 5;\n  for (var i = 0; i < POLYMOD_GENERATORS.length; i++) {\n    if ((b >> i & 1) === 1) chk ^= POLYMOD_GENERATORS[i];\n  }\n  return chk;\n}\nfunction bechChecksum(prefix, words) {\n  var encodingConst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var len = prefix.length;\n  var chk = 1;\n  for (var i = 0; i < len; i++) {\n    var c = prefix.charCodeAt(i);\n    if (c < 33 || c > 126) throw new Error(\"Invalid prefix (\".concat(prefix, \")\"));\n    chk = bech32Polymod(chk) ^ c >> 5;\n  }\n  chk = bech32Polymod(chk);\n  for (var _i2 = 0; _i2 < len; _i2++) {\n    chk = bech32Polymod(chk) ^ prefix.charCodeAt(_i2) & 0x1f;\n  }\n  var _iterator5 = _createForOfIteratorHelper(words),\n    _step5;\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var v = _step5.value;\n      chk = bech32Polymod(chk) ^ v;\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  for (var _i3 = 0; _i3 < 6; _i3++) {\n    chk = bech32Polymod(chk);\n  }\n  chk ^= encodingConst;\n  return BECH_ALPHABET.encode(convertRadix2([chk % Math.pow(2, 30)], 30, 5, false));\n}\nfunction genBech32(encoding) {\n  var ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n  var _words = radix2(5);\n  var fromWords = _words.decode;\n  var toWords = _words.encode;\n  var fromWordsUnsafe = unsafeWrapper(fromWords);\n  function encode(prefix, words) {\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 90;\n    if (typeof prefix !== 'string') throw new Error(\"bech32.encode prefix should be string, not \".concat(typeof prefix));\n    if (!Array.isArray(words) || words.length && typeof words[0] !== 'number') throw new Error(\"bech32.encode words should be array of numbers, not \".concat(typeof words));\n    var actualLength = prefix.length + 7 + words.length;\n    if (limit !== false && actualLength > limit) throw new TypeError(\"Length \".concat(actualLength, \" exceeds limit \").concat(limit));\n    prefix = prefix.toLowerCase();\n    return \"\".concat(prefix, \"1\").concat(BECH_ALPHABET.encode(words)).concat(bechChecksum(prefix, words, ENCODING_CONST));\n  }\n  function decode(str) {\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 90;\n    if (typeof str !== 'string') throw new Error(\"bech32.decode input should be string, not \".concat(typeof str));\n    if (str.length < 8 || limit !== false && str.length > limit) throw new TypeError(\"Wrong string length: \".concat(str.length, \" (\").concat(str, \"). Expected (8..\").concat(limit, \")\"));\n    var lowered = str.toLowerCase();\n    if (str !== lowered && str !== str.toUpperCase()) throw new Error(\"String must be lowercase or uppercase\");\n    str = lowered;\n    var sepIndex = str.lastIndexOf('1');\n    if (sepIndex === 0 || sepIndex === -1) throw new Error(\"Letter \\\"1\\\" must be present between prefix and data only\");\n    var prefix = str.slice(0, sepIndex);\n    var _words = str.slice(sepIndex + 1);\n    if (_words.length < 6) throw new Error('Data must be at least 6 characters long');\n    var words = BECH_ALPHABET.decode(_words).slice(0, -6);\n    var sum = bechChecksum(prefix, words, ENCODING_CONST);\n    if (!_words.endsWith(sum)) throw new Error(\"Invalid checksum in \".concat(str, \": expected \\\"\").concat(sum, \"\\\"\"));\n    return {\n      prefix: prefix,\n      words: words\n    };\n  }\n  var decodeUnsafe = unsafeWrapper(decode);\n  function decodeToBytes(str) {\n    var _decode = decode(str, false),\n      prefix = _decode.prefix,\n      words = _decode.words;\n    return {\n      prefix: prefix,\n      words: words,\n      bytes: fromWords(words)\n    };\n  }\n  return {\n    encode: encode,\n    decode: decode,\n    decodeToBytes: decodeToBytes,\n    decodeUnsafe: decodeUnsafe,\n    fromWords: fromWords,\n    fromWordsUnsafe: fromWordsUnsafe,\n    toWords: toWords\n  };\n}\nexport var bech32 = genBech32('bech32');\nexport var bech32m = genBech32('bech32m');\nexport var utf8 = {\n  encode: function encode(data) {\n    return new TextDecoder().decode(data);\n  },\n  decode: function decode(str) {\n    return new TextEncoder().encode(str);\n  }\n};\nexport var hex = chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize(function (s) {\n  if (typeof s !== 'string' || s.length % 2) throw new TypeError(\"hex.decode: expected string, got \".concat(typeof s, \" with length \").concat(s.length));\n  return s.toLowerCase();\n}));\nvar CODERS = {\n  utf8: utf8,\n  hex: hex,\n  base16: base16,\n  base32: base32,\n  base64: base64,\n  base64url: base64url,\n  base58: base58,\n  base58xmr: base58xmr\n};\nvar coderTypeError = \"Invalid encoding type. Available types: \".concat(Object.keys(CODERS).join(', '));\nexport var bytesToString = function bytesToString(type, bytes) {\n  if (typeof type !== 'string' || !CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (!(bytes instanceof Uint8Array)) throw new TypeError('bytesToString() expects Uint8Array');\n  return CODERS[type].encode(bytes);\n};\nexport var str = bytesToString;\nexport var stringToBytes = function stringToBytes(type, str) {\n  if (!CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (typeof str !== 'string') throw new TypeError('stringToBytes() expects string');\n  return CODERS[type].decode(str);\n};\nexport var bytes = stringToBytes;","export var wordlist = \"abandon\\nability\\nable\\nabout\\nabove\\nabsent\\nabsorb\\nabstract\\nabsurd\\nabuse\\naccess\\naccident\\naccount\\naccuse\\nachieve\\nacid\\nacoustic\\nacquire\\nacross\\nact\\naction\\nactor\\nactress\\nactual\\nadapt\\nadd\\naddict\\naddress\\nadjust\\nadmit\\nadult\\nadvance\\nadvice\\naerobic\\naffair\\nafford\\nafraid\\nagain\\nage\\nagent\\nagree\\nahead\\naim\\nair\\nairport\\naisle\\nalarm\\nalbum\\nalcohol\\nalert\\nalien\\nall\\nalley\\nallow\\nalmost\\nalone\\nalpha\\nalready\\nalso\\nalter\\nalways\\namateur\\namazing\\namong\\namount\\namused\\nanalyst\\nanchor\\nancient\\nanger\\nangle\\nangry\\nanimal\\nankle\\nannounce\\nannual\\nanother\\nanswer\\nantenna\\nantique\\nanxiety\\nany\\napart\\napology\\nappear\\napple\\napprove\\napril\\narch\\narctic\\narea\\narena\\nargue\\narm\\narmed\\narmor\\narmy\\naround\\narrange\\narrest\\narrive\\narrow\\nart\\nartefact\\nartist\\nartwork\\nask\\naspect\\nassault\\nasset\\nassist\\nassume\\nasthma\\nathlete\\natom\\nattack\\nattend\\nattitude\\nattract\\nauction\\naudit\\naugust\\naunt\\nauthor\\nauto\\nautumn\\naverage\\navocado\\navoid\\nawake\\naware\\naway\\nawesome\\nawful\\nawkward\\naxis\\nbaby\\nbachelor\\nbacon\\nbadge\\nbag\\nbalance\\nbalcony\\nball\\nbamboo\\nbanana\\nbanner\\nbar\\nbarely\\nbargain\\nbarrel\\nbase\\nbasic\\nbasket\\nbattle\\nbeach\\nbean\\nbeauty\\nbecause\\nbecome\\nbeef\\nbefore\\nbegin\\nbehave\\nbehind\\nbelieve\\nbelow\\nbelt\\nbench\\nbenefit\\nbest\\nbetray\\nbetter\\nbetween\\nbeyond\\nbicycle\\nbid\\nbike\\nbind\\nbiology\\nbird\\nbirth\\nbitter\\nblack\\nblade\\nblame\\nblanket\\nblast\\nbleak\\nbless\\nblind\\nblood\\nblossom\\nblouse\\nblue\\nblur\\nblush\\nboard\\nboat\\nbody\\nboil\\nbomb\\nbone\\nbonus\\nbook\\nboost\\nborder\\nboring\\nborrow\\nboss\\nbottom\\nbounce\\nbox\\nboy\\nbracket\\nbrain\\nbrand\\nbrass\\nbrave\\nbread\\nbreeze\\nbrick\\nbridge\\nbrief\\nbright\\nbring\\nbrisk\\nbroccoli\\nbroken\\nbronze\\nbroom\\nbrother\\nbrown\\nbrush\\nbubble\\nbuddy\\nbudget\\nbuffalo\\nbuild\\nbulb\\nbulk\\nbullet\\nbundle\\nbunker\\nburden\\nburger\\nburst\\nbus\\nbusiness\\nbusy\\nbutter\\nbuyer\\nbuzz\\ncabbage\\ncabin\\ncable\\ncactus\\ncage\\ncake\\ncall\\ncalm\\ncamera\\ncamp\\ncan\\ncanal\\ncancel\\ncandy\\ncannon\\ncanoe\\ncanvas\\ncanyon\\ncapable\\ncapital\\ncaptain\\ncar\\ncarbon\\ncard\\ncargo\\ncarpet\\ncarry\\ncart\\ncase\\ncash\\ncasino\\ncastle\\ncasual\\ncat\\ncatalog\\ncatch\\ncategory\\ncattle\\ncaught\\ncause\\ncaution\\ncave\\nceiling\\ncelery\\ncement\\ncensus\\ncentury\\ncereal\\ncertain\\nchair\\nchalk\\nchampion\\nchange\\nchaos\\nchapter\\ncharge\\nchase\\nchat\\ncheap\\ncheck\\ncheese\\nchef\\ncherry\\nchest\\nchicken\\nchief\\nchild\\nchimney\\nchoice\\nchoose\\nchronic\\nchuckle\\nchunk\\nchurn\\ncigar\\ncinnamon\\ncircle\\ncitizen\\ncity\\ncivil\\nclaim\\nclap\\nclarify\\nclaw\\nclay\\nclean\\nclerk\\nclever\\nclick\\nclient\\ncliff\\nclimb\\nclinic\\nclip\\nclock\\nclog\\nclose\\ncloth\\ncloud\\nclown\\nclub\\nclump\\ncluster\\nclutch\\ncoach\\ncoast\\ncoconut\\ncode\\ncoffee\\ncoil\\ncoin\\ncollect\\ncolor\\ncolumn\\ncombine\\ncome\\ncomfort\\ncomic\\ncommon\\ncompany\\nconcert\\nconduct\\nconfirm\\ncongress\\nconnect\\nconsider\\ncontrol\\nconvince\\ncook\\ncool\\ncopper\\ncopy\\ncoral\\ncore\\ncorn\\ncorrect\\ncost\\ncotton\\ncouch\\ncountry\\ncouple\\ncourse\\ncousin\\ncover\\ncoyote\\ncrack\\ncradle\\ncraft\\ncram\\ncrane\\ncrash\\ncrater\\ncrawl\\ncrazy\\ncream\\ncredit\\ncreek\\ncrew\\ncricket\\ncrime\\ncrisp\\ncritic\\ncrop\\ncross\\ncrouch\\ncrowd\\ncrucial\\ncruel\\ncruise\\ncrumble\\ncrunch\\ncrush\\ncry\\ncrystal\\ncube\\nculture\\ncup\\ncupboard\\ncurious\\ncurrent\\ncurtain\\ncurve\\ncushion\\ncustom\\ncute\\ncycle\\ndad\\ndamage\\ndamp\\ndance\\ndanger\\ndaring\\ndash\\ndaughter\\ndawn\\nday\\ndeal\\ndebate\\ndebris\\ndecade\\ndecember\\ndecide\\ndecline\\ndecorate\\ndecrease\\ndeer\\ndefense\\ndefine\\ndefy\\ndegree\\ndelay\\ndeliver\\ndemand\\ndemise\\ndenial\\ndentist\\ndeny\\ndepart\\ndepend\\ndeposit\\ndepth\\ndeputy\\nderive\\ndescribe\\ndesert\\ndesign\\ndesk\\ndespair\\ndestroy\\ndetail\\ndetect\\ndevelop\\ndevice\\ndevote\\ndiagram\\ndial\\ndiamond\\ndiary\\ndice\\ndiesel\\ndiet\\ndiffer\\ndigital\\ndignity\\ndilemma\\ndinner\\ndinosaur\\ndirect\\ndirt\\ndisagree\\ndiscover\\ndisease\\ndish\\ndismiss\\ndisorder\\ndisplay\\ndistance\\ndivert\\ndivide\\ndivorce\\ndizzy\\ndoctor\\ndocument\\ndog\\ndoll\\ndolphin\\ndomain\\ndonate\\ndonkey\\ndonor\\ndoor\\ndose\\ndouble\\ndove\\ndraft\\ndragon\\ndrama\\ndrastic\\ndraw\\ndream\\ndress\\ndrift\\ndrill\\ndrink\\ndrip\\ndrive\\ndrop\\ndrum\\ndry\\nduck\\ndumb\\ndune\\nduring\\ndust\\ndutch\\nduty\\ndwarf\\ndynamic\\neager\\neagle\\nearly\\nearn\\nearth\\neasily\\neast\\neasy\\necho\\necology\\neconomy\\nedge\\nedit\\neducate\\neffort\\negg\\neight\\neither\\nelbow\\nelder\\nelectric\\nelegant\\nelement\\nelephant\\nelevator\\nelite\\nelse\\nembark\\nembody\\nembrace\\nemerge\\nemotion\\nemploy\\nempower\\nempty\\nenable\\nenact\\nend\\nendless\\nendorse\\nenemy\\nenergy\\nenforce\\nengage\\nengine\\nenhance\\nenjoy\\nenlist\\nenough\\nenrich\\nenroll\\nensure\\nenter\\nentire\\nentry\\nenvelope\\nepisode\\nequal\\nequip\\nera\\nerase\\nerode\\nerosion\\nerror\\nerupt\\nescape\\nessay\\nessence\\nestate\\neternal\\nethics\\nevidence\\nevil\\nevoke\\nevolve\\nexact\\nexample\\nexcess\\nexchange\\nexcite\\nexclude\\nexcuse\\nexecute\\nexercise\\nexhaust\\nexhibit\\nexile\\nexist\\nexit\\nexotic\\nexpand\\nexpect\\nexpire\\nexplain\\nexpose\\nexpress\\nextend\\nextra\\neye\\neyebrow\\nfabric\\nface\\nfaculty\\nfade\\nfaint\\nfaith\\nfall\\nfalse\\nfame\\nfamily\\nfamous\\nfan\\nfancy\\nfantasy\\nfarm\\nfashion\\nfat\\nfatal\\nfather\\nfatigue\\nfault\\nfavorite\\nfeature\\nfebruary\\nfederal\\nfee\\nfeed\\nfeel\\nfemale\\nfence\\nfestival\\nfetch\\nfever\\nfew\\nfiber\\nfiction\\nfield\\nfigure\\nfile\\nfilm\\nfilter\\nfinal\\nfind\\nfine\\nfinger\\nfinish\\nfire\\nfirm\\nfirst\\nfiscal\\nfish\\nfit\\nfitness\\nfix\\nflag\\nflame\\nflash\\nflat\\nflavor\\nflee\\nflight\\nflip\\nfloat\\nflock\\nfloor\\nflower\\nfluid\\nflush\\nfly\\nfoam\\nfocus\\nfog\\nfoil\\nfold\\nfollow\\nfood\\nfoot\\nforce\\nforest\\nforget\\nfork\\nfortune\\nforum\\nforward\\nfossil\\nfoster\\nfound\\nfox\\nfragile\\nframe\\nfrequent\\nfresh\\nfriend\\nfringe\\nfrog\\nfront\\nfrost\\nfrown\\nfrozen\\nfruit\\nfuel\\nfun\\nfunny\\nfurnace\\nfury\\nfuture\\ngadget\\ngain\\ngalaxy\\ngallery\\ngame\\ngap\\ngarage\\ngarbage\\ngarden\\ngarlic\\ngarment\\ngas\\ngasp\\ngate\\ngather\\ngauge\\ngaze\\ngeneral\\ngenius\\ngenre\\ngentle\\ngenuine\\ngesture\\nghost\\ngiant\\ngift\\ngiggle\\nginger\\ngiraffe\\ngirl\\ngive\\nglad\\nglance\\nglare\\nglass\\nglide\\nglimpse\\nglobe\\ngloom\\nglory\\nglove\\nglow\\nglue\\ngoat\\ngoddess\\ngold\\ngood\\ngoose\\ngorilla\\ngospel\\ngossip\\ngovern\\ngown\\ngrab\\ngrace\\ngrain\\ngrant\\ngrape\\ngrass\\ngravity\\ngreat\\ngreen\\ngrid\\ngrief\\ngrit\\ngrocery\\ngroup\\ngrow\\ngrunt\\nguard\\nguess\\nguide\\nguilt\\nguitar\\ngun\\ngym\\nhabit\\nhair\\nhalf\\nhammer\\nhamster\\nhand\\nhappy\\nharbor\\nhard\\nharsh\\nharvest\\nhat\\nhave\\nhawk\\nhazard\\nhead\\nhealth\\nheart\\nheavy\\nhedgehog\\nheight\\nhello\\nhelmet\\nhelp\\nhen\\nhero\\nhidden\\nhigh\\nhill\\nhint\\nhip\\nhire\\nhistory\\nhobby\\nhockey\\nhold\\nhole\\nholiday\\nhollow\\nhome\\nhoney\\nhood\\nhope\\nhorn\\nhorror\\nhorse\\nhospital\\nhost\\nhotel\\nhour\\nhover\\nhub\\nhuge\\nhuman\\nhumble\\nhumor\\nhundred\\nhungry\\nhunt\\nhurdle\\nhurry\\nhurt\\nhusband\\nhybrid\\nice\\nicon\\nidea\\nidentify\\nidle\\nignore\\nill\\nillegal\\nillness\\nimage\\nimitate\\nimmense\\nimmune\\nimpact\\nimpose\\nimprove\\nimpulse\\ninch\\ninclude\\nincome\\nincrease\\nindex\\nindicate\\nindoor\\nindustry\\ninfant\\ninflict\\ninform\\ninhale\\ninherit\\ninitial\\ninject\\ninjury\\ninmate\\ninner\\ninnocent\\ninput\\ninquiry\\ninsane\\ninsect\\ninside\\ninspire\\ninstall\\nintact\\ninterest\\ninto\\ninvest\\ninvite\\ninvolve\\niron\\nisland\\nisolate\\nissue\\nitem\\nivory\\njacket\\njaguar\\njar\\njazz\\njealous\\njeans\\njelly\\njewel\\njob\\njoin\\njoke\\njourney\\njoy\\njudge\\njuice\\njump\\njungle\\njunior\\njunk\\njust\\nkangaroo\\nkeen\\nkeep\\nketchup\\nkey\\nkick\\nkid\\nkidney\\nkind\\nkingdom\\nkiss\\nkit\\nkitchen\\nkite\\nkitten\\nkiwi\\nknee\\nknife\\nknock\\nknow\\nlab\\nlabel\\nlabor\\nladder\\nlady\\nlake\\nlamp\\nlanguage\\nlaptop\\nlarge\\nlater\\nlatin\\nlaugh\\nlaundry\\nlava\\nlaw\\nlawn\\nlawsuit\\nlayer\\nlazy\\nleader\\nleaf\\nlearn\\nleave\\nlecture\\nleft\\nleg\\nlegal\\nlegend\\nleisure\\nlemon\\nlend\\nlength\\nlens\\nleopard\\nlesson\\nletter\\nlevel\\nliar\\nliberty\\nlibrary\\nlicense\\nlife\\nlift\\nlight\\nlike\\nlimb\\nlimit\\nlink\\nlion\\nliquid\\nlist\\nlittle\\nlive\\nlizard\\nload\\nloan\\nlobster\\nlocal\\nlock\\nlogic\\nlonely\\nlong\\nloop\\nlottery\\nloud\\nlounge\\nlove\\nloyal\\nlucky\\nluggage\\nlumber\\nlunar\\nlunch\\nluxury\\nlyrics\\nmachine\\nmad\\nmagic\\nmagnet\\nmaid\\nmail\\nmain\\nmajor\\nmake\\nmammal\\nman\\nmanage\\nmandate\\nmango\\nmansion\\nmanual\\nmaple\\nmarble\\nmarch\\nmargin\\nmarine\\nmarket\\nmarriage\\nmask\\nmass\\nmaster\\nmatch\\nmaterial\\nmath\\nmatrix\\nmatter\\nmaximum\\nmaze\\nmeadow\\nmean\\nmeasure\\nmeat\\nmechanic\\nmedal\\nmedia\\nmelody\\nmelt\\nmember\\nmemory\\nmention\\nmenu\\nmercy\\nmerge\\nmerit\\nmerry\\nmesh\\nmessage\\nmetal\\nmethod\\nmiddle\\nmidnight\\nmilk\\nmillion\\nmimic\\nmind\\nminimum\\nminor\\nminute\\nmiracle\\nmirror\\nmisery\\nmiss\\nmistake\\nmix\\nmixed\\nmixture\\nmobile\\nmodel\\nmodify\\nmom\\nmoment\\nmonitor\\nmonkey\\nmonster\\nmonth\\nmoon\\nmoral\\nmore\\nmorning\\nmosquito\\nmother\\nmotion\\nmotor\\nmountain\\nmouse\\nmove\\nmovie\\nmuch\\nmuffin\\nmule\\nmultiply\\nmuscle\\nmuseum\\nmushroom\\nmusic\\nmust\\nmutual\\nmyself\\nmystery\\nmyth\\nnaive\\nname\\nnapkin\\nnarrow\\nnasty\\nnation\\nnature\\nnear\\nneck\\nneed\\nnegative\\nneglect\\nneither\\nnephew\\nnerve\\nnest\\nnet\\nnetwork\\nneutral\\nnever\\nnews\\nnext\\nnice\\nnight\\nnoble\\nnoise\\nnominee\\nnoodle\\nnormal\\nnorth\\nnose\\nnotable\\nnote\\nnothing\\nnotice\\nnovel\\nnow\\nnuclear\\nnumber\\nnurse\\nnut\\noak\\nobey\\nobject\\noblige\\nobscure\\nobserve\\nobtain\\nobvious\\noccur\\nocean\\noctober\\nodor\\noff\\noffer\\noffice\\noften\\noil\\nokay\\nold\\nolive\\nolympic\\nomit\\nonce\\none\\nonion\\nonline\\nonly\\nopen\\nopera\\nopinion\\noppose\\noption\\norange\\norbit\\norchard\\norder\\nordinary\\norgan\\norient\\noriginal\\norphan\\nostrich\\nother\\noutdoor\\nouter\\noutput\\noutside\\noval\\noven\\nover\\nown\\nowner\\noxygen\\noyster\\nozone\\npact\\npaddle\\npage\\npair\\npalace\\npalm\\npanda\\npanel\\npanic\\npanther\\npaper\\nparade\\nparent\\npark\\nparrot\\nparty\\npass\\npatch\\npath\\npatient\\npatrol\\npattern\\npause\\npave\\npayment\\npeace\\npeanut\\npear\\npeasant\\npelican\\npen\\npenalty\\npencil\\npeople\\npepper\\nperfect\\npermit\\nperson\\npet\\nphone\\nphoto\\nphrase\\nphysical\\npiano\\npicnic\\npicture\\npiece\\npig\\npigeon\\npill\\npilot\\npink\\npioneer\\npipe\\npistol\\npitch\\npizza\\nplace\\nplanet\\nplastic\\nplate\\nplay\\nplease\\npledge\\npluck\\nplug\\nplunge\\npoem\\npoet\\npoint\\npolar\\npole\\npolice\\npond\\npony\\npool\\npopular\\nportion\\nposition\\npossible\\npost\\npotato\\npottery\\npoverty\\npowder\\npower\\npractice\\npraise\\npredict\\nprefer\\nprepare\\npresent\\npretty\\nprevent\\nprice\\npride\\nprimary\\nprint\\npriority\\nprison\\nprivate\\nprize\\nproblem\\nprocess\\nproduce\\nprofit\\nprogram\\nproject\\npromote\\nproof\\nproperty\\nprosper\\nprotect\\nproud\\nprovide\\npublic\\npudding\\npull\\npulp\\npulse\\npumpkin\\npunch\\npupil\\npuppy\\npurchase\\npurity\\npurpose\\npurse\\npush\\nput\\npuzzle\\npyramid\\nquality\\nquantum\\nquarter\\nquestion\\nquick\\nquit\\nquiz\\nquote\\nrabbit\\nraccoon\\nrace\\nrack\\nradar\\nradio\\nrail\\nrain\\nraise\\nrally\\nramp\\nranch\\nrandom\\nrange\\nrapid\\nrare\\nrate\\nrather\\nraven\\nraw\\nrazor\\nready\\nreal\\nreason\\nrebel\\nrebuild\\nrecall\\nreceive\\nrecipe\\nrecord\\nrecycle\\nreduce\\nreflect\\nreform\\nrefuse\\nregion\\nregret\\nregular\\nreject\\nrelax\\nrelease\\nrelief\\nrely\\nremain\\nremember\\nremind\\nremove\\nrender\\nrenew\\nrent\\nreopen\\nrepair\\nrepeat\\nreplace\\nreport\\nrequire\\nrescue\\nresemble\\nresist\\nresource\\nresponse\\nresult\\nretire\\nretreat\\nreturn\\nreunion\\nreveal\\nreview\\nreward\\nrhythm\\nrib\\nribbon\\nrice\\nrich\\nride\\nridge\\nrifle\\nright\\nrigid\\nring\\nriot\\nripple\\nrisk\\nritual\\nrival\\nriver\\nroad\\nroast\\nrobot\\nrobust\\nrocket\\nromance\\nroof\\nrookie\\nroom\\nrose\\nrotate\\nrough\\nround\\nroute\\nroyal\\nrubber\\nrude\\nrug\\nrule\\nrun\\nrunway\\nrural\\nsad\\nsaddle\\nsadness\\nsafe\\nsail\\nsalad\\nsalmon\\nsalon\\nsalt\\nsalute\\nsame\\nsample\\nsand\\nsatisfy\\nsatoshi\\nsauce\\nsausage\\nsave\\nsay\\nscale\\nscan\\nscare\\nscatter\\nscene\\nscheme\\nschool\\nscience\\nscissors\\nscorpion\\nscout\\nscrap\\nscreen\\nscript\\nscrub\\nsea\\nsearch\\nseason\\nseat\\nsecond\\nsecret\\nsection\\nsecurity\\nseed\\nseek\\nsegment\\nselect\\nsell\\nseminar\\nsenior\\nsense\\nsentence\\nseries\\nservice\\nsession\\nsettle\\nsetup\\nseven\\nshadow\\nshaft\\nshallow\\nshare\\nshed\\nshell\\nsheriff\\nshield\\nshift\\nshine\\nship\\nshiver\\nshock\\nshoe\\nshoot\\nshop\\nshort\\nshoulder\\nshove\\nshrimp\\nshrug\\nshuffle\\nshy\\nsibling\\nsick\\nside\\nsiege\\nsight\\nsign\\nsilent\\nsilk\\nsilly\\nsilver\\nsimilar\\nsimple\\nsince\\nsing\\nsiren\\nsister\\nsituate\\nsix\\nsize\\nskate\\nsketch\\nski\\nskill\\nskin\\nskirt\\nskull\\nslab\\nslam\\nsleep\\nslender\\nslice\\nslide\\nslight\\nslim\\nslogan\\nslot\\nslow\\nslush\\nsmall\\nsmart\\nsmile\\nsmoke\\nsmooth\\nsnack\\nsnake\\nsnap\\nsniff\\nsnow\\nsoap\\nsoccer\\nsocial\\nsock\\nsoda\\nsoft\\nsolar\\nsoldier\\nsolid\\nsolution\\nsolve\\nsomeone\\nsong\\nsoon\\nsorry\\nsort\\nsoul\\nsound\\nsoup\\nsource\\nsouth\\nspace\\nspare\\nspatial\\nspawn\\nspeak\\nspecial\\nspeed\\nspell\\nspend\\nsphere\\nspice\\nspider\\nspike\\nspin\\nspirit\\nsplit\\nspoil\\nsponsor\\nspoon\\nsport\\nspot\\nspray\\nspread\\nspring\\nspy\\nsquare\\nsqueeze\\nsquirrel\\nstable\\nstadium\\nstaff\\nstage\\nstairs\\nstamp\\nstand\\nstart\\nstate\\nstay\\nsteak\\nsteel\\nstem\\nstep\\nstereo\\nstick\\nstill\\nsting\\nstock\\nstomach\\nstone\\nstool\\nstory\\nstove\\nstrategy\\nstreet\\nstrike\\nstrong\\nstruggle\\nstudent\\nstuff\\nstumble\\nstyle\\nsubject\\nsubmit\\nsubway\\nsuccess\\nsuch\\nsudden\\nsuffer\\nsugar\\nsuggest\\nsuit\\nsummer\\nsun\\nsunny\\nsunset\\nsuper\\nsupply\\nsupreme\\nsure\\nsurface\\nsurge\\nsurprise\\nsurround\\nsurvey\\nsuspect\\nsustain\\nswallow\\nswamp\\nswap\\nswarm\\nswear\\nsweet\\nswift\\nswim\\nswing\\nswitch\\nsword\\nsymbol\\nsymptom\\nsyrup\\nsystem\\ntable\\ntackle\\ntag\\ntail\\ntalent\\ntalk\\ntank\\ntape\\ntarget\\ntask\\ntaste\\ntattoo\\ntaxi\\nteach\\nteam\\ntell\\nten\\ntenant\\ntennis\\ntent\\nterm\\ntest\\ntext\\nthank\\nthat\\ntheme\\nthen\\ntheory\\nthere\\nthey\\nthing\\nthis\\nthought\\nthree\\nthrive\\nthrow\\nthumb\\nthunder\\nticket\\ntide\\ntiger\\ntilt\\ntimber\\ntime\\ntiny\\ntip\\ntired\\ntissue\\ntitle\\ntoast\\ntobacco\\ntoday\\ntoddler\\ntoe\\ntogether\\ntoilet\\ntoken\\ntomato\\ntomorrow\\ntone\\ntongue\\ntonight\\ntool\\ntooth\\ntop\\ntopic\\ntopple\\ntorch\\ntornado\\ntortoise\\ntoss\\ntotal\\ntourist\\ntoward\\ntower\\ntown\\ntoy\\ntrack\\ntrade\\ntraffic\\ntragic\\ntrain\\ntransfer\\ntrap\\ntrash\\ntravel\\ntray\\ntreat\\ntree\\ntrend\\ntrial\\ntribe\\ntrick\\ntrigger\\ntrim\\ntrip\\ntrophy\\ntrouble\\ntruck\\ntrue\\ntruly\\ntrumpet\\ntrust\\ntruth\\ntry\\ntube\\ntuition\\ntumble\\ntuna\\ntunnel\\nturkey\\nturn\\nturtle\\ntwelve\\ntwenty\\ntwice\\ntwin\\ntwist\\ntwo\\ntype\\ntypical\\nugly\\numbrella\\nunable\\nunaware\\nuncle\\nuncover\\nunder\\nundo\\nunfair\\nunfold\\nunhappy\\nuniform\\nunique\\nunit\\nuniverse\\nunknown\\nunlock\\nuntil\\nunusual\\nunveil\\nupdate\\nupgrade\\nuphold\\nupon\\nupper\\nupset\\nurban\\nurge\\nusage\\nuse\\nused\\nuseful\\nuseless\\nusual\\nutility\\nvacant\\nvacuum\\nvague\\nvalid\\nvalley\\nvalve\\nvan\\nvanish\\nvapor\\nvarious\\nvast\\nvault\\nvehicle\\nvelvet\\nvendor\\nventure\\nvenue\\nverb\\nverify\\nversion\\nvery\\nvessel\\nveteran\\nviable\\nvibrant\\nvicious\\nvictory\\nvideo\\nview\\nvillage\\nvintage\\nviolin\\nvirtual\\nvirus\\nvisa\\nvisit\\nvisual\\nvital\\nvivid\\nvocal\\nvoice\\nvoid\\nvolcano\\nvolume\\nvote\\nvoyage\\nwage\\nwagon\\nwait\\nwalk\\nwall\\nwalnut\\nwant\\nwarfare\\nwarm\\nwarrior\\nwash\\nwasp\\nwaste\\nwater\\nwave\\nway\\nwealth\\nweapon\\nwear\\nweasel\\nweather\\nweb\\nwedding\\nweekend\\nweird\\nwelcome\\nwest\\nwet\\nwhale\\nwhat\\nwheat\\nwheel\\nwhen\\nwhere\\nwhip\\nwhisper\\nwide\\nwidth\\nwife\\nwild\\nwill\\nwin\\nwindow\\nwine\\nwing\\nwink\\nwinner\\nwinter\\nwire\\nwisdom\\nwise\\nwish\\nwitness\\nwolf\\nwoman\\nwonder\\nwood\\nwool\\nword\\nwork\\nworld\\nworry\\nworth\\nwrap\\nwreck\\nwrestle\\nwrist\\nwrite\\nwrong\\nyard\\nyear\\nyellow\\nyou\\nyoung\\nyouth\\nzebra\\nzero\\nzone\\nzoo\".split('\\n');","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport var HMAC = /*#__PURE__*/function (_Hash) {\n  _inherits(HMAC, _Hash);\n  var _super = _createSuper(HMAC);\n  function HMAC(hash, _key) {\n    var _this;\n    _classCallCheck(this, HMAC);\n    _this = _super.call(this);\n    _this.finished = false;\n    _this.destroyed = false;\n    assertHash(hash);\n    var key = toBytes(_key);\n    _this.iHash = hash.create();\n    if (typeof _this.iHash.update !== 'function') throw new Error('Expected instance of class which extends utils.Hash');\n    _this.blockLen = _this.iHash.blockLen;\n    _this.outputLen = _this.iHash.outputLen;\n    var blockLen = _this.blockLen;\n    var pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (var i = 0; i < pad.length; i++) {\n      pad[i] ^= 0x36;\n    }\n    _this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    _this.oHash = hash.create();\n    // Undo internal XOR && apply outer XOR\n    for (var _i = 0; _i < pad.length; _i++) {\n      pad[_i] ^= 0x36 ^ 0x5c;\n    }\n    _this.oHash.update(pad);\n    pad.fill(0);\n    return _this;\n  }\n  _createClass(HMAC, [{\n    key: \"update\",\n    value: function update(buf) {\n      assertExists(this);\n      this.iHash.update(buf);\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assertExists(this);\n      assertBytes(out, this.outputLen);\n      this.finished = true;\n      this.iHash.digestInto(out);\n      this.oHash.update(out);\n      this.oHash.digestInto(out);\n      this.destroy();\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var out = new Uint8Array(this.oHash.outputLen);\n      this.digestInto(out);\n      return out;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      // Create new instance without calling constructor since key already in state and we don't know it.\n      to || (to = Object.create(Object.getPrototypeOf(this), {}));\n      var oHash = this.oHash,\n        iHash = this.iHash,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        blockLen = this.blockLen,\n        outputLen = this.outputLen;\n      to = to;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      to.blockLen = blockLen;\n      to.outputLen = outputLen;\n      to.oHash = oHash._cloneInto(to.oHash);\n      to.iHash = iHash._cloneInto(to.iHash);\n      return to;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.destroyed = true;\n      this.oHash.destroy();\n      this.iHash.destroy();\n    }\n  }]);\n  return HMAC;\n}(Hash);\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport var hmac = function hmac(hash, key, message) {\n  return new HMAC(hash, key).update(message).digest();\n};\nhmac.create = function (hash, key) {\n  return new HMAC(hash, key);\n};","import _asyncToGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/regenerator/index.js\";\nimport { hash as assertHash, number as assertNumber } from './_assert.js';\nimport { hmac } from './hmac.js';\nimport { createView, toBytes, checkOpts, asyncLoop } from './utils.js';\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash, _password, _salt, _opts) {\n  assertHash(hash);\n  var opts = checkOpts({\n    dkLen: 32,\n    asyncTick: 10\n  }, _opts);\n  var c = opts.c,\n    dkLen = opts.dkLen,\n    asyncTick = opts.asyncTick;\n  assertNumber(c);\n  assertNumber(dkLen);\n  assertNumber(asyncTick);\n  if (c < 1) throw new Error('PBKDF2: iterations (c) should be >= 1');\n  var password = toBytes(_password);\n  var salt = toBytes(_salt);\n  // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n  var DK = new Uint8Array(dkLen);\n  // U1 = PRF(Password, Salt + INT_32_BE(i))\n  var PRF = hmac.create(hash, password);\n  var PRFSalt = PRF._cloneInto().update(salt);\n  return {\n    c: c,\n    dkLen: dkLen,\n    asyncTick: asyncTick,\n    DK: DK,\n    PRF: PRF,\n    PRFSalt: PRFSalt\n  };\n}\nfunction pbkdf2Output(PRF, PRFSalt, DK, prfW, u) {\n  PRF.destroy();\n  PRFSalt.destroy();\n  if (prfW) prfW.destroy();\n  u.fill(0);\n  return DK;\n}\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n */\nexport function pbkdf2(hash, password, salt, opts) {\n  var _pbkdf2Init = pbkdf2Init(hash, password, salt, opts),\n    c = _pbkdf2Init.c,\n    dkLen = _pbkdf2Init.dkLen,\n    DK = _pbkdf2Init.DK,\n    PRF = _pbkdf2Init.PRF,\n    PRFSalt = _pbkdf2Init.PRFSalt;\n  var prfW; // Working copy\n  var arr = new Uint8Array(4);\n  var view = createView(arr);\n  var u = new Uint8Array(PRF.outputLen);\n  // DK = T1 + T2 + ⋯ + Tdklen/hlen\n  for (var ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n    // Ti = F(Password, Salt, c, i)\n    var Ti = DK.subarray(pos, pos + PRF.outputLen);\n    view.setInt32(0, ti, false);\n    // F(Password, Salt, c, i) = U1 ^ U2 ^ ⋯ ^ Uc\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n    Ti.set(u.subarray(0, Ti.length));\n    for (var ui = 1; ui < c; ui++) {\n      // Uc = PRF(Password, Uc−1)\n      PRF._cloneInto(prfW).update(u).digestInto(u);\n      for (var i = 0; i < Ti.length; i++) {\n        Ti[i] ^= u[i];\n      }\n    }\n  }\n  return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\nexport function pbkdf2Async(_x, _x2, _x3, _x4) {\n  return _pbkdf2Async.apply(this, arguments);\n}\nfunction _pbkdf2Async() {\n  _pbkdf2Async = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(hash, password, salt, opts) {\n    var _pbkdf2Init2, c, dkLen, asyncTick, DK, PRF, PRFSalt, prfW, arr, view, u, _loop, ti, pos;\n    return _regeneratorRuntime.wrap(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _pbkdf2Init2 = pbkdf2Init(hash, password, salt, opts), c = _pbkdf2Init2.c, dkLen = _pbkdf2Init2.dkLen, asyncTick = _pbkdf2Init2.asyncTick, DK = _pbkdf2Init2.DK, PRF = _pbkdf2Init2.PRF, PRFSalt = _pbkdf2Init2.PRFSalt;\n            // Working copy\n            arr = new Uint8Array(4);\n            view = createView(arr);\n            u = new Uint8Array(PRF.outputLen); // DK = T1 + T2 + ⋯ + Tdklen/hlen\n            _loop = /*#__PURE__*/_regeneratorRuntime.mark(function _loop(ti, pos) {\n              var Ti;\n              return _regeneratorRuntime.wrap(function _loop$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      // Ti = F(Password, Salt, c, i)\n                      Ti = DK.subarray(pos, pos + PRF.outputLen);\n                      view.setInt32(0, ti, false);\n                      // F(Password, Salt, c, i) = U1 ^ U2 ^ ⋯ ^ Uc\n                      // U1 = PRF(Password, Salt + INT_32_BE(i))\n                      (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n                      Ti.set(u.subarray(0, Ti.length));\n                      _context.next = 6;\n                      return asyncLoop(c - 1, asyncTick, function () {\n                        // Uc = PRF(Password, Uc−1)\n                        PRF._cloneInto(prfW).update(u).digestInto(u);\n                        for (var i = 0; i < Ti.length; i++) {\n                          Ti[i] ^= u[i];\n                        }\n                      });\n                    case 6:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _loop);\n            });\n            ti = 1, pos = 0;\n          case 6:\n            if (!(pos < dkLen)) {\n              _context2.next = 11;\n              break;\n            }\n            return _context2.delegateYield(_loop(ti, pos), \"t0\", 8);\n          case 8:\n            ti++, pos += PRF.outputLen;\n            _context2.next = 6;\n            break;\n          case 11:\n            return _context2.abrupt(\"return\", pbkdf2Output(PRF, PRFSalt, DK, prfW, u));\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _pbkdf2Async.apply(this, arguments);\n}","import _toConsumableArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { exists, output } from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  var _32n = BigInt(32);\n  var _u32_max = BigInt(0xffffffff);\n  var wh = Number(value >> _32n & _u32_max);\n  var wl = Number(value & _u32_max);\n  var h = isLE ? 4 : 0;\n  var l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport var SHA2 = /*#__PURE__*/function (_Hash) {\n  _inherits(SHA2, _Hash);\n  var _super = _createSuper(SHA2);\n  function SHA2(blockLen, outputLen, padOffset, isLE) {\n    var _this;\n    _classCallCheck(this, SHA2);\n    _this = _super.call(this);\n    _this.blockLen = blockLen;\n    _this.outputLen = outputLen;\n    _this.padOffset = padOffset;\n    _this.isLE = isLE;\n    _this.finished = false;\n    _this.length = 0;\n    _this.pos = 0;\n    _this.destroyed = false;\n    _this.buffer = new Uint8Array(blockLen);\n    _this.view = createView(_this.buffer);\n    return _this;\n  }\n  _createClass(SHA2, [{\n    key: \"update\",\n    value: function update(data) {\n      exists(this);\n      var view = this.view,\n        buffer = this.buffer,\n        blockLen = this.blockLen;\n      data = toBytes(data);\n      var len = data.length;\n      for (var pos = 0; pos < len;) {\n        var take = Math.min(blockLen - this.pos, len - pos);\n        // Fast path: we have at least one block in input, cast it to view and process\n        if (take === blockLen) {\n          var dataView = createView(data);\n          for (; blockLen <= len - pos; pos += blockLen) {\n            this.process(dataView, pos);\n          }\n          continue;\n        }\n        buffer.set(data.subarray(pos, pos + take), this.pos);\n        this.pos += take;\n        pos += take;\n        if (this.pos === blockLen) {\n          this.process(view, 0);\n          this.pos = 0;\n        }\n      }\n      this.length += data.length;\n      this.roundClean();\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      exists(this);\n      output(out, this);\n      this.finished = true;\n      // Padding\n      // We can avoid allocation of buffer for padding completely if it\n      // was previously not allocated here. But it won't change performance.\n      var buffer = this.buffer,\n        view = this.view,\n        blockLen = this.blockLen,\n        isLE = this.isLE;\n      var pos = this.pos;\n      // append the bit '1' to the message\n      buffer[pos++] = 128;\n      this.buffer.subarray(pos).fill(0);\n      // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n      if (this.padOffset > blockLen - pos) {\n        this.process(view, 0);\n        pos = 0;\n      }\n      // Pad until full block byte with zeros\n      for (var i = pos; i < blockLen; i++) {\n        buffer[i] = 0;\n      }\n      // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n      // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n      // So we just write lowest 64 bits of that value.\n      setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n      this.process(view, 0);\n      var oview = createView(out);\n      var len = this.outputLen;\n      // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n      if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n      var outLen = len / 4;\n      var state = this.get();\n      if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n      for (var _i = 0; _i < outLen; _i++) {\n        oview.setUint32(4 * _i, state[_i], isLE);\n      }\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var buffer = this.buffer,\n        outputLen = this.outputLen;\n      this.digestInto(buffer);\n      var res = buffer.slice(0, outputLen);\n      this.destroy();\n      return res;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      var _to;\n      to || (to = new this.constructor());\n      (_to = to).set.apply(_to, _toConsumableArray(this.get()));\n      var blockLen = this.blockLen,\n        buffer = this.buffer,\n        length = this.length,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        pos = this.pos;\n      to.length = length;\n      to.pos = pos;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      if (length % blockLen) to.buffer.set(buffer);\n      return to;\n    }\n  }]);\n  return SHA2;\n}(Hash);","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n// Choice: a ? b : c\nvar Chi = function Chi(a, b, c) {\n  return a & b ^ ~a & c;\n};\n// Majority function, true if any two inpust is true\nvar Maj = function Maj(a, b, c) {\n  return a & b ^ a & c ^ b & c;\n};\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nvar SHA256_K = /* @__PURE__ */new Uint32Array([0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nvar IV = /* @__PURE__ */new Uint32Array([0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nvar SHA256_W = /* @__PURE__ */new Uint32Array(64);\nvar SHA256 = /*#__PURE__*/function (_SHA) {\n  _inherits(SHA256, _SHA);\n  var _super = _createSuper(SHA256);\n  function SHA256() {\n    var _this;\n    _classCallCheck(this, SHA256);\n    _this = _super.call(this, 64, 32, 8, false);\n    // We cannot use array here since array allows indexing by variable\n    // which means optimizer/compiler cannot use registers.\n    _this.A = IV[0] | 0;\n    _this.B = IV[1] | 0;\n    _this.C = IV[2] | 0;\n    _this.D = IV[3] | 0;\n    _this.E = IV[4] | 0;\n    _this.F = IV[5] | 0;\n    _this.G = IV[6] | 0;\n    _this.H = IV[7] | 0;\n    return _this;\n  }\n  _createClass(SHA256, [{\n    key: \"get\",\n    value: function get() {\n      var A = this.A,\n        B = this.B,\n        C = this.C,\n        D = this.D,\n        E = this.E,\n        F = this.F,\n        G = this.G,\n        H = this.H;\n      return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n  }, {\n    key: \"set\",\n    value: function set(A, B, C, D, E, F, G, H) {\n      this.A = A | 0;\n      this.B = B | 0;\n      this.C = C | 0;\n      this.D = D | 0;\n      this.E = E | 0;\n      this.F = F | 0;\n      this.G = G | 0;\n      this.H = H | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n      for (var i = 0; i < 16; i++, offset += 4) {\n        SHA256_W[i] = view.getUint32(offset, false);\n      }\n      for (var _i = 16; _i < 64; _i++) {\n        var W15 = SHA256_W[_i - 15];\n        var W2 = SHA256_W[_i - 2];\n        var s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ W15 >>> 3;\n        var s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ W2 >>> 10;\n        SHA256_W[_i] = s1 + SHA256_W[_i - 7] + s0 + SHA256_W[_i - 16] | 0;\n      }\n      // Compression function main loop, 64 rounds\n      var A = this.A,\n        B = this.B,\n        C = this.C,\n        D = this.D,\n        E = this.E,\n        F = this.F,\n        G = this.G,\n        H = this.H;\n      for (var i = 0; i < 64; i++) {\n        var sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n        var T1 = H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i] | 0;\n        var sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n        var T2 = sigma0 + Maj(A, B, C) | 0;\n        H = G;\n        G = F;\n        F = E;\n        E = D + T1 | 0;\n        D = C;\n        C = B;\n        B = A;\n        A = T1 + T2 | 0;\n      }\n      // Add the compressed chunk to the current hash value\n      A = A + this.A | 0;\n      B = B + this.B | 0;\n      C = C + this.C | 0;\n      D = D + this.D | 0;\n      E = E + this.E | 0;\n      F = F + this.F | 0;\n      G = G + this.G | 0;\n      H = H + this.H | 0;\n      this.set(A, B, C, D, E, F, G, H);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      SHA256_W.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.set(0, 0, 0, 0, 0, 0, 0, 0);\n      this.buffer.fill(0);\n    }\n  }]);\n  return SHA256;\n}(SHA2); // Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nvar SHA224 = /*#__PURE__*/function (_SHA2) {\n  _inherits(SHA224, _SHA2);\n  var _super2 = _createSuper(SHA224);\n  function SHA224() {\n    var _this2;\n    _classCallCheck(this, SHA224);\n    _this2 = _super2.call(this);\n    _this2.A = 0xc1059ed8 | 0;\n    _this2.B = 0x367cd507 | 0;\n    _this2.C = 0x3070dd17 | 0;\n    _this2.D = 0xf70e5939 | 0;\n    _this2.E = 0xffc00b31 | 0;\n    _this2.F = 0x68581511 | 0;\n    _this2.G = 0x64f98fa7 | 0;\n    _this2.H = 0xbefa4fa4 | 0;\n    _this2.outputLen = 28;\n    return _this2;\n  }\n  return _createClass(SHA224);\n}(SHA256);\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport var sha256 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA256();\n});\nexport var sha224 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA224();\n});","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nvar _ref = /* @__PURE__ */function () {\n    return u64.split(['0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc', '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118', '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2', '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694', '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65', '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5', '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4', '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70', '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df', '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b', '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30', '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8', '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8', '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3', '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec', '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b', '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178', '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b', '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c', '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'].map(function (n) {\n      return BigInt(n);\n    }));\n  }(),\n  _ref2 = _slicedToArray(_ref, 2),\n  SHA512_Kh = _ref2[0],\n  SHA512_Kl = _ref2[1];\n// Temporary buffer, not used to store anything between runs\nvar SHA512_W_H = /* @__PURE__ */new Uint32Array(80);\nvar SHA512_W_L = /* @__PURE__ */new Uint32Array(80);\nexport var SHA512 = /*#__PURE__*/function (_SHA) {\n  _inherits(SHA512, _SHA);\n  var _super = _createSuper(SHA512);\n  function SHA512() {\n    var _this;\n    _classCallCheck(this, SHA512);\n    _this = _super.call(this, 128, 64, 16, false);\n    // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n    // Also looks cleaner and easier to verify with spec.\n    // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n    // h -- high 32 bits, l -- low 32 bits\n    _this.Ah = 0x6a09e667 | 0;\n    _this.Al = 0xf3bcc908 | 0;\n    _this.Bh = 0xbb67ae85 | 0;\n    _this.Bl = 0x84caa73b | 0;\n    _this.Ch = 0x3c6ef372 | 0;\n    _this.Cl = 0xfe94f82b | 0;\n    _this.Dh = 0xa54ff53a | 0;\n    _this.Dl = 0x5f1d36f1 | 0;\n    _this.Eh = 0x510e527f | 0;\n    _this.El = 0xade682d1 | 0;\n    _this.Fh = 0x9b05688c | 0;\n    _this.Fl = 0x2b3e6c1f | 0;\n    _this.Gh = 0x1f83d9ab | 0;\n    _this.Gl = 0xfb41bd6b | 0;\n    _this.Hh = 0x5be0cd19 | 0;\n    _this.Hl = 0x137e2179 | 0;\n    return _this;\n  }\n  // prettier-ignore\n  _createClass(SHA512, [{\n    key: \"get\",\n    value: function get() {\n      var Ah = this.Ah,\n        Al = this.Al,\n        Bh = this.Bh,\n        Bl = this.Bl,\n        Ch = this.Ch,\n        Cl = this.Cl,\n        Dh = this.Dh,\n        Dl = this.Dl,\n        Eh = this.Eh,\n        El = this.El,\n        Fh = this.Fh,\n        Fl = this.Fl,\n        Gh = this.Gh,\n        Gl = this.Gl,\n        Hh = this.Hh,\n        Hl = this.Hl;\n      return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n  }, {\n    key: \"set\",\n    value: function set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n      this.Ah = Ah | 0;\n      this.Al = Al | 0;\n      this.Bh = Bh | 0;\n      this.Bl = Bl | 0;\n      this.Ch = Ch | 0;\n      this.Cl = Cl | 0;\n      this.Dh = Dh | 0;\n      this.Dl = Dl | 0;\n      this.Eh = Eh | 0;\n      this.El = El | 0;\n      this.Fh = Fh | 0;\n      this.Fl = Fl | 0;\n      this.Gh = Gh | 0;\n      this.Gl = Gl | 0;\n      this.Hh = Hh | 0;\n      this.Hl = Hl | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n      for (var i = 0; i < 16; i++, offset += 4) {\n        SHA512_W_H[i] = view.getUint32(offset);\n        SHA512_W_L[i] = view.getUint32(offset += 4);\n      }\n      for (var _i = 16; _i < 80; _i++) {\n        // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n        var W15h = SHA512_W_H[_i - 15] | 0;\n        var W15l = SHA512_W_L[_i - 15] | 0;\n        var s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n        var s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n        // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n        var W2h = SHA512_W_H[_i - 2] | 0;\n        var W2l = SHA512_W_L[_i - 2] | 0;\n        var s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n        var s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n        // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n        var SUMl = u64.add4L(s0l, s1l, SHA512_W_L[_i - 7], SHA512_W_L[_i - 16]);\n        var SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[_i - 7], SHA512_W_H[_i - 16]);\n        SHA512_W_H[_i] = SUMh | 0;\n        SHA512_W_L[_i] = SUMl | 0;\n      }\n      var Ah = this.Ah,\n        Al = this.Al,\n        Bh = this.Bh,\n        Bl = this.Bl,\n        Ch = this.Ch,\n        Cl = this.Cl,\n        Dh = this.Dh,\n        Dl = this.Dl,\n        Eh = this.Eh,\n        El = this.El,\n        Fh = this.Fh,\n        Fl = this.Fl,\n        Gh = this.Gh,\n        Gl = this.Gl,\n        Hh = this.Hh,\n        Hl = this.Hl;\n      // Compression function main loop, 80 rounds\n      for (var i = 0; i < 80; i++) {\n        // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n        var sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n        var sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n        //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n        var CHIh = Eh & Fh ^ ~Eh & Gh;\n        var CHIl = El & Fl ^ ~El & Gl;\n        // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n        // prettier-ignore\n        var T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n        var T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n        var T1l = T1ll | 0;\n        // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n        var sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n        var sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n        var MAJh = Ah & Bh ^ Ah & Ch ^ Bh & Ch;\n        var MAJl = Al & Bl ^ Al & Cl ^ Bl & Cl;\n        Hh = Gh | 0;\n        Hl = Gl | 0;\n        Gh = Fh | 0;\n        Gl = Fl | 0;\n        Fh = Eh | 0;\n        Fl = El | 0;\n        var _u64$add = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0);\n        Eh = _u64$add.h;\n        El = _u64$add.l;\n        Dh = Ch | 0;\n        Dl = Cl | 0;\n        Ch = Bh | 0;\n        Cl = Bl | 0;\n        Bh = Ah | 0;\n        Bl = Al | 0;\n        var All = u64.add3L(T1l, sigma0l, MAJl);\n        Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n        Al = All | 0;\n      }\n      // Add the compressed chunk to the current hash value\n      var _u64$add2 = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0);\n      Ah = _u64$add2.h;\n      Al = _u64$add2.l;\n      var _u64$add3 = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0);\n      Bh = _u64$add3.h;\n      Bl = _u64$add3.l;\n      var _u64$add4 = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0);\n      Ch = _u64$add4.h;\n      Cl = _u64$add4.l;\n      var _u64$add5 = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0);\n      Dh = _u64$add5.h;\n      Dl = _u64$add5.l;\n      var _u64$add6 = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0);\n      Eh = _u64$add6.h;\n      El = _u64$add6.l;\n      var _u64$add7 = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0);\n      Fh = _u64$add7.h;\n      Fl = _u64$add7.l;\n      var _u64$add8 = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0);\n      Gh = _u64$add8.h;\n      Gl = _u64$add8.l;\n      var _u64$add9 = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0);\n      Hh = _u64$add9.h;\n      Hl = _u64$add9.l;\n      this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      SHA512_W_H.fill(0);\n      SHA512_W_L.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.buffer.fill(0);\n      this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n  }]);\n  return SHA512;\n}(SHA2);\nvar SHA512_224 = /*#__PURE__*/function (_SHA2) {\n  _inherits(SHA512_224, _SHA2);\n  var _super2 = _createSuper(SHA512_224);\n  function SHA512_224() {\n    var _this2;\n    _classCallCheck(this, SHA512_224);\n    _this2 = _super2.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this2.Ah = 0x8c3d37c8 | 0;\n    _this2.Al = 0x19544da2 | 0;\n    _this2.Bh = 0x73e19966 | 0;\n    _this2.Bl = 0x89dcd4d6 | 0;\n    _this2.Ch = 0x1dfab7ae | 0;\n    _this2.Cl = 0x32ff9c82 | 0;\n    _this2.Dh = 0x679dd514 | 0;\n    _this2.Dl = 0x582f9fcf | 0;\n    _this2.Eh = 0x0f6d2b69 | 0;\n    _this2.El = 0x7bd44da8 | 0;\n    _this2.Fh = 0x77e36f73 | 0;\n    _this2.Fl = 0x04c48942 | 0;\n    _this2.Gh = 0x3f9d85a8 | 0;\n    _this2.Gl = 0x6a1d36c8 | 0;\n    _this2.Hh = 0x1112e6ad | 0;\n    _this2.Hl = 0x91d692a1 | 0;\n    _this2.outputLen = 28;\n    return _this2;\n  }\n  return _createClass(SHA512_224);\n}(SHA512);\nvar SHA512_256 = /*#__PURE__*/function (_SHA3) {\n  _inherits(SHA512_256, _SHA3);\n  var _super3 = _createSuper(SHA512_256);\n  function SHA512_256() {\n    var _this3;\n    _classCallCheck(this, SHA512_256);\n    _this3 = _super3.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this3.Ah = 0x22312194 | 0;\n    _this3.Al = 0xfc2bf72c | 0;\n    _this3.Bh = 0x9f555fa3 | 0;\n    _this3.Bl = 0xc84c64c2 | 0;\n    _this3.Ch = 0x2393b86b | 0;\n    _this3.Cl = 0x6f53b151 | 0;\n    _this3.Dh = 0x96387719 | 0;\n    _this3.Dl = 0x5940eabd | 0;\n    _this3.Eh = 0x96283ee2 | 0;\n    _this3.El = 0xa88effe3 | 0;\n    _this3.Fh = 0xbe5e1e25 | 0;\n    _this3.Fl = 0x53863992 | 0;\n    _this3.Gh = 0x2b0199fc | 0;\n    _this3.Gl = 0x2c85b8aa | 0;\n    _this3.Hh = 0x0eb72ddc | 0;\n    _this3.Hl = 0x81c52ca2 | 0;\n    _this3.outputLen = 32;\n    return _this3;\n  }\n  return _createClass(SHA512_256);\n}(SHA512);\nvar SHA384 = /*#__PURE__*/function (_SHA4) {\n  _inherits(SHA384, _SHA4);\n  var _super4 = _createSuper(SHA384);\n  function SHA384() {\n    var _this4;\n    _classCallCheck(this, SHA384);\n    _this4 = _super4.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this4.Ah = 0xcbbb9d5d | 0;\n    _this4.Al = 0xc1059ed8 | 0;\n    _this4.Bh = 0x629a292a | 0;\n    _this4.Bl = 0x367cd507 | 0;\n    _this4.Ch = 0x9159015a | 0;\n    _this4.Cl = 0x3070dd17 | 0;\n    _this4.Dh = 0x152fecd8 | 0;\n    _this4.Dl = 0xf70e5939 | 0;\n    _this4.Eh = 0x67332667 | 0;\n    _this4.El = 0xffc00b31 | 0;\n    _this4.Fh = 0x8eb44a87 | 0;\n    _this4.Fl = 0x68581511 | 0;\n    _this4.Gh = 0xdb0c2e0d | 0;\n    _this4.Gl = 0x64f98fa7 | 0;\n    _this4.Hh = 0x47b5481d | 0;\n    _this4.Hl = 0xbefa4fa4 | 0;\n    _this4.outputLen = 48;\n    return _this4;\n  }\n  return _createClass(SHA384);\n}(SHA512);\nexport var sha512 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA512();\n});\nexport var sha512_224 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA512_224();\n});\nexport var sha512_256 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA512_256();\n});\nexport var sha384 = /* @__PURE__ */wrapConstructor(function () {\n  return new SHA384();\n});","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// Utilities\n/**\n * @__NO_SIDE_EFFECTS__\n */\nexport function assertNumber(n) {\n  if (!Number.isSafeInteger(n)) throw new Error(\"Wrong integer: \".concat(n));\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction chain() {\n  // Wrap call in closure so JIT can inline calls\n  var wrap = function wrap(a, b) {\n    return function (c) {\n      return a(b(c));\n    };\n  };\n  // Construct chain of args[-1].encode(args[-2].encode([...]))\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  var encode = Array.from(args).reverse().reduce(function (acc, i) {\n    return acc ? wrap(acc, i.encode) : i.encode;\n  }, undefined);\n  // Construct chain of args[0].decode(args[1].decode(...))\n  var decode = args.reduce(function (acc, i) {\n    return acc ? wrap(acc, i.decode) : i.decode;\n  }, undefined);\n  return {\n    encode: encode,\n    decode: decode\n  };\n}\n/**\n * Encodes integer radix representation to array of strings using alphabet and back\n * @__NO_SIDE_EFFECTS__\n */\nfunction alphabet(alphabet) {\n  return {\n    encode: function encode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('alphabet.encode input should be an array of numbers');\n      return digits.map(function (i) {\n        assertNumber(i);\n        if (i < 0 || i >= alphabet.length) throw new Error(\"Digit index outside alphabet: \".concat(i, \" (alphabet: \").concat(alphabet.length, \")\"));\n        return alphabet[i];\n      });\n    },\n    decode: function decode(input) {\n      if (!Array.isArray(input) || input.length && typeof input[0] !== 'string') throw new Error('alphabet.decode input should be array of strings');\n      return input.map(function (letter) {\n        if (typeof letter !== 'string') throw new Error(\"alphabet.decode: not string element=\".concat(letter));\n        var index = alphabet.indexOf(letter);\n        if (index === -1) throw new Error(\"Unknown letter: \\\"\".concat(letter, \"\\\". Allowed: \").concat(alphabet));\n        return index;\n      });\n    }\n  };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction join() {\n  var separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  if (typeof separator !== 'string') throw new Error('join separator should be string');\n  return {\n    encode: function encode(from) {\n      if (!Array.isArray(from) || from.length && typeof from[0] !== 'string') throw new Error('join.encode input should be array of strings');\n      var _iterator = _createForOfIteratorHelper(from),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var i = _step.value;\n          if (typeof i !== 'string') throw new Error(\"join.encode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return from.join(separator);\n    },\n    decode: function decode(to) {\n      if (typeof to !== 'string') throw new Error('join.decode input should be string');\n      return to.split(separator);\n    }\n  };\n}\n/**\n * Pad strings array so it has integer number of bits\n * @__NO_SIDE_EFFECTS__\n */\nfunction padding(bits) {\n  var chr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '=';\n  assertNumber(bits);\n  if (typeof chr !== 'string') throw new Error('padding chr should be string');\n  return {\n    encode: function encode(data) {\n      if (!Array.isArray(data) || data.length && typeof data[0] !== 'string') throw new Error('padding.encode input should be array of strings');\n      var _iterator2 = _createForOfIteratorHelper(data),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var i = _step2.value;\n          if (typeof i !== 'string') throw new Error(\"padding.encode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      while (data.length * bits % 8) {\n        data.push(chr);\n      }\n      return data;\n    },\n    decode: function decode(input) {\n      if (!Array.isArray(input) || input.length && typeof input[0] !== 'string') throw new Error('padding.encode input should be array of strings');\n      var _iterator3 = _createForOfIteratorHelper(input),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var i = _step3.value;\n          if (typeof i !== 'string') throw new Error(\"padding.decode: non-string input=\".concat(i));\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      var end = input.length;\n      if (end * bits % 8) throw new Error('Invalid padding: string should have whole number of bytes');\n      for (; end > 0 && input[end - 1] === chr; end--) {\n        if (!((end - 1) * bits % 8)) throw new Error('Invalid padding: string has too much padding');\n      }\n      return input.slice(0, end);\n    }\n  };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction normalize(fn) {\n  if (typeof fn !== 'function') throw new Error('normalize fn should be function');\n  return {\n    encode: function encode(from) {\n      return from;\n    },\n    decode: function decode(to) {\n      return fn(to);\n    }\n  };\n}\n/**\n * Slow: O(n^2) time complexity\n * @__NO_SIDE_EFFECTS__\n */\nfunction convertRadix(data, from, to) {\n  // base 1 is impossible\n  if (from < 2) throw new Error(\"convertRadix: wrong from=\".concat(from, \", base cannot be less than 2\"));\n  if (to < 2) throw new Error(\"convertRadix: wrong to=\".concat(to, \", base cannot be less than 2\"));\n  if (!Array.isArray(data)) throw new Error('convertRadix: data should be array');\n  if (!data.length) return [];\n  var pos = 0;\n  var res = [];\n  var digits = Array.from(data);\n  digits.forEach(function (d) {\n    assertNumber(d);\n    if (d < 0 || d >= from) throw new Error(\"Wrong integer: \".concat(d));\n  });\n  while (true) {\n    var carry = 0;\n    var done = true;\n    for (var i = pos; i < digits.length; i++) {\n      var digit = digits[i];\n      var digitBase = from * carry + digit;\n      if (!Number.isSafeInteger(digitBase) || from * carry / from !== carry || digitBase - digit !== from * carry) {\n        throw new Error('convertRadix: carry overflow');\n      }\n      carry = digitBase % to;\n      var rounded = Math.floor(digitBase / to);\n      digits[i] = rounded;\n      if (!Number.isSafeInteger(rounded) || rounded * to + carry !== digitBase) throw new Error('convertRadix: carry overflow');\n      if (!done) continue;else if (!rounded) pos = i;else done = false;\n    }\n    res.push(carry);\n    if (done) break;\n  }\n  for (var _i = 0; _i < data.length - 1 && data[_i] === 0; _i++) {\n    res.push(0);\n  }\n  return res.reverse();\n}\nvar gcd = /* @__NO_SIDE_EFFECTS__ */function gcd(a, b) {\n  return !b ? a : gcd(b, a % b);\n};\nvar radix2carry = /*@__NO_SIDE_EFFECTS__ */function radix2carry(from, to) {\n  return from + (to - gcd(from, to));\n};\n/**\n * Implemented with numbers, because BigInt is 5x slower\n * @__NO_SIDE_EFFECTS__\n */\nfunction convertRadix2(data, from, to, padding) {\n  if (!Array.isArray(data)) throw new Error('convertRadix2: data should be array');\n  if (from <= 0 || from > 32) throw new Error(\"convertRadix2: wrong from=\".concat(from));\n  if (to <= 0 || to > 32) throw new Error(\"convertRadix2: wrong to=\".concat(to));\n  if (radix2carry(from, to) > 32) {\n    throw new Error(\"convertRadix2: carry overflow from=\".concat(from, \" to=\").concat(to, \" carryBits=\").concat(radix2carry(from, to)));\n  }\n  var carry = 0;\n  var pos = 0; // bitwise position in current element\n  var mask = Math.pow(2, to) - 1;\n  var res = [];\n  var _iterator4 = _createForOfIteratorHelper(data),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var n = _step4.value;\n      assertNumber(n);\n      if (n >= Math.pow(2, from)) throw new Error(\"convertRadix2: invalid data word=\".concat(n, \" from=\").concat(from));\n      carry = carry << from | n;\n      if (pos + from > 32) throw new Error(\"convertRadix2: carry overflow pos=\".concat(pos, \" from=\").concat(from));\n      pos += from;\n      for (; pos >= to; pos -= to) {\n        res.push((carry >> pos - to & mask) >>> 0);\n      }\n      carry &= Math.pow(2, pos) - 1; // clean carry, otherwise it will cause overflow\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  carry = carry << to - pos & mask;\n  if (!padding && pos >= from) throw new Error('Excess padding');\n  if (!padding && carry) throw new Error(\"Non-zero padding: \".concat(carry));\n  if (padding && pos > 0) res.push(carry >>> 0);\n  return res;\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix(num) {\n  assertNumber(num);\n  return {\n    encode: function encode(bytes) {\n      if (!(bytes instanceof Uint8Array)) throw new Error('radix.encode input should be Uint8Array');\n      return convertRadix(Array.from(bytes), Math.pow(2, 8), num);\n    },\n    decode: function decode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('radix.decode input should be array of strings');\n      return Uint8Array.from(convertRadix(digits, num, Math.pow(2, 8)));\n    }\n  };\n}\n/**\n * If both bases are power of same number (like `2**8 <-> 2**64`),\n * there is a linear algorithm. For now we have implementation for power-of-two bases only.\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix2(bits) {\n  var revPadding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  assertNumber(bits);\n  if (bits <= 0 || bits > 32) throw new Error('radix2: bits should be in (0..32]');\n  if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32) throw new Error('radix2: carry overflow');\n  return {\n    encode: function encode(bytes) {\n      if (!(bytes instanceof Uint8Array)) throw new Error('radix2.encode input should be Uint8Array');\n      return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n    },\n    decode: function decode(digits) {\n      if (!Array.isArray(digits) || digits.length && typeof digits[0] !== 'number') throw new Error('radix2.decode input should be array of strings');\n      return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n    }\n  };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction unsafeWrapper(fn) {\n  if (typeof fn !== 'function') throw new Error('unsafeWrapper fn should be function');\n  return function () {\n    try {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return fn.apply(null, args);\n    } catch (e) {}\n  };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction checksum(len, fn) {\n  assertNumber(len);\n  if (typeof fn !== 'function') throw new Error('checksum fn should be function');\n  return {\n    encode: function encode(data) {\n      if (!(data instanceof Uint8Array)) throw new Error('checksum.encode: input should be Uint8Array');\n      var checksum = fn(data).slice(0, len);\n      var res = new Uint8Array(data.length + len);\n      res.set(data);\n      res.set(checksum, data.length);\n      return res;\n    },\n    decode: function decode(data) {\n      if (!(data instanceof Uint8Array)) throw new Error('checksum.decode: input should be Uint8Array');\n      var payload = data.slice(0, -len);\n      var newChecksum = fn(payload).slice(0, len);\n      var oldChecksum = data.slice(-len);\n      for (var i = 0; i < len; i++) {\n        if (newChecksum[i] !== oldChecksum[i]) throw new Error('Invalid checksum');\n      }\n      return payload;\n    }\n  };\n}\nexport var utils = {\n  alphabet: alphabet,\n  chain: chain,\n  checksum: checksum,\n  radix: radix,\n  radix2: radix2,\n  join: join,\n  padding: padding\n};\n// RFC 4648 aka RFC 3548\n// ---------------------\nexport var base16 = /* @__PURE__ */chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexport var base32 = /* @__PURE__ */chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexport var base32hex = /* @__PURE__ */chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexport var base32crockford = /* @__PURE__ */chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize(function (s) {\n  return s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1');\n}));\nexport var base64 = /* @__PURE__ */chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexport var base64url = /* @__PURE__ */chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nexport var base64urlnopad = /* @__PURE__ */chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), join(''));\n// base58 code\n// -----------\nvar genBase58 = function genBase58(abc) {\n  return chain(radix(58), alphabet(abc), join(''));\n};\nexport var base58 = /* @__PURE__ */genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexport var base58flickr = /* @__PURE__ */genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexport var base58xrp = /* @__PURE__ */genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\n// xmr ver is done in 8-byte blocks (which equals 11 chars in decoding). Last (non-full) block padded with '1' to size in XMR_BLOCK_LEN.\n// Block encoding significantly reduces quadratic complexity of base58.\n// Data len (index) -> encoded block len\nvar XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexport var base58xmr = {\n  encode: function encode(data) {\n    var res = '';\n    for (var i = 0; i < data.length; i += 8) {\n      var block = data.subarray(i, i + 8);\n      res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n    }\n    return res;\n  },\n  decode: function decode(str) {\n    var res = [];\n    for (var i = 0; i < str.length; i += 11) {\n      var slice = str.slice(i, i + 11);\n      var blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n      var block = base58.decode(slice);\n      for (var j = 0; j < block.length - blockLen; j++) {\n        if (block[j] !== 0) throw new Error('base58xmr: wrong padding');\n      }\n      res = res.concat(Array.from(block.slice(block.length - blockLen)));\n    }\n    return Uint8Array.from(res);\n  }\n};\nexport var base58check = /* @__PURE__ */function base58check(sha256) {\n  return chain(checksum(4, function (data) {\n    return sha256(sha256(data));\n  }), base58);\n};\nvar BECH_ALPHABET = /* @__PURE__ */chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nvar POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction bech32Polymod(pre) {\n  var b = pre >> 25;\n  var chk = (pre & 0x1ffffff) << 5;\n  for (var i = 0; i < POLYMOD_GENERATORS.length; i++) {\n    if ((b >> i & 1) === 1) chk ^= POLYMOD_GENERATORS[i];\n  }\n  return chk;\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction bechChecksum(prefix, words) {\n  var encodingConst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var len = prefix.length;\n  var chk = 1;\n  for (var i = 0; i < len; i++) {\n    var c = prefix.charCodeAt(i);\n    if (c < 33 || c > 126) throw new Error(\"Invalid prefix (\".concat(prefix, \")\"));\n    chk = bech32Polymod(chk) ^ c >> 5;\n  }\n  chk = bech32Polymod(chk);\n  for (var _i2 = 0; _i2 < len; _i2++) {\n    chk = bech32Polymod(chk) ^ prefix.charCodeAt(_i2) & 0x1f;\n  }\n  var _iterator5 = _createForOfIteratorHelper(words),\n    _step5;\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var v = _step5.value;\n      chk = bech32Polymod(chk) ^ v;\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  for (var _i3 = 0; _i3 < 6; _i3++) {\n    chk = bech32Polymod(chk);\n  }\n  chk ^= encodingConst;\n  return BECH_ALPHABET.encode(convertRadix2([chk % Math.pow(2, 30)], 30, 5, false));\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction genBech32(encoding) {\n  var ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n  var _words = radix2(5);\n  var fromWords = _words.decode;\n  var toWords = _words.encode;\n  var fromWordsUnsafe = unsafeWrapper(fromWords);\n  function encode(prefix, words) {\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 90;\n    if (typeof prefix !== 'string') throw new Error(\"bech32.encode prefix should be string, not \".concat(typeof prefix));\n    if (!Array.isArray(words) || words.length && typeof words[0] !== 'number') throw new Error(\"bech32.encode words should be array of numbers, not \".concat(typeof words));\n    var actualLength = prefix.length + 7 + words.length;\n    if (limit !== false && actualLength > limit) throw new TypeError(\"Length \".concat(actualLength, \" exceeds limit \").concat(limit));\n    var lowered = prefix.toLowerCase();\n    var sum = bechChecksum(lowered, words, ENCODING_CONST);\n    return \"\".concat(lowered, \"1\").concat(BECH_ALPHABET.encode(words)).concat(sum);\n  }\n  function decode(str) {\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 90;\n    if (typeof str !== 'string') throw new Error(\"bech32.decode input should be string, not \".concat(typeof str));\n    if (str.length < 8 || limit !== false && str.length > limit) throw new TypeError(\"Wrong string length: \".concat(str.length, \" (\").concat(str, \"). Expected (8..\").concat(limit, \")\"));\n    // don't allow mixed case\n    var lowered = str.toLowerCase();\n    if (str !== lowered && str !== str.toUpperCase()) throw new Error(\"String must be lowercase or uppercase\");\n    str = lowered;\n    var sepIndex = str.lastIndexOf('1');\n    if (sepIndex === 0 || sepIndex === -1) throw new Error(\"Letter \\\"1\\\" must be present between prefix and data only\");\n    var prefix = str.slice(0, sepIndex);\n    var _words = str.slice(sepIndex + 1);\n    if (_words.length < 6) throw new Error('Data must be at least 6 characters long');\n    var words = BECH_ALPHABET.decode(_words).slice(0, -6);\n    var sum = bechChecksum(prefix, words, ENCODING_CONST);\n    if (!_words.endsWith(sum)) throw new Error(\"Invalid checksum in \".concat(str, \": expected \\\"\").concat(sum, \"\\\"\"));\n    return {\n      prefix: prefix,\n      words: words\n    };\n  }\n  var decodeUnsafe = unsafeWrapper(decode);\n  function decodeToBytes(str) {\n    var _decode = decode(str, false),\n      prefix = _decode.prefix,\n      words = _decode.words;\n    return {\n      prefix: prefix,\n      words: words,\n      bytes: fromWords(words)\n    };\n  }\n  return {\n    encode: encode,\n    decode: decode,\n    decodeToBytes: decodeToBytes,\n    decodeUnsafe: decodeUnsafe,\n    fromWords: fromWords,\n    fromWordsUnsafe: fromWordsUnsafe,\n    toWords: toWords\n  };\n}\nexport var bech32 = /* @__PURE__ */genBech32('bech32');\nexport var bech32m = /* @__PURE__ */genBech32('bech32m');\nexport var utf8 = {\n  encode: function encode(data) {\n    return new TextDecoder().decode(data);\n  },\n  decode: function decode(str) {\n    return new TextEncoder().encode(str);\n  }\n};\nexport var hex = /* @__PURE__ */chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize(function (s) {\n  if (typeof s !== 'string' || s.length % 2) throw new TypeError(\"hex.decode: expected string, got \".concat(typeof s, \" with length \").concat(s.length));\n  return s.toLowerCase();\n}));\n// prettier-ignore\nvar CODERS = {\n  utf8: utf8,\n  hex: hex,\n  base16: base16,\n  base32: base32,\n  base64: base64,\n  base64url: base64url,\n  base58: base58,\n  base58xmr: base58xmr\n};\nvar coderTypeError = 'Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr';\nexport var bytesToString = function bytesToString(type, bytes) {\n  if (typeof type !== 'string' || !CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (!(bytes instanceof Uint8Array)) throw new TypeError('bytesToString() expects Uint8Array');\n  return CODERS[type].encode(bytes);\n};\nexport var str = bytesToString; // as in python, but for bytes only\nexport var stringToBytes = function stringToBytes(type, str) {\n  if (!CODERS.hasOwnProperty(type)) throw new TypeError(coderTypeError);\n  if (typeof str !== 'string') throw new TypeError('stringToBytes() expects string');\n  return CODERS[type].decode(str);\n};\nexport var bytes = stringToBytes;","import assert from '@noble/hashes/_assert';\nimport { pbkdf2, pbkdf2Async } from '@noble/hashes/pbkdf2';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { utils as baseUtils } from '@scure/base';\nvar isJapanese = function isJapanese(wordlist) {\n  return wordlist[0] === \"\\u3042\\u3044\\u3053\\u304F\\u3057\\u3093\";\n};\nfunction nfkd(str) {\n  if (typeof str !== 'string') throw new TypeError(\"Invalid mnemonic type: \".concat(typeof str));\n  return str.normalize('NFKD');\n}\nfunction normalize(str) {\n  var norm = nfkd(str);\n  var words = norm.split(' ');\n  if (![12, 15, 18, 21, 24].includes(words.length)) throw new Error('Invalid mnemonic');\n  return {\n    nfkd: norm,\n    words: words\n  };\n}\nfunction assertEntropy(entropy) {\n  assert.bytes(entropy, 16, 20, 24, 28, 32);\n}\nexport function generateMnemonic(wordlist) {\n  var strength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 128;\n  assert.number(strength);\n  if (strength % 32 !== 0 || strength > 256) throw new TypeError('Invalid entropy');\n  return entropyToMnemonic(randomBytes(strength / 8), wordlist);\n}\nvar calcChecksum = function calcChecksum(entropy) {\n  var bitsLeft = 8 - entropy.length / 4;\n  return new Uint8Array([sha256(entropy)[0] >> bitsLeft << bitsLeft]);\n};\nfunction getCoder(wordlist) {\n  if (!Array.isArray(wordlist) || wordlist.length !== 2048 || typeof wordlist[0] !== 'string') throw new Error('Worlist: expected array of 2048 strings');\n  wordlist.forEach(function (i) {\n    if (typeof i !== 'string') throw new Error(\"Wordlist: non-string element: \".concat(i));\n  });\n  return baseUtils.chain(baseUtils.checksum(1, calcChecksum), baseUtils.radix2(11, true), baseUtils.alphabet(wordlist));\n}\nexport function mnemonicToEntropy(mnemonic, wordlist) {\n  var _normalize = normalize(mnemonic),\n    words = _normalize.words;\n  var entropy = getCoder(wordlist).decode(words);\n  assertEntropy(entropy);\n  return entropy;\n}\nexport function entropyToMnemonic(entropy, wordlist) {\n  assertEntropy(entropy);\n  var words = getCoder(wordlist).encode(entropy);\n  return words.join(isJapanese(wordlist) ? \"\\u3000\" : ' ');\n}\nexport function validateMnemonic(mnemonic, wordlist) {\n  try {\n    mnemonicToEntropy(mnemonic, wordlist);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\nvar salt = function salt(passphrase) {\n  return nfkd(\"mnemonic\".concat(passphrase));\n};\nexport function mnemonicToSeed(mnemonic) {\n  var passphrase = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return pbkdf2Async(sha512, normalize(mnemonic).nfkd, salt(passphrase), {\n    c: 2048,\n    dkLen: 64\n  });\n}\nexport function mnemonicToSeedSync(mnemonic) {\n  var passphrase = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return pbkdf2(sha512, normalize(mnemonic).nfkd, salt(passphrase), {\n    c: 2048,\n    dkLen: 64\n  });\n}","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport { wrapConstructor } from './utils.js';\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\nvar Rho = new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]);\nvar Id = Uint8Array.from({\n  length: 16\n}, function (_, i) {\n  return i;\n});\nvar Pi = Id.map(function (i) {\n  return (9 * i + 5) % 16;\n});\nvar idxL = [Id];\nvar idxR = [Pi];\nfor (var i = 0; i < 4; i++) {\n  for (var _i = 0, _arr = [idxL, idxR]; _i < _arr.length; _i++) {\n    var j = _arr[_i];\n    j.push(j[i].map(function (k) {\n      return Rho[k];\n    }));\n  }\n}\nvar shifts = [[11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8], [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7], [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9], [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6], [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5]].map(function (i) {\n  return new Uint8Array(i);\n});\nvar shiftsL = idxL.map(function (idx, i) {\n  return idx.map(function (j) {\n    return shifts[i][j];\n  });\n});\nvar shiftsR = idxR.map(function (idx, i) {\n  return idx.map(function (j) {\n    return shifts[i][j];\n  });\n});\nvar Kl = new Uint32Array([0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e]);\nvar Kr = new Uint32Array([0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000]);\n// The rotate left (circular left shift) operation for uint32\nvar rotl = function rotl(word, shift) {\n  return word << shift | word >>> 32 - shift;\n};\n// It's called f() in spec.\nfunction f(group, x, y, z) {\n  if (group === 0) return x ^ y ^ z;else if (group === 1) return x & y | ~x & z;else if (group === 2) return (x | ~y) ^ z;else if (group === 3) return x & z | y & ~z;else return x ^ (y | ~z);\n}\n// Temporary buffer, not used to store anything between runs\nvar BUF = new Uint32Array(16);\nexport var RIPEMD160 = /*#__PURE__*/function (_SHA) {\n  _inherits(RIPEMD160, _SHA);\n  var _super = _createSuper(RIPEMD160);\n  function RIPEMD160() {\n    var _this;\n    _classCallCheck(this, RIPEMD160);\n    _this = _super.call(this, 64, 20, 8, true);\n    _this.h0 = 0x67452301 | 0;\n    _this.h1 = 0xefcdab89 | 0;\n    _this.h2 = 0x98badcfe | 0;\n    _this.h3 = 0x10325476 | 0;\n    _this.h4 = 0xc3d2e1f0 | 0;\n    return _this;\n  }\n  _createClass(RIPEMD160, [{\n    key: \"get\",\n    value: function get() {\n      var h0 = this.h0,\n        h1 = this.h1,\n        h2 = this.h2,\n        h3 = this.h3,\n        h4 = this.h4;\n      return [h0, h1, h2, h3, h4];\n    }\n  }, {\n    key: \"set\",\n    value: function set(h0, h1, h2, h3, h4) {\n      this.h0 = h0 | 0;\n      this.h1 = h1 | 0;\n      this.h2 = h2 | 0;\n      this.h3 = h3 | 0;\n      this.h4 = h4 | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      for (var _i2 = 0; _i2 < 16; _i2++, offset += 4) {\n        BUF[_i2] = view.getUint32(offset, true);\n      }\n      // prettier-ignore\n      var al = this.h0 | 0,\n        ar = al,\n        bl = this.h1 | 0,\n        br = bl,\n        cl = this.h2 | 0,\n        cr = cl,\n        dl = this.h3 | 0,\n        dr = dl,\n        el = this.h4 | 0,\n        er = el;\n      // Instead of iterating 0 to 80, we split it into 5 groups\n      // And use the groups in constants, functions, etc. Much simpler\n      for (var group = 0; group < 5; group++) {\n        var rGroup = 4 - group;\n        var hbl = Kl[group],\n          hbr = Kr[group]; // prettier-ignore\n        var rl = idxL[group],\n          rr = idxR[group]; // prettier-ignore\n        var sl = shiftsL[group],\n          sr = shiftsR[group]; // prettier-ignore\n        for (var _i3 = 0; _i3 < 16; _i3++) {\n          var tl = rotl(al + f(group, bl, cl, dl) + BUF[rl[_i3]] + hbl, sl[_i3]) + el | 0;\n          al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\n        }\n        // 2 loops are 10% faster\n        for (var _i4 = 0; _i4 < 16; _i4++) {\n          var tr = rotl(ar + f(rGroup, br, cr, dr) + BUF[rr[_i4]] + hbr, sr[_i4]) + er | 0;\n          ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\n        }\n      }\n      // Add the compressed chunk to the current hash value\n      this.set(this.h1 + cl + dr | 0, this.h2 + dl + er | 0, this.h3 + el + ar | 0, this.h4 + al + br | 0, this.h0 + bl + cr | 0);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      BUF.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.destroyed = true;\n      this.buffer.fill(0);\n      this.set(0, 0, 0, 0, 0);\n    }\n  }]);\n  return RIPEMD160;\n}(SHA2);\n/**\n * RIPEMD-160 - a hash function from 1990s.\n * @param message - msg that would be hashed\n */\nexport var ripemd160 = wrapConstructor(function () {\n  return new RIPEMD160();\n});","var U32_MASK64 = BigInt(Math.pow(2, 32) - 1);\nvar _32n = BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nexport function fromBig(n) {\n  var le = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (le) return {\n    h: Number(n & U32_MASK64),\n    l: Number(n >> _32n & U32_MASK64)\n  };\n  return {\n    h: Number(n >> _32n & U32_MASK64) | 0,\n    l: Number(n & U32_MASK64) | 0\n  };\n}\nexport function split(lst) {\n  var le = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var Ah = new Uint32Array(lst.length);\n  var Al = new Uint32Array(lst.length);\n  for (var i = 0; i < lst.length; i++) {\n    var _fromBig = fromBig(lst[i], le),\n      h = _fromBig.h,\n      l = _fromBig.l;\n    var _ref = [h, l];\n    Ah[i] = _ref[0];\n    Al[i] = _ref[1];\n  }\n  return [Ah, Al];\n}\nexport var toBig = function toBig(h, l) {\n  return BigInt(h >>> 0) << _32n | BigInt(l >>> 0);\n};\n// for Shift in [0, 32)\nvar shrSH = function shrSH(h, l, s) {\n  return h >>> s;\n};\nvar shrSL = function shrSL(h, l, s) {\n  return h << 32 - s | l >>> s;\n};\n// Right rotate for Shift in [1, 32)\nvar rotrSH = function rotrSH(h, l, s) {\n  return h >>> s | l << 32 - s;\n};\nvar rotrSL = function rotrSL(h, l, s) {\n  return h << 32 - s | l >>> s;\n};\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nvar rotrBH = function rotrBH(h, l, s) {\n  return h << 64 - s | l >>> s - 32;\n};\nvar rotrBL = function rotrBL(h, l, s) {\n  return h >>> s - 32 | l << 64 - s;\n};\n// Right rotate for shift===32 (just swaps l&h)\nvar rotr32H = function rotr32H(h, l) {\n  return l;\n};\nvar rotr32L = function rotr32L(h, l) {\n  return h;\n};\n// Left rotate for Shift in [1, 32)\nvar rotlSH = function rotlSH(h, l, s) {\n  return h << s | l >>> 32 - s;\n};\nvar rotlSL = function rotlSL(h, l, s) {\n  return l << s | h >>> 32 - s;\n};\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nvar rotlBH = function rotlBH(h, l, s) {\n  return l << s - 32 | h >>> 64 - s;\n};\nvar rotlBL = function rotlBL(h, l, s) {\n  return h << s - 32 | l >>> 64 - s;\n};\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\n// Removing \"export\" has 5% perf penalty -_-\nexport function add(Ah, Al, Bh, Bl) {\n  var l = (Al >>> 0) + (Bl >>> 0);\n  return {\n    h: Ah + Bh + (l / Math.pow(2, 32) | 0) | 0,\n    l: l | 0\n  };\n}\n// Addition with more than 2 elements\nvar add3L = function add3L(Al, Bl, Cl) {\n  return (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\n};\nvar add3H = function add3H(low, Ah, Bh, Ch) {\n  return Ah + Bh + Ch + (low / Math.pow(2, 32) | 0) | 0;\n};\nvar add4L = function add4L(Al, Bl, Cl, Dl) {\n  return (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\n};\nvar add4H = function add4H(low, Ah, Bh, Ch, Dh) {\n  return Ah + Bh + Ch + Dh + (low / Math.pow(2, 32) | 0) | 0;\n};\nvar add5L = function add5L(Al, Bl, Cl, Dl, El) {\n  return (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\n};\nvar add5H = function add5H(low, Ah, Bh, Ch, Dh, Eh) {\n  return Ah + Bh + Ch + Dh + Eh + (low / Math.pow(2, 32) | 0) | 0;\n};\n// prettier-ignore\nvar u64 = {\n  fromBig: fromBig,\n  split: split,\n  toBig: toBig,\n  shrSH: shrSH,\n  shrSL: shrSL,\n  rotrSH: rotrSH,\n  rotrSL: rotrSL,\n  rotrBH: rotrBH,\n  rotrBL: rotrBL,\n  rotr32H: rotr32H,\n  rotr32L: rotr32L,\n  rotlSH: rotlSH,\n  rotlSL: rotlSL,\n  rotlBH: rotlBH,\n  rotlBL: rotlBL,\n  add: add,\n  add3L: add3L,\n  add3H: add3H,\n  add4L: add4L,\n  add4H: add4H,\n  add5H: add5H,\n  add5L: add5L\n};\nexport default u64;","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { SHA2 } from './_sha2.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nvar _u64$split = u64.split(['0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc', '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118', '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2', '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694', '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65', '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5', '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4', '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70', '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df', '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b', '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30', '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8', '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8', '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3', '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec', '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b', '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178', '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b', '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c', '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'].map(function (n) {\n    return BigInt(n);\n  })),\n  _u64$split2 = _slicedToArray(_u64$split, 2),\n  SHA512_Kh = _u64$split2[0],\n  SHA512_Kl = _u64$split2[1];\n// Temporary buffer, not used to store anything between runs\nvar SHA512_W_H = new Uint32Array(80);\nvar SHA512_W_L = new Uint32Array(80);\nexport var SHA512 = /*#__PURE__*/function (_SHA) {\n  _inherits(SHA512, _SHA);\n  var _super = _createSuper(SHA512);\n  function SHA512() {\n    var _this;\n    _classCallCheck(this, SHA512);\n    _this = _super.call(this, 128, 64, 16, false);\n    // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n    // Also looks cleaner and easier to verify with spec.\n    // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n    // h -- high 32 bits, l -- low 32 bits\n    _this.Ah = 0x6a09e667 | 0;\n    _this.Al = 0xf3bcc908 | 0;\n    _this.Bh = 0xbb67ae85 | 0;\n    _this.Bl = 0x84caa73b | 0;\n    _this.Ch = 0x3c6ef372 | 0;\n    _this.Cl = 0xfe94f82b | 0;\n    _this.Dh = 0xa54ff53a | 0;\n    _this.Dl = 0x5f1d36f1 | 0;\n    _this.Eh = 0x510e527f | 0;\n    _this.El = 0xade682d1 | 0;\n    _this.Fh = 0x9b05688c | 0;\n    _this.Fl = 0x2b3e6c1f | 0;\n    _this.Gh = 0x1f83d9ab | 0;\n    _this.Gl = 0xfb41bd6b | 0;\n    _this.Hh = 0x5be0cd19 | 0;\n    _this.Hl = 0x137e2179 | 0;\n    return _this;\n  }\n  // prettier-ignore\n  _createClass(SHA512, [{\n    key: \"get\",\n    value: function get() {\n      var Ah = this.Ah,\n        Al = this.Al,\n        Bh = this.Bh,\n        Bl = this.Bl,\n        Ch = this.Ch,\n        Cl = this.Cl,\n        Dh = this.Dh,\n        Dl = this.Dl,\n        Eh = this.Eh,\n        El = this.El,\n        Fh = this.Fh,\n        Fl = this.Fl,\n        Gh = this.Gh,\n        Gl = this.Gl,\n        Hh = this.Hh,\n        Hl = this.Hl;\n      return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n  }, {\n    key: \"set\",\n    value: function set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n      this.Ah = Ah | 0;\n      this.Al = Al | 0;\n      this.Bh = Bh | 0;\n      this.Bl = Bl | 0;\n      this.Ch = Ch | 0;\n      this.Cl = Cl | 0;\n      this.Dh = Dh | 0;\n      this.Dl = Dl | 0;\n      this.Eh = Eh | 0;\n      this.El = El | 0;\n      this.Fh = Fh | 0;\n      this.Fl = Fl | 0;\n      this.Gh = Gh | 0;\n      this.Gl = Gl | 0;\n      this.Hh = Hh | 0;\n      this.Hl = Hl | 0;\n    }\n  }, {\n    key: \"process\",\n    value: function process(view, offset) {\n      // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n      for (var i = 0; i < 16; i++, offset += 4) {\n        SHA512_W_H[i] = view.getUint32(offset);\n        SHA512_W_L[i] = view.getUint32(offset += 4);\n      }\n      for (var _i = 16; _i < 80; _i++) {\n        // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n        var W15h = SHA512_W_H[_i - 15] | 0;\n        var W15l = SHA512_W_L[_i - 15] | 0;\n        var s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n        var s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n        // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n        var W2h = SHA512_W_H[_i - 2] | 0;\n        var W2l = SHA512_W_L[_i - 2] | 0;\n        var s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n        var s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n        // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n        var SUMl = u64.add4L(s0l, s1l, SHA512_W_L[_i - 7], SHA512_W_L[_i - 16]);\n        var SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[_i - 7], SHA512_W_H[_i - 16]);\n        SHA512_W_H[_i] = SUMh | 0;\n        SHA512_W_L[_i] = SUMl | 0;\n      }\n      var Ah = this.Ah,\n        Al = this.Al,\n        Bh = this.Bh,\n        Bl = this.Bl,\n        Ch = this.Ch,\n        Cl = this.Cl,\n        Dh = this.Dh,\n        Dl = this.Dl,\n        Eh = this.Eh,\n        El = this.El,\n        Fh = this.Fh,\n        Fl = this.Fl,\n        Gh = this.Gh,\n        Gl = this.Gl,\n        Hh = this.Hh,\n        Hl = this.Hl;\n      // Compression function main loop, 80 rounds\n      for (var i = 0; i < 80; i++) {\n        // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n        var sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n        var sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n        //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n        var CHIh = Eh & Fh ^ ~Eh & Gh;\n        var CHIl = El & Fl ^ ~El & Gl;\n        // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n        // prettier-ignore\n        var T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n        var T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n        var T1l = T1ll | 0;\n        // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n        var sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n        var sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n        var MAJh = Ah & Bh ^ Ah & Ch ^ Bh & Ch;\n        var MAJl = Al & Bl ^ Al & Cl ^ Bl & Cl;\n        Hh = Gh | 0;\n        Hl = Gl | 0;\n        Gh = Fh | 0;\n        Gl = Fl | 0;\n        Fh = Eh | 0;\n        Fl = El | 0;\n        var _u64$add = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0);\n        Eh = _u64$add.h;\n        El = _u64$add.l;\n        Dh = Ch | 0;\n        Dl = Cl | 0;\n        Ch = Bh | 0;\n        Cl = Bl | 0;\n        Bh = Ah | 0;\n        Bl = Al | 0;\n        var All = u64.add3L(T1l, sigma0l, MAJl);\n        Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n        Al = All | 0;\n      }\n      // Add the compressed chunk to the current hash value\n      var _u64$add2 = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0);\n      Ah = _u64$add2.h;\n      Al = _u64$add2.l;\n      var _u64$add3 = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0);\n      Bh = _u64$add3.h;\n      Bl = _u64$add3.l;\n      var _u64$add4 = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0);\n      Ch = _u64$add4.h;\n      Cl = _u64$add4.l;\n      var _u64$add5 = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0);\n      Dh = _u64$add5.h;\n      Dl = _u64$add5.l;\n      var _u64$add6 = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0);\n      Eh = _u64$add6.h;\n      El = _u64$add6.l;\n      var _u64$add7 = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0);\n      Fh = _u64$add7.h;\n      Fl = _u64$add7.l;\n      var _u64$add8 = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0);\n      Gh = _u64$add8.h;\n      Gl = _u64$add8.l;\n      var _u64$add9 = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0);\n      Hh = _u64$add9.h;\n      Hl = _u64$add9.l;\n      this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n  }, {\n    key: \"roundClean\",\n    value: function roundClean() {\n      SHA512_W_H.fill(0);\n      SHA512_W_L.fill(0);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.buffer.fill(0);\n      this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n  }]);\n  return SHA512;\n}(SHA2);\nvar SHA512_224 = /*#__PURE__*/function (_SHA2) {\n  _inherits(SHA512_224, _SHA2);\n  var _super2 = _createSuper(SHA512_224);\n  function SHA512_224() {\n    var _this2;\n    _classCallCheck(this, SHA512_224);\n    _this2 = _super2.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this2.Ah = 0x8c3d37c8 | 0;\n    _this2.Al = 0x19544da2 | 0;\n    _this2.Bh = 0x73e19966 | 0;\n    _this2.Bl = 0x89dcd4d6 | 0;\n    _this2.Ch = 0x1dfab7ae | 0;\n    _this2.Cl = 0x32ff9c82 | 0;\n    _this2.Dh = 0x679dd514 | 0;\n    _this2.Dl = 0x582f9fcf | 0;\n    _this2.Eh = 0x0f6d2b69 | 0;\n    _this2.El = 0x7bd44da8 | 0;\n    _this2.Fh = 0x77e36f73 | 0;\n    _this2.Fl = 0x04c48942 | 0;\n    _this2.Gh = 0x3f9d85a8 | 0;\n    _this2.Gl = 0x6a1d36c8 | 0;\n    _this2.Hh = 0x1112e6ad | 0;\n    _this2.Hl = 0x91d692a1 | 0;\n    _this2.outputLen = 28;\n    return _this2;\n  }\n  return _createClass(SHA512_224);\n}(SHA512);\nvar SHA512_256 = /*#__PURE__*/function (_SHA3) {\n  _inherits(SHA512_256, _SHA3);\n  var _super3 = _createSuper(SHA512_256);\n  function SHA512_256() {\n    var _this3;\n    _classCallCheck(this, SHA512_256);\n    _this3 = _super3.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this3.Ah = 0x22312194 | 0;\n    _this3.Al = 0xfc2bf72c | 0;\n    _this3.Bh = 0x9f555fa3 | 0;\n    _this3.Bl = 0xc84c64c2 | 0;\n    _this3.Ch = 0x2393b86b | 0;\n    _this3.Cl = 0x6f53b151 | 0;\n    _this3.Dh = 0x96387719 | 0;\n    _this3.Dl = 0x5940eabd | 0;\n    _this3.Eh = 0x96283ee2 | 0;\n    _this3.El = 0xa88effe3 | 0;\n    _this3.Fh = 0xbe5e1e25 | 0;\n    _this3.Fl = 0x53863992 | 0;\n    _this3.Gh = 0x2b0199fc | 0;\n    _this3.Gl = 0x2c85b8aa | 0;\n    _this3.Hh = 0x0eb72ddc | 0;\n    _this3.Hl = 0x81c52ca2 | 0;\n    _this3.outputLen = 32;\n    return _this3;\n  }\n  return _createClass(SHA512_256);\n}(SHA512);\nvar SHA384 = /*#__PURE__*/function (_SHA4) {\n  _inherits(SHA384, _SHA4);\n  var _super4 = _createSuper(SHA384);\n  function SHA384() {\n    var _this4;\n    _classCallCheck(this, SHA384);\n    _this4 = _super4.call(this);\n    // h -- high 32 bits, l -- low 32 bits\n    _this4.Ah = 0xcbbb9d5d | 0;\n    _this4.Al = 0xc1059ed8 | 0;\n    _this4.Bh = 0x629a292a | 0;\n    _this4.Bl = 0x367cd507 | 0;\n    _this4.Ch = 0x9159015a | 0;\n    _this4.Cl = 0x3070dd17 | 0;\n    _this4.Dh = 0x152fecd8 | 0;\n    _this4.Dl = 0xf70e5939 | 0;\n    _this4.Eh = 0x67332667 | 0;\n    _this4.El = 0xffc00b31 | 0;\n    _this4.Fh = 0x8eb44a87 | 0;\n    _this4.Fl = 0x68581511 | 0;\n    _this4.Gh = 0xdb0c2e0d | 0;\n    _this4.Gl = 0x64f98fa7 | 0;\n    _this4.Hh = 0x47b5481d | 0;\n    _this4.Hl = 0xbefa4fa4 | 0;\n    _this4.outputLen = 48;\n    return _this4;\n  }\n  return _createClass(SHA384);\n}(SHA512);\nexport var sha512 = wrapConstructor(function () {\n  return new SHA512();\n});\nexport var sha512_224 = wrapConstructor(function () {\n  return new SHA512_224();\n});\nexport var sha512_256 = wrapConstructor(function () {\n  return new SHA512_256();\n});\nexport var sha384 = wrapConstructor(function () {\n  return new SHA384();\n});","import _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport { hmac } from '@noble/hashes/hmac';\nimport { ripemd160 } from '@noble/hashes/ripemd160';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { bytes as assertBytes } from '@noble/hashes/_assert';\nimport { bytesToHex, concatBytes, createView, hexToBytes, utf8ToBytes } from '@noble/hashes/utils';\nimport { secp256k1 as secp } from '@noble/curves/secp256k1';\nimport { mod } from '@noble/curves/abstract/modular';\nimport { base58check as base58checker } from '@scure/base';\nvar Point = secp.ProjectivePoint;\nvar base58check = base58checker(sha256);\nfunction bytesToNumber(bytes) {\n  return BigInt(\"0x\".concat(bytesToHex(bytes)));\n}\nfunction numberToBytes(num) {\n  return hexToBytes(num.toString(16).padStart(64, '0'));\n}\nvar MASTER_SECRET = utf8ToBytes('Bitcoin seed');\nvar BITCOIN_VERSIONS = {\n  private: 0x0488ade4,\n  public: 0x0488b21e\n};\nexport var HARDENED_OFFSET = 0x80000000;\nvar hash160 = function hash160(data) {\n  return ripemd160(sha256(data));\n};\nvar fromU32 = function fromU32(data) {\n  return createView(data).getUint32(0, false);\n};\nvar toU32 = function toU32(n) {\n  if (!Number.isSafeInteger(n) || n < 0 || n > Math.pow(2, 32) - 1) {\n    throw new Error(\"Invalid number=\".concat(n, \". Should be from 0 to 2 ** 32 - 1\"));\n  }\n  var buf = new Uint8Array(4);\n  createView(buf).setUint32(0, n, false);\n  return buf;\n};\nexport var HDKey = /*#__PURE__*/function () {\n  function HDKey(opt) {\n    _classCallCheck(this, HDKey);\n    this.depth = 0;\n    this.index = 0;\n    this.chainCode = null;\n    this.parentFingerprint = 0;\n    if (!opt || typeof opt !== 'object') {\n      throw new Error('HDKey.constructor must not be called directly');\n    }\n    this.versions = opt.versions || BITCOIN_VERSIONS;\n    this.depth = opt.depth || 0;\n    this.chainCode = opt.chainCode;\n    this.index = opt.index || 0;\n    this.parentFingerprint = opt.parentFingerprint || 0;\n    if (!this.depth) {\n      if (this.parentFingerprint || this.index) {\n        throw new Error('HDKey: zero depth with non-zero index/parent fingerprint');\n      }\n    }\n    if (opt.publicKey && opt.privateKey) {\n      throw new Error('HDKey: publicKey and privateKey at same time.');\n    }\n    if (opt.privateKey) {\n      if (!secp.utils.isValidPrivateKey(opt.privateKey)) {\n        throw new Error('Invalid private key');\n      }\n      this.privKey = typeof opt.privateKey === 'bigint' ? opt.privateKey : bytesToNumber(opt.privateKey);\n      this.privKeyBytes = numberToBytes(this.privKey);\n      this.pubKey = secp.getPublicKey(opt.privateKey, true);\n    } else if (opt.publicKey) {\n      this.pubKey = Point.fromHex(opt.publicKey).toRawBytes(true);\n    } else {\n      throw new Error('HDKey: no public or private key provided');\n    }\n    this.pubHash = hash160(this.pubKey);\n  }\n  _createClass(HDKey, [{\n    key: \"fingerprint\",\n    get: function get() {\n      if (!this.pubHash) {\n        throw new Error('No publicKey set!');\n      }\n      return fromU32(this.pubHash);\n    }\n  }, {\n    key: \"identifier\",\n    get: function get() {\n      return this.pubHash;\n    }\n  }, {\n    key: \"pubKeyHash\",\n    get: function get() {\n      return this.pubHash;\n    }\n  }, {\n    key: \"privateKey\",\n    get: function get() {\n      return this.privKeyBytes || null;\n    }\n  }, {\n    key: \"publicKey\",\n    get: function get() {\n      return this.pubKey || null;\n    }\n  }, {\n    key: \"privateExtendedKey\",\n    get: function get() {\n      var priv = this.privateKey;\n      if (!priv) {\n        throw new Error('No private key');\n      }\n      return base58check.encode(this.serialize(this.versions.private, concatBytes(new Uint8Array([0]), priv)));\n    }\n  }, {\n    key: \"publicExtendedKey\",\n    get: function get() {\n      if (!this.pubKey) {\n        throw new Error('No public key');\n      }\n      return base58check.encode(this.serialize(this.versions.public, this.pubKey));\n    }\n  }, {\n    key: \"derive\",\n    value: function derive(path) {\n      if (!/^[mM]'?/.test(path)) {\n        throw new Error('Path must start with \"m\" or \"M\"');\n      }\n      if (/^[mM]'?$/.test(path)) {\n        return this;\n      }\n      var parts = path.replace(/^[mM]'?\\//, '').split('/');\n      var child = this;\n      var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var c = _step.value;\n          var m = /^(\\d+)('?)$/.exec(c);\n          if (!m || m.length !== 3) {\n            throw new Error(\"Invalid child index: \".concat(c));\n          }\n          var idx = +m[1];\n          if (!Number.isSafeInteger(idx) || idx >= HARDENED_OFFSET) {\n            throw new Error('Invalid index');\n          }\n          if (m[2] === \"'\") {\n            idx += HARDENED_OFFSET;\n          }\n          child = child.deriveChild(idx);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return child;\n    }\n  }, {\n    key: \"deriveChild\",\n    value: function deriveChild(index) {\n      if (!this.pubKey || !this.chainCode) {\n        throw new Error('No publicKey or chainCode set');\n      }\n      var data = toU32(index);\n      if (index >= HARDENED_OFFSET) {\n        var priv = this.privateKey;\n        if (!priv) {\n          throw new Error('Could not derive hardened child key');\n        }\n        data = concatBytes(new Uint8Array([0]), priv, data);\n      } else {\n        data = concatBytes(this.pubKey, data);\n      }\n      var I = hmac(sha512, this.chainCode, data);\n      var childTweak = bytesToNumber(I.slice(0, 32));\n      var chainCode = I.slice(32);\n      if (!secp.utils.isValidPrivateKey(childTweak)) {\n        throw new Error('Tweak bigger than curve order');\n      }\n      var opt = {\n        versions: this.versions,\n        chainCode: chainCode,\n        depth: this.depth + 1,\n        parentFingerprint: this.fingerprint,\n        index: index\n      };\n      try {\n        if (this.privateKey) {\n          var added = mod(this.privKey + childTweak, secp.CURVE.n);\n          if (!secp.utils.isValidPrivateKey(added)) {\n            throw new Error('The tweak was out of range or the resulted private key is invalid');\n          }\n          opt.privateKey = added;\n        } else {\n          var _added = Point.fromHex(this.pubKey).add(Point.fromPrivateKey(childTweak));\n          if (_added.equals(Point.ZERO)) {\n            throw new Error('The tweak was equal to negative P, which made the result key invalid');\n          }\n          opt.publicKey = _added.toRawBytes(true);\n        }\n        return new HDKey(opt);\n      } catch (err) {\n        return this.deriveChild(index + 1);\n      }\n    }\n  }, {\n    key: \"sign\",\n    value: function sign(hash) {\n      if (!this.privateKey) {\n        throw new Error('No privateKey set!');\n      }\n      assertBytes(hash, 32);\n      return secp.sign(hash, this.privKey).toCompactRawBytes();\n    }\n  }, {\n    key: \"verify\",\n    value: function verify(hash, signature) {\n      assertBytes(hash, 32);\n      assertBytes(signature, 64);\n      if (!this.publicKey) {\n        throw new Error('No publicKey set!');\n      }\n      var sig;\n      try {\n        sig = secp.Signature.fromCompact(signature);\n      } catch (error) {\n        return false;\n      }\n      return secp.verify(sig, hash, this.publicKey);\n    }\n  }, {\n    key: \"wipePrivateData\",\n    value: function wipePrivateData() {\n      this.privKey = undefined;\n      if (this.privKeyBytes) {\n        this.privKeyBytes.fill(0);\n        this.privKeyBytes = undefined;\n      }\n      return this;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        xpriv: this.privateExtendedKey,\n        xpub: this.publicExtendedKey\n      };\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(version, key) {\n      if (!this.chainCode) {\n        throw new Error('No chainCode set');\n      }\n      assertBytes(key, 33);\n      return concatBytes(toU32(version), new Uint8Array([this.depth]), toU32(this.parentFingerprint), toU32(this.index), this.chainCode, key);\n    }\n  }], [{\n    key: \"fromMasterSeed\",\n    value: function fromMasterSeed(seed) {\n      var versions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : BITCOIN_VERSIONS;\n      assertBytes(seed);\n      if (8 * seed.length < 128 || 8 * seed.length > 512) {\n        throw new Error(\"HDKey: wrong seed length=\".concat(seed.length, \". Should be between 128 and 512 bits; 256 bits is advised)\"));\n      }\n      var I = hmac(sha512, MASTER_SECRET, seed);\n      return new HDKey({\n        versions: versions,\n        chainCode: I.slice(32),\n        privateKey: I.slice(0, 32)\n      });\n    }\n  }, {\n    key: \"fromExtendedKey\",\n    value: function fromExtendedKey(base58key) {\n      var versions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : BITCOIN_VERSIONS;\n      var keyBuffer = base58check.decode(base58key);\n      var keyView = createView(keyBuffer);\n      var version = keyView.getUint32(0, false);\n      var opt = {\n        versions: versions,\n        depth: keyBuffer[4],\n        parentFingerprint: keyView.getUint32(5, false),\n        index: keyView.getUint32(9, false),\n        chainCode: keyBuffer.slice(13, 45)\n      };\n      var key = keyBuffer.slice(45);\n      var isPriv = key[0] === 0;\n      if (version !== versions[isPriv ? 'private' : 'public']) {\n        throw new Error('Version mismatch');\n      }\n      if (isPriv) {\n        return new HDKey(_objectSpread(_objectSpread({}, opt), {}, {\n          privateKey: key.slice(1)\n        }));\n      } else {\n        return new HDKey(_objectSpread(_objectSpread({}, opt), {}, {\n          publicKey: key\n        }));\n      }\n    }\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      return HDKey.fromExtendedKey(json.xpriv);\n    }\n  }]);\n  return HDKey;\n}();","import _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _asyncToGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/regenerator/index.js\";\n/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */\nvar u8a = function u8a(a) {\n  return a instanceof Uint8Array;\n};\n// Cast array to different type\nexport var u8 = function u8(arr) {\n  return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n};\nexport var u16 = function u16(arr) {\n  return new Uint16Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 2));\n};\nexport var u32 = function u32(arr) {\n  return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n};\n// Cast array to view\nexport var createView = function createView(arr) {\n  return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n};\n// big-endian hardware is rare. Just in case someone still decides to run ciphers:\n// early-throw an error because we don't support BE yet.\nexport var isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\nvar hexes = /* @__PURE__ */Array.from({\n  length: 256\n}, function (_, i) {\n  return i.toString(16).padStart(2, '0');\n});\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  var hex = '';\n  for (var i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  var len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  var array = new Uint8Array(len / 2);\n  for (var i = 0; i < array.length; i++) {\n    var j = i * 2;\n    var hexByte = hex.slice(j, j + 2);\n    var byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport var nextTick = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function nextTick() {\n    return _ref.apply(this, arguments);\n  };\n}();\n// Returns control to thread each 'tick' ms to avoid blocking\nexport function asyncLoop(_x, _x2, _x3) {\n  return _asyncLoop.apply(this, arguments);\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction _asyncLoop() {\n  _asyncLoop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(iters, tick, cb) {\n    var ts, i, diff;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            ts = Date.now();\n            i = 0;\n          case 2:\n            if (!(i < iters)) {\n              _context2.next = 13;\n              break;\n            }\n            cb(i);\n            // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n            diff = Date.now() - ts;\n            if (!(diff >= 0 && diff < tick)) {\n              _context2.next = 7;\n              break;\n            }\n            return _context2.abrupt(\"continue\", 10);\n          case 7:\n            _context2.next = 9;\n            return nextTick();\n          case 9:\n            ts += diff;\n          case 10:\n            i++;\n            _context2.next = 2;\n            break;\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _asyncLoop.apply(this, arguments);\n}\nexport function utf8ToBytes(str) {\n  if (typeof str !== 'string') throw new Error(\"utf8ToBytes expected string, got \".concat(typeof str));\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport function bytesToUtf8(bytes) {\n  return new TextDecoder().decode(bytes);\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(\"expected Uint8Array, got \".concat(typeof data));\n  return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes() {\n  for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n    arrays[_key] = arguments[_key];\n  }\n  var r = new Uint8Array(arrays.reduce(function (sum, a) {\n    return sum + a.length;\n  }, 0));\n  var pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach(function (a) {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nvar isPlainObject = function isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\n};\nexport function checkOpts(defaults, opts) {\n  if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts))) throw new Error('options must be object or undefined');\n  var merged = Object.assign(defaults, opts);\n  return merged;\n}\nexport function ensureBytes(b, len) {\n  if (!(b instanceof Uint8Array)) throw new Error('Uint8Array expected');\n  if (typeof len === 'number') if (b.length !== len) throw new Error(\"Uint8Array length \".concat(len, \" expected\"));\n}\n// Constant-time equality\nexport function equalBytes(a, b) {\n  // Should not happen\n  if (a.length !== b.length) throw new Error('equalBytes: Different size of Uint8Arrays');\n  var isSame = true;\n  for (var i = 0; i < a.length; i++) {\n    isSame && (isSame = a[i] === b[i]);\n  } // Lets hope JIT won't optimize away.\n  return isSame;\n}\n// For runtime check if class implements interface\nexport var Hash = /*#__PURE__*/_createClass(function Hash() {\n  _classCallCheck(this, Hash);\n});\n// Polyfill for Safari 14\nexport function setBigUint64(view, byteOffset, value, isLE) {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  var _32n = BigInt(32);\n  var _u32_max = BigInt(0xffffffff);\n  var wh = Number(value >> _32n & _u32_max);\n  var wl = Number(value & _u32_max);\n  var h = isLE ? 4 : 0;\n  var l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}","function number(n) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(\"Wrong positive integer: \".concat(n));\n}\nfunction bool(b) {\n  if (typeof b !== 'boolean') throw new Error(\"Expected boolean, not \".concat(b));\n}\nfunction bytes(b) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  for (var _len = arguments.length, lengths = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    lengths[_key - 1] = arguments[_key];\n  }\n  if (lengths.length > 0 && !lengths.includes(b.length)) throw new Error(\"Expected Uint8Array of length \".concat(lengths, \", not of length=\").concat(b.length));\n}\nfunction hash(hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function') throw new Error('hash must be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\nfunction exists(instance) {\n  var checkFinished = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nfunction output(out, instance) {\n  bytes(out);\n  var min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(\"digestInto() expects output buffer of length at least \".concat(min));\n  }\n}\nexport { number, bool, bytes, hash, exists, output };\nvar assert = {\n  number: number,\n  bool: bool,\n  bytes: bytes,\n  hash: hash,\n  exists: exists,\n  output: output\n};\nexport default assert;","import _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { toBytes, ensureBytes } from './utils.js';\nimport assert from './_assert.js';\n// Poly1305 is a fast and parallel secret-key message-authentication code.\n// https://cr.yp.to/mac.html, https://cr.yp.to/mac/poly1305-20050329.pdf\n// https://datatracker.ietf.org/doc/html/rfc8439\n// Based on Public Domain poly1305-donna https://github.com/floodyberry/poly1305-donna\nvar u8to16 = function u8to16(a, i) {\n  return a[i++] & 0xff | (a[i++] & 0xff) << 8;\n};\nvar Poly1305 = /*#__PURE__*/function () {\n  function Poly1305(key) {\n    _classCallCheck(this, Poly1305);\n    this.blockLen = 16;\n    this.outputLen = 16;\n    this.buffer = new Uint8Array(16);\n    this.r = new Uint16Array(10);\n    this.h = new Uint16Array(10);\n    this.pad = new Uint16Array(8);\n    this.pos = 0;\n    this.finished = false;\n    key = toBytes(key);\n    ensureBytes(key, 32);\n    var t0 = u8to16(key, 0);\n    var t1 = u8to16(key, 2);\n    var t2 = u8to16(key, 4);\n    var t3 = u8to16(key, 6);\n    var t4 = u8to16(key, 8);\n    var t5 = u8to16(key, 10);\n    var t6 = u8to16(key, 12);\n    var t7 = u8to16(key, 14);\n    // https://github.com/floodyberry/poly1305-donna/blob/e6ad6e091d30d7f4ec2d4f978be1fcfcbce72781/poly1305-donna-16.h#L47\n    this.r[0] = t0 & 0x1fff;\n    this.r[1] = (t0 >>> 13 | t1 << 3) & 0x1fff;\n    this.r[2] = (t1 >>> 10 | t2 << 6) & 0x1f03;\n    this.r[3] = (t2 >>> 7 | t3 << 9) & 0x1fff;\n    this.r[4] = (t3 >>> 4 | t4 << 12) & 0x00ff;\n    this.r[5] = t4 >>> 1 & 0x1ffe;\n    this.r[6] = (t4 >>> 14 | t5 << 2) & 0x1fff;\n    this.r[7] = (t5 >>> 11 | t6 << 5) & 0x1f81;\n    this.r[8] = (t6 >>> 8 | t7 << 8) & 0x1fff;\n    this.r[9] = t7 >>> 5 & 0x007f;\n    for (var i = 0; i < 8; i++) {\n      this.pad[i] = u8to16(key, 16 + 2 * i);\n    }\n  }\n  _createClass(Poly1305, [{\n    key: \"process\",\n    value: function process(data, offset) {\n      var isLast = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var hibit = isLast ? 0 : 1 << 11;\n      var h = this.h,\n        r = this.r;\n      var r0 = r[0];\n      var r1 = r[1];\n      var r2 = r[2];\n      var r3 = r[3];\n      var r4 = r[4];\n      var r5 = r[5];\n      var r6 = r[6];\n      var r7 = r[7];\n      var r8 = r[8];\n      var r9 = r[9];\n      var t0 = u8to16(data, offset + 0);\n      var t1 = u8to16(data, offset + 2);\n      var t2 = u8to16(data, offset + 4);\n      var t3 = u8to16(data, offset + 6);\n      var t4 = u8to16(data, offset + 8);\n      var t5 = u8to16(data, offset + 10);\n      var t6 = u8to16(data, offset + 12);\n      var t7 = u8to16(data, offset + 14);\n      var h0 = h[0] + (t0 & 0x1fff);\n      var h1 = h[1] + ((t0 >>> 13 | t1 << 3) & 0x1fff);\n      var h2 = h[2] + ((t1 >>> 10 | t2 << 6) & 0x1fff);\n      var h3 = h[3] + ((t2 >>> 7 | t3 << 9) & 0x1fff);\n      var h4 = h[4] + ((t3 >>> 4 | t4 << 12) & 0x1fff);\n      var h5 = h[5] + (t4 >>> 1 & 0x1fff);\n      var h6 = h[6] + ((t4 >>> 14 | t5 << 2) & 0x1fff);\n      var h7 = h[7] + ((t5 >>> 11 | t6 << 5) & 0x1fff);\n      var h8 = h[8] + ((t6 >>> 8 | t7 << 8) & 0x1fff);\n      var h9 = h[9] + (t7 >>> 5 | hibit);\n      var c = 0;\n      var d0 = c + h0 * r0 + h1 * (5 * r9) + h2 * (5 * r8) + h3 * (5 * r7) + h4 * (5 * r6);\n      c = d0 >>> 13;\n      d0 &= 0x1fff;\n      d0 += h5 * (5 * r5) + h6 * (5 * r4) + h7 * (5 * r3) + h8 * (5 * r2) + h9 * (5 * r1);\n      c += d0 >>> 13;\n      d0 &= 0x1fff;\n      var d1 = c + h0 * r1 + h1 * r0 + h2 * (5 * r9) + h3 * (5 * r8) + h4 * (5 * r7);\n      c = d1 >>> 13;\n      d1 &= 0x1fff;\n      d1 += h5 * (5 * r6) + h6 * (5 * r5) + h7 * (5 * r4) + h8 * (5 * r3) + h9 * (5 * r2);\n      c += d1 >>> 13;\n      d1 &= 0x1fff;\n      var d2 = c + h0 * r2 + h1 * r1 + h2 * r0 + h3 * (5 * r9) + h4 * (5 * r8);\n      c = d2 >>> 13;\n      d2 &= 0x1fff;\n      d2 += h5 * (5 * r7) + h6 * (5 * r6) + h7 * (5 * r5) + h8 * (5 * r4) + h9 * (5 * r3);\n      c += d2 >>> 13;\n      d2 &= 0x1fff;\n      var d3 = c + h0 * r3 + h1 * r2 + h2 * r1 + h3 * r0 + h4 * (5 * r9);\n      c = d3 >>> 13;\n      d3 &= 0x1fff;\n      d3 += h5 * (5 * r8) + h6 * (5 * r7) + h7 * (5 * r6) + h8 * (5 * r5) + h9 * (5 * r4);\n      c += d3 >>> 13;\n      d3 &= 0x1fff;\n      var d4 = c + h0 * r4 + h1 * r3 + h2 * r2 + h3 * r1 + h4 * r0;\n      c = d4 >>> 13;\n      d4 &= 0x1fff;\n      d4 += h5 * (5 * r9) + h6 * (5 * r8) + h7 * (5 * r7) + h8 * (5 * r6) + h9 * (5 * r5);\n      c += d4 >>> 13;\n      d4 &= 0x1fff;\n      var d5 = c + h0 * r5 + h1 * r4 + h2 * r3 + h3 * r2 + h4 * r1;\n      c = d5 >>> 13;\n      d5 &= 0x1fff;\n      d5 += h5 * r0 + h6 * (5 * r9) + h7 * (5 * r8) + h8 * (5 * r7) + h9 * (5 * r6);\n      c += d5 >>> 13;\n      d5 &= 0x1fff;\n      var d6 = c + h0 * r6 + h1 * r5 + h2 * r4 + h3 * r3 + h4 * r2;\n      c = d6 >>> 13;\n      d6 &= 0x1fff;\n      d6 += h5 * r1 + h6 * r0 + h7 * (5 * r9) + h8 * (5 * r8) + h9 * (5 * r7);\n      c += d6 >>> 13;\n      d6 &= 0x1fff;\n      var d7 = c + h0 * r7 + h1 * r6 + h2 * r5 + h3 * r4 + h4 * r3;\n      c = d7 >>> 13;\n      d7 &= 0x1fff;\n      d7 += h5 * r2 + h6 * r1 + h7 * r0 + h8 * (5 * r9) + h9 * (5 * r8);\n      c += d7 >>> 13;\n      d7 &= 0x1fff;\n      var d8 = c + h0 * r8 + h1 * r7 + h2 * r6 + h3 * r5 + h4 * r4;\n      c = d8 >>> 13;\n      d8 &= 0x1fff;\n      d8 += h5 * r3 + h6 * r2 + h7 * r1 + h8 * r0 + h9 * (5 * r9);\n      c += d8 >>> 13;\n      d8 &= 0x1fff;\n      var d9 = c + h0 * r9 + h1 * r8 + h2 * r7 + h3 * r6 + h4 * r5;\n      c = d9 >>> 13;\n      d9 &= 0x1fff;\n      d9 += h5 * r4 + h6 * r3 + h7 * r2 + h8 * r1 + h9 * r0;\n      c += d9 >>> 13;\n      d9 &= 0x1fff;\n      c = (c << 2) + c | 0;\n      c = c + d0 | 0;\n      d0 = c & 0x1fff;\n      c = c >>> 13;\n      d1 += c;\n      h[0] = d0;\n      h[1] = d1;\n      h[2] = d2;\n      h[3] = d3;\n      h[4] = d4;\n      h[5] = d5;\n      h[6] = d6;\n      h[7] = d7;\n      h[8] = d8;\n      h[9] = d9;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      var h = this.h,\n        pad = this.pad;\n      var g = new Uint16Array(10);\n      var c = h[1] >>> 13;\n      h[1] &= 0x1fff;\n      for (var i = 2; i < 10; i++) {\n        h[i] += c;\n        c = h[i] >>> 13;\n        h[i] &= 0x1fff;\n      }\n      h[0] += c * 5;\n      c = h[0] >>> 13;\n      h[0] &= 0x1fff;\n      h[1] += c;\n      c = h[1] >>> 13;\n      h[1] &= 0x1fff;\n      h[2] += c;\n      g[0] = h[0] + 5;\n      c = g[0] >>> 13;\n      g[0] &= 0x1fff;\n      for (var _i = 1; _i < 10; _i++) {\n        g[_i] = h[_i] + c;\n        c = g[_i] >>> 13;\n        g[_i] &= 0x1fff;\n      }\n      g[9] -= 1 << 13;\n      var mask = (c ^ 1) - 1;\n      for (var _i2 = 0; _i2 < 10; _i2++) {\n        g[_i2] &= mask;\n      }\n      mask = ~mask;\n      for (var _i3 = 0; _i3 < 10; _i3++) {\n        h[_i3] = h[_i3] & mask | g[_i3];\n      }\n      h[0] = (h[0] | h[1] << 13) & 0xffff;\n      h[1] = (h[1] >>> 3 | h[2] << 10) & 0xffff;\n      h[2] = (h[2] >>> 6 | h[3] << 7) & 0xffff;\n      h[3] = (h[3] >>> 9 | h[4] << 4) & 0xffff;\n      h[4] = (h[4] >>> 12 | h[5] << 1 | h[6] << 14) & 0xffff;\n      h[5] = (h[6] >>> 2 | h[7] << 11) & 0xffff;\n      h[6] = (h[7] >>> 5 | h[8] << 8) & 0xffff;\n      h[7] = (h[8] >>> 8 | h[9] << 5) & 0xffff;\n      var f = h[0] + pad[0];\n      h[0] = f & 0xffff;\n      for (var _i4 = 1; _i4 < 8; _i4++) {\n        f = (h[_i4] + pad[_i4] | 0) + (f >>> 16) | 0;\n        h[_i4] = f & 0xffff;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(data) {\n      assert.exists(this);\n      var buffer = this.buffer,\n        blockLen = this.blockLen;\n      data = toBytes(data);\n      var len = data.length;\n      for (var pos = 0; pos < len;) {\n        var take = Math.min(blockLen - this.pos, len - pos);\n        // Fast path: we have at least one block in input\n        if (take === blockLen) {\n          for (; blockLen <= len - pos; pos += blockLen) {\n            this.process(data, pos);\n          }\n          continue;\n        }\n        buffer.set(data.subarray(pos, pos + take), this.pos);\n        this.pos += take;\n        pos += take;\n        if (this.pos === blockLen) {\n          this.process(buffer, 0, false);\n          this.pos = 0;\n        }\n      }\n      return this;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.h.fill(0);\n      this.r.fill(0);\n      this.buffer.fill(0);\n      this.pad.fill(0);\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assert.exists(this);\n      assert.output(out, this);\n      this.finished = true;\n      var buffer = this.buffer,\n        h = this.h;\n      var pos = this.pos;\n      if (pos) {\n        buffer[pos++] = 1;\n        // buffer.subarray(pos).fill(0);\n        for (; pos < 16; pos++) {\n          buffer[pos] = 0;\n        }\n        this.process(buffer, 0, true);\n      }\n      this.finalize();\n      var opos = 0;\n      for (var i = 0; i < 8; i++) {\n        out[opos++] = h[i] >>> 0;\n        out[opos++] = h[i] >>> 8;\n      }\n      return out;\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var buffer = this.buffer,\n        outputLen = this.outputLen;\n      this.digestInto(buffer);\n      var res = buffer.slice(0, outputLen);\n      this.destroy();\n      return res;\n    }\n  }]);\n  return Poly1305;\n}();\nexport function wrapConstructorWithKey(hashCons) {\n  var hashC = function hashC(msg, key) {\n    return hashCons(key).update(toBytes(msg)).digest();\n  };\n  var tmp = hashCons(new Uint8Array(32));\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = function (key) {\n    return hashCons(key);\n  };\n  return hashC;\n}\nexport var poly1305 = wrapConstructorWithKey(function (key) {\n  return new Poly1305(key);\n});","// Basic utils for salsa-like ciphers\n// Check out _micro.ts for descriptive documentation.\nimport assert from './_assert.js';\nimport { u32, utf8ToBytes, checkOpts } from './utils.js';\n/*\nRFC8439 requires multi-step cipher stream, where\nauthKey starts with counter: 0, actual msg with counter: 1.\n\nFor this, we need a way to re-use nonce / counter:\n\n    const counter = new Uint8Array(4);\n    chacha(..., counter, ...); // counter is now 1\n    chacha(..., counter, ...); // counter is now 2\n\nThis is complicated:\n\n- Original papers don't allow mutating counters\n- Counter overflow is undefined: https://mailarchive.ietf.org/arch/msg/cfrg/gsOnTJzcbgG6OqD8Sc0GO5aR_tU/\n- 3rd-party library stablelib implementation uses an approach where you can provide\n  nonce and counter instead of just nonce - and it will re-use it\n- We could have did something similar, but ChaCha has different counter position\n  (counter | nonce), which is not composable with XChaCha, because full counter\n  is (nonce16 | counter | nonce16). Stablelib doesn't support in-place counter for XChaCha.\n- We could separate nonce & counter and provide separate API for counter re-use, but\n  there are different counter sizes depending on an algorithm.\n- Salsa & ChaCha also differ in structures of key / sigma:\n\n    salsa:     c0 | k(4) | c1 | nonce(2) | ctr(2) | c2 | k(4) | c4\n    chacha:    c(4) | k(8) | ctr(1) | nonce(3)\n    chachaDJB: c(4) | k(8) | ctr(2) | nonce(2)\n- Creating function such as `setSalsaState(key, nonce, sigma, data)` won't work,\n  because we can't re-use counter array\n- 32-bit nonce is `2 ** 32 * 64` = 256GB with 32-bit counter\n- JS does not allow UintArrays bigger than 4GB, so supporting 64-bit counters doesn't matter\n\nStructure is as following:\n\nkey=16 -> sigma16, k=key|key\nkey=32 -> sigma32, k=key\n\nnonces:\nsalsa20:      8   (8-byte counter)\nchacha20djb:  8   (8-byte counter)\nchacha20tls:  12  (4-byte counter)\nxsalsa:       24  (16 -> hsalsa, 8 -> old nonce)\nxchacha:      24  (16 -> hchacha, 8 -> old nonce)\n\nhttps://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha#appendix-A.2\nUse the subkey and remaining 8 byte nonce with ChaCha20 as normal\n(prefixed by 4 NUL bytes, since [RFC8439] specifies a 12-byte nonce).\n*/\nvar sigma16 = utf8ToBytes('expand 16-byte k');\nvar sigma32 = utf8ToBytes('expand 32-byte k');\nvar sigma16_32 = u32(sigma16);\nvar sigma32_32 = u32(sigma32);\n// Is byte array aligned to 4 byte offset (u32)?\nvar isAligned32 = function isAligned32(b) {\n  return !(b.byteOffset % 4);\n};\nexport var salsaBasic = function salsaBasic(opts) {\n  var _checkOpts = checkOpts({\n      rounds: 20,\n      counterRight: false,\n      counterLen: 8,\n      allow128bitKeys: true,\n      blockLen: 64\n    }, opts),\n    core = _checkOpts.core,\n    rounds = _checkOpts.rounds,\n    counterRight = _checkOpts.counterRight,\n    counterLen = _checkOpts.counterLen,\n    allow128bitKeys = _checkOpts.allow128bitKeys,\n    extendNonceFn = _checkOpts.extendNonceFn,\n    blockLen = _checkOpts.blockLen;\n  assert.number(counterLen);\n  assert.number(rounds);\n  assert.number(blockLen);\n  assert.bool(counterRight);\n  assert.bool(allow128bitKeys);\n  var blockLen32 = blockLen / 4;\n  if (blockLen % 4 !== 0) throw new Error('Salsa/ChaCha: blockLen must be aligned to 4 bytes');\n  return function (key, nonce, data, output) {\n    var counter = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    assert.bytes(key);\n    assert.bytes(nonce);\n    assert.bytes(data);\n    if (!output) output = new Uint8Array(data.length);\n    assert.bytes(output);\n    assert.number(counter);\n    // > new Uint32Array([2**32])\n    // Uint32Array(1) [ 0 ]\n    // > new Uint32Array([2**32-1])\n    // Uint32Array(1) [ 4294967295 ]\n    if (counter < 0 || counter >= Math.pow(2, 32) - 1) throw new Error('Salsa/ChaCha: counter overflow');\n    if (output.length < data.length) {\n      throw new Error(\"Salsa/ChaCha: output (\".concat(output.length, \") is shorter than data (\").concat(data.length, \")\"));\n    }\n    var toClean = [];\n    var k, sigma;\n    // Handle 128 byte keys\n    if (key.length === 32) {\n      k = key;\n      sigma = sigma32_32;\n    } else if (key.length === 16 && allow128bitKeys) {\n      k = new Uint8Array(32);\n      k.set(key);\n      k.set(key, 16);\n      sigma = sigma16_32;\n      toClean.push(k);\n    } else throw new Error(\"Salsa/ChaCha: invalid 32-byte key, got length=\".concat(key.length));\n    // Handle extended nonce (HChaCha/HSalsa)\n    if (extendNonceFn) {\n      if (nonce.length <= 16) throw new Error(\"Salsa/ChaCha: extended nonce must be bigger than 16 bytes\");\n      k = extendNonceFn(sigma, k, nonce.subarray(0, 16), new Uint8Array(32));\n      toClean.push(k);\n      nonce = nonce.subarray(16);\n    }\n    // Handle nonce counter\n    var nonceLen = 16 - counterLen;\n    if (nonce.length !== nonceLen) throw new Error(\"Salsa/ChaCha: nonce must be \".concat(nonceLen, \" or 16 bytes\"));\n    // Pad counter when nonce is 64 bit\n    if (nonceLen !== 12) {\n      var nc = new Uint8Array(12);\n      nc.set(nonce, counterRight ? 0 : 12 - nonce.length);\n      toClean.push(nonce = nc);\n    }\n    // Counter positions\n    var block = new Uint8Array(blockLen);\n    // Cast to Uint32Array for speed\n    var b32 = u32(block);\n    var k32 = u32(k);\n    var n32 = u32(nonce);\n    // Make sure that buffers aligned to 4 bytes\n    var d32 = isAligned32(data) && u32(data);\n    var o32 = isAligned32(output) && u32(output);\n    toClean.push(b32);\n    var len = data.length;\n    for (var pos = 0, ctr = counter; pos < len; ctr++) {\n      core(sigma, k32, n32, b32, ctr, rounds);\n      if (ctr >= Math.pow(2, 32) - 1) throw new Error('Salsa/ChaCha: counter overflow');\n      var take = Math.min(blockLen, len - pos);\n      // full block && aligned to 4 bytes\n      if (take === blockLen && o32 && d32) {\n        var pos32 = pos / 4;\n        if (pos % 4 !== 0) throw new Error('Salsa/ChaCha: invalid block position');\n        for (var j = 0; j < blockLen32; j++) {\n          o32[pos32 + j] = d32[pos32 + j] ^ b32[j];\n        }\n        pos += blockLen;\n        continue;\n      }\n      for (var _j = 0; _j < take; _j++) {\n        output[pos + _j] = data[pos + _j] ^ block[_j];\n      }\n      pos += take;\n    }\n    for (var i = 0; i < toClean.length; i++) {\n      toClean[i].fill(0);\n    }\n    return output;\n  };\n};","import { createView, ensureBytes, equalBytes, setBigUint64, u32 } from './utils.js';\nimport { poly1305 } from './_poly1305.js';\nimport { salsaBasic } from './_salsa.js';\n// ChaCha20 stream cipher was released in 2008. ChaCha aims to increase\n// the diffusion per round, but had slightly less cryptanalysis.\n// https://cr.yp.to/chacha.html, http://cr.yp.to/chacha/chacha-20080128.pdf\n// Left rotate for uint32\nvar rotl = function rotl(a, b) {\n  return a << b | a >>> 32 - b;\n};\n/**\n * ChaCha core function.\n */\n// prettier-ignore\nfunction chachaCore(c, k, n, out, cnt) {\n  var rounds = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 20;\n  var y00 = c[0],\n    y01 = c[1],\n    y02 = c[2],\n    y03 = c[3]; // \"expa\"   \"nd 3\"  \"2-by\"  \"te k\"\n  var y04 = k[0],\n    y05 = k[1],\n    y06 = k[2],\n    y07 = k[3]; // Key      Key     Key     Key\n  var y08 = k[4],\n    y09 = k[5],\n    y10 = k[6],\n    y11 = k[7]; // Key      Key     Key     Key\n  var y12 = cnt,\n    y13 = n[0],\n    y14 = n[1],\n    y15 = n[2]; // Counter  Counter\tNonce   Nonce\n  // Save state to temporary variables\n  var x00 = y00,\n    x01 = y01,\n    x02 = y02,\n    x03 = y03,\n    x04 = y04,\n    x05 = y05,\n    x06 = y06,\n    x07 = y07,\n    x08 = y08,\n    x09 = y09,\n    x10 = y10,\n    x11 = y11,\n    x12 = y12,\n    x13 = y13,\n    x14 = y14,\n    x15 = y15;\n  // Main loop\n  for (var i = 0; i < rounds; i += 2) {\n    x00 = x00 + x04 | 0;\n    x12 = rotl(x12 ^ x00, 16);\n    x08 = x08 + x12 | 0;\n    x04 = rotl(x04 ^ x08, 12);\n    x00 = x00 + x04 | 0;\n    x12 = rotl(x12 ^ x00, 8);\n    x08 = x08 + x12 | 0;\n    x04 = rotl(x04 ^ x08, 7);\n    x01 = x01 + x05 | 0;\n    x13 = rotl(x13 ^ x01, 16);\n    x09 = x09 + x13 | 0;\n    x05 = rotl(x05 ^ x09, 12);\n    x01 = x01 + x05 | 0;\n    x13 = rotl(x13 ^ x01, 8);\n    x09 = x09 + x13 | 0;\n    x05 = rotl(x05 ^ x09, 7);\n    x02 = x02 + x06 | 0;\n    x14 = rotl(x14 ^ x02, 16);\n    x10 = x10 + x14 | 0;\n    x06 = rotl(x06 ^ x10, 12);\n    x02 = x02 + x06 | 0;\n    x14 = rotl(x14 ^ x02, 8);\n    x10 = x10 + x14 | 0;\n    x06 = rotl(x06 ^ x10, 7);\n    x03 = x03 + x07 | 0;\n    x15 = rotl(x15 ^ x03, 16);\n    x11 = x11 + x15 | 0;\n    x07 = rotl(x07 ^ x11, 12);\n    x03 = x03 + x07 | 0;\n    x15 = rotl(x15 ^ x03, 8);\n    x11 = x11 + x15 | 0;\n    x07 = rotl(x07 ^ x11, 7);\n    x00 = x00 + x05 | 0;\n    x15 = rotl(x15 ^ x00, 16);\n    x10 = x10 + x15 | 0;\n    x05 = rotl(x05 ^ x10, 12);\n    x00 = x00 + x05 | 0;\n    x15 = rotl(x15 ^ x00, 8);\n    x10 = x10 + x15 | 0;\n    x05 = rotl(x05 ^ x10, 7);\n    x01 = x01 + x06 | 0;\n    x12 = rotl(x12 ^ x01, 16);\n    x11 = x11 + x12 | 0;\n    x06 = rotl(x06 ^ x11, 12);\n    x01 = x01 + x06 | 0;\n    x12 = rotl(x12 ^ x01, 8);\n    x11 = x11 + x12 | 0;\n    x06 = rotl(x06 ^ x11, 7);\n    x02 = x02 + x07 | 0;\n    x13 = rotl(x13 ^ x02, 16);\n    x08 = x08 + x13 | 0;\n    x07 = rotl(x07 ^ x08, 12);\n    x02 = x02 + x07 | 0;\n    x13 = rotl(x13 ^ x02, 8);\n    x08 = x08 + x13 | 0;\n    x07 = rotl(x07 ^ x08, 7);\n    x03 = x03 + x04 | 0;\n    x14 = rotl(x14 ^ x03, 16);\n    x09 = x09 + x14 | 0;\n    x04 = rotl(x04 ^ x09, 12);\n    x03 = x03 + x04 | 0;\n    x14 = rotl(x14 ^ x03, 8);\n    x09 = x09 + x14 | 0;\n    x04 = rotl(x04 ^ x09, 7);\n  }\n  // Write output\n  var oi = 0;\n  out[oi++] = y00 + x00 | 0;\n  out[oi++] = y01 + x01 | 0;\n  out[oi++] = y02 + x02 | 0;\n  out[oi++] = y03 + x03 | 0;\n  out[oi++] = y04 + x04 | 0;\n  out[oi++] = y05 + x05 | 0;\n  out[oi++] = y06 + x06 | 0;\n  out[oi++] = y07 + x07 | 0;\n  out[oi++] = y08 + x08 | 0;\n  out[oi++] = y09 + x09 | 0;\n  out[oi++] = y10 + x10 | 0;\n  out[oi++] = y11 + x11 | 0;\n  out[oi++] = y12 + x12 | 0;\n  out[oi++] = y13 + x13 | 0;\n  out[oi++] = y14 + x14 | 0;\n  out[oi++] = y15 + x15 | 0;\n}\n/**\n * hchacha helper method, used primarily in xchacha, to hash\n * key and nonce into key' and nonce'.\n * Same as chachaCore, but there doesn't seem to be a way to move the block\n * out without 25% performance hit.\n */\n// prettier-ignore\nexport function hchacha(c, key, src, out) {\n  var k32 = u32(key);\n  var i32 = u32(src);\n  var o32 = u32(out);\n  var x00 = c[0],\n    x01 = c[1],\n    x02 = c[2],\n    x03 = c[3];\n  var x04 = k32[0],\n    x05 = k32[1],\n    x06 = k32[2],\n    x07 = k32[3];\n  var x08 = k32[4],\n    x09 = k32[5],\n    x10 = k32[6],\n    x11 = k32[7];\n  var x12 = i32[0],\n    x13 = i32[1],\n    x14 = i32[2],\n    x15 = i32[3];\n  for (var i = 0; i < 20; i += 2) {\n    x00 = x00 + x04 | 0;\n    x12 = rotl(x12 ^ x00, 16);\n    x08 = x08 + x12 | 0;\n    x04 = rotl(x04 ^ x08, 12);\n    x00 = x00 + x04 | 0;\n    x12 = rotl(x12 ^ x00, 8);\n    x08 = x08 + x12 | 0;\n    x04 = rotl(x04 ^ x08, 7);\n    x01 = x01 + x05 | 0;\n    x13 = rotl(x13 ^ x01, 16);\n    x09 = x09 + x13 | 0;\n    x05 = rotl(x05 ^ x09, 12);\n    x01 = x01 + x05 | 0;\n    x13 = rotl(x13 ^ x01, 8);\n    x09 = x09 + x13 | 0;\n    x05 = rotl(x05 ^ x09, 7);\n    x02 = x02 + x06 | 0;\n    x14 = rotl(x14 ^ x02, 16);\n    x10 = x10 + x14 | 0;\n    x06 = rotl(x06 ^ x10, 12);\n    x02 = x02 + x06 | 0;\n    x14 = rotl(x14 ^ x02, 8);\n    x10 = x10 + x14 | 0;\n    x06 = rotl(x06 ^ x10, 7);\n    x03 = x03 + x07 | 0;\n    x15 = rotl(x15 ^ x03, 16);\n    x11 = x11 + x15 | 0;\n    x07 = rotl(x07 ^ x11, 12);\n    x03 = x03 + x07 | 0;\n    x15 = rotl(x15 ^ x03, 8);\n    x11 = x11 + x15 | 0;\n    x07 = rotl(x07 ^ x11, 7);\n    x00 = x00 + x05 | 0;\n    x15 = rotl(x15 ^ x00, 16);\n    x10 = x10 + x15 | 0;\n    x05 = rotl(x05 ^ x10, 12);\n    x00 = x00 + x05 | 0;\n    x15 = rotl(x15 ^ x00, 8);\n    x10 = x10 + x15 | 0;\n    x05 = rotl(x05 ^ x10, 7);\n    x01 = x01 + x06 | 0;\n    x12 = rotl(x12 ^ x01, 16);\n    x11 = x11 + x12 | 0;\n    x06 = rotl(x06 ^ x11, 12);\n    x01 = x01 + x06 | 0;\n    x12 = rotl(x12 ^ x01, 8);\n    x11 = x11 + x12 | 0;\n    x06 = rotl(x06 ^ x11, 7);\n    x02 = x02 + x07 | 0;\n    x13 = rotl(x13 ^ x02, 16);\n    x08 = x08 + x13 | 0;\n    x07 = rotl(x07 ^ x08, 12);\n    x02 = x02 + x07 | 0;\n    x13 = rotl(x13 ^ x02, 8);\n    x08 = x08 + x13 | 0;\n    x07 = rotl(x07 ^ x08, 7);\n    x03 = x03 + x04 | 0;\n    x14 = rotl(x14 ^ x03, 16);\n    x09 = x09 + x14 | 0;\n    x04 = rotl(x04 ^ x09, 12);\n    x03 = x03 + x04 | 0;\n    x14 = rotl(x14 ^ x03, 8);\n    x09 = x09 + x14 | 0;\n    x04 = rotl(x04 ^ x09, 7);\n  }\n  o32[0] = x00;\n  o32[1] = x01;\n  o32[2] = x02;\n  o32[3] = x03;\n  o32[4] = x12;\n  o32[5] = x13;\n  o32[6] = x14;\n  o32[7] = x15;\n  return out;\n}\n/**\n * Original, non-RFC chacha20 from DJB. 8-byte nonce, 8-byte counter.\n */\nexport var chacha20orig = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 8\n});\n/**\n * ChaCha stream cipher. Conforms to RFC 8439 (IETF, TLS). 12-byte nonce, 4-byte counter.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport var chacha20 = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 4,\n  allow128bitKeys: false\n});\n/**\n * XChaCha eXtended-nonce ChaCha. 24-byte nonce.\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n */\nexport var xchacha20 = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 8,\n  extendNonceFn: hchacha,\n  allow128bitKeys: false\n});\n/**\n * Reduced 8-round chacha, described in original paper.\n */\nexport var chacha8 = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 4,\n  rounds: 8\n});\n/**\n * Reduced 12-round chacha, described in original paper.\n */\nexport var chacha12 = /* @__PURE__ */salsaBasic({\n  core: chachaCore,\n  counterRight: false,\n  counterLen: 4,\n  rounds: 12\n});\nvar ZERO = /* @__PURE__ */new Uint8Array(16);\n// Pad to digest size with zeros\nvar updatePadded = function updatePadded(h, msg) {\n  h.update(msg);\n  var left = msg.length % 16;\n  if (left) h.update(ZERO.subarray(left));\n};\nvar computeTag = function computeTag(fn, key, nonce, data, AAD) {\n  var authKey = fn(key, nonce, new Uint8Array(32));\n  var h = poly1305.create(authKey);\n  if (AAD) updatePadded(h, AAD);\n  updatePadded(h, data);\n  var num = new Uint8Array(16);\n  var view = createView(num);\n  setBigUint64(view, 0, BigInt(AAD ? AAD.length : 0), true);\n  setBigUint64(view, 8, BigInt(data.length), true);\n  h.update(num);\n  var res = h.digest();\n  authKey.fill(0);\n  return res;\n};\n/**\n * AEAD algorithm from RFC 8439.\n * Salsa20 and chacha (RFC 8439) use poly1305 differently.\n * We could have composed them similar to:\n * https://github.com/paulmillr/scure-base/blob/b266c73dde977b1dd7ef40ef7a23cc15aab526b3/index.ts#L250\n * But it's hard because of authKey:\n * In salsa20, authKey changes position in salsa stream.\n * In chacha, authKey can't be computed inside computeTag, it modifies the counter.\n */\nexport var _poly1305_aead = function _poly1305_aead(xorStream) {\n  return function (key, nonce, AAD) {\n    var tagLength = 16;\n    ensureBytes(key, 32);\n    ensureBytes(nonce);\n    return {\n      tagLength: tagLength,\n      encrypt: function encrypt(plaintext, output) {\n        var plength = plaintext.length;\n        var clength = plength + tagLength;\n        if (output) {\n          ensureBytes(output, clength);\n        } else {\n          output = new Uint8Array(clength);\n        }\n        xorStream(key, nonce, plaintext, output, 1);\n        var tag = computeTag(xorStream, key, nonce, output.subarray(0, -tagLength), AAD);\n        output.set(tag, plength); // append tag\n        return output;\n      },\n      decrypt: function decrypt(ciphertext, output) {\n        var clength = ciphertext.length;\n        var plength = clength - tagLength;\n        if (clength < tagLength) throw new Error(\"encrypted data must be at least \".concat(tagLength, \" bytes\"));\n        if (output) {\n          ensureBytes(output, plength);\n        } else {\n          output = new Uint8Array(plength);\n        }\n        var data = ciphertext.subarray(0, -tagLength);\n        var passedTag = ciphertext.subarray(-tagLength);\n        var tag = computeTag(xorStream, key, nonce, data, AAD);\n        if (!equalBytes(passedTag, tag)) throw new Error('invalid tag');\n        xorStream(key, nonce, data, output, 1);\n        return output;\n      }\n    };\n  };\n};\n/**\n * ChaCha20-Poly1305 from RFC 8439.\n * With 12-byte nonce, it's not safe to use fill it with random (CSPRNG), due to collision chance.\n */\nexport var chacha20poly1305 = /* @__PURE__ */_poly1305_aead(chacha20);\n/**\n * XChaCha20-Poly1305 extended-nonce chacha.\n * https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\n * With 24-byte nonce, it's safe to use fill it with random (CSPRNG).\n */\nexport var xchacha20poly1305 = /* @__PURE__ */_poly1305_aead(xchacha20);","import assert from './_assert.js';\nimport { toBytes } from './utils.js';\nimport { hmac } from './hmac.js';\n// HKDF (RFC 5869)\n// https://soatok.blog/2021/11/17/understanding-hkdf/\n/**\n * HKDF-Extract(IKM, salt) -> PRK\n * Arguments position differs from spec (IKM is first one, since it is not optional)\n * @param hash\n * @param ikm\n * @param salt\n * @returns\n */\nexport function extract(hash, ikm, salt) {\n  assert.hash(hash);\n  // NOTE: some libraries treat zero-length array as 'not provided';\n  // we don't, since we have undefined as 'not provided'\n  // https://github.com/RustCrypto/KDFs/issues/15\n  if (salt === undefined) salt = new Uint8Array(hash.outputLen); // if not provided, it is set to a string of HashLen zeros\n  return hmac(hash, toBytes(salt), toBytes(ikm));\n}\n// HKDF-Expand(PRK, info, L) -> OKM\nvar HKDF_COUNTER = new Uint8Array([0]);\nvar EMPTY_BUFFER = new Uint8Array();\n/**\n * HKDF-expand from the spec.\n * @param prk - a pseudorandom key of at least HashLen octets (usually, the output from the extract step)\n * @param info - optional context and application specific information (can be a zero-length string)\n * @param length - length of output keying material in octets\n */\nexport function expand(hash, prk, info) {\n  var length = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 32;\n  assert.hash(hash);\n  assert.number(length);\n  if (length > 255 * hash.outputLen) throw new Error('Length should be <= 255*HashLen');\n  var blocks = Math.ceil(length / hash.outputLen);\n  if (info === undefined) info = EMPTY_BUFFER;\n  // first L(ength) octets of T\n  var okm = new Uint8Array(blocks * hash.outputLen);\n  // Re-use HMAC instance between blocks\n  var HMAC = hmac.create(hash, prk);\n  var HMACTmp = HMAC._cloneInto();\n  var T = new Uint8Array(HMAC.outputLen);\n  for (var counter = 0; counter < blocks; counter++) {\n    HKDF_COUNTER[0] = counter + 1;\n    // T(0) = empty string (zero length)\n    // T(N) = HMAC-Hash(PRK, T(N-1) | info | N)\n    HMACTmp.update(counter === 0 ? EMPTY_BUFFER : T).update(info).update(HKDF_COUNTER).digestInto(T);\n    okm.set(T, hash.outputLen * counter);\n    HMAC._cloneInto(HMACTmp);\n  }\n  HMAC.destroy();\n  HMACTmp.destroy();\n  T.fill(0);\n  HKDF_COUNTER.fill(0);\n  return okm.slice(0, length);\n}\n/**\n * HKDF (RFC 5869): extract + expand in one step.\n * @param hash - hash function that would be used (e.g. sha256)\n * @param ikm - input keying material, the initial key\n * @param salt - optional salt value (a non-secret random value)\n * @param info - optional context and application specific information\n * @param length - length of output keying material in octets\n */\nexport var hkdf = function hkdf(hash, ikm, salt, info, length) {\n  return expand(hash, extract(hash, ikm, salt), info, length);\n};","import _asyncToGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _awaitAsyncGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _wrapAsyncGenerator from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(_matchAll);\nimport \"core-js/modules/esnext.string.match-all.js\";\nimport \"core-js/modules/esnext.string.replace-all.js\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport _regeneratorRuntime from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/regenerator/index.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar __defProp = Object.defineProperty;\nvar __export = function __export(target, all) {\n  for (var name in all) {\n    __defProp(target, name, {\n      get: all[name],\n      enumerable: true\n    });\n  }\n};\n\n// keys.ts\nimport { schnorr } from \"@noble/curves/secp256k1\";\nimport { bytesToHex } from \"@noble/hashes/utils\";\nfunction generatePrivateKey() {\n  return bytesToHex(schnorr.utils.randomPrivateKey());\n}\nfunction getPublicKey(privateKey) {\n  return bytesToHex(schnorr.getPublicKey(privateKey));\n}\n\n// event.ts\nimport { schnorr as schnorr2 } from \"@noble/curves/secp256k1\";\nimport { sha256 } from \"@noble/hashes/sha256\";\nimport { bytesToHex as bytesToHex2 } from \"@noble/hashes/utils\";\n\n// utils.ts\nvar utils_exports = {};\n__export(utils_exports, {\n  MessageNode: function MessageNode() {\n    return _MessageNode;\n  },\n  MessageQueue: function MessageQueue() {\n    return _MessageQueue;\n  },\n  insertEventIntoAscendingList: function insertEventIntoAscendingList() {\n    return _insertEventIntoAscendingList;\n  },\n  insertEventIntoDescendingList: function insertEventIntoDescendingList() {\n    return _insertEventIntoDescendingList;\n  },\n  normalizeURL: function normalizeURL() {\n    return _normalizeURL;\n  },\n  utf8Decoder: function utf8Decoder() {\n    return _utf8Decoder;\n  },\n  utf8Encoder: function utf8Encoder() {\n    return _utf8Encoder;\n  }\n});\nvar _utf8Decoder = new TextDecoder(\"utf-8\");\nvar _utf8Encoder = new TextEncoder();\nfunction _normalizeURL(url) {\n  var p = new URL(url);\n  p.pathname = p.pathname.replace(/\\/+/g, \"/\");\n  if (p.pathname.endsWith(\"/\")) p.pathname = p.pathname.slice(0, -1);\n  if (p.port === \"80\" && p.protocol === \"ws:\" || p.port === \"443\" && p.protocol === \"wss:\") p.port = \"\";\n  p.searchParams.sort();\n  p.hash = \"\";\n  return p.toString();\n}\nfunction _insertEventIntoDescendingList(sortedArray, event) {\n  var _sortedArray$position;\n  var start = 0;\n  var end = sortedArray.length - 1;\n  var midPoint;\n  var position = start;\n  if (end < 0) {\n    position = 0;\n  } else if (event.created_at < sortedArray[end].created_at) {\n    position = end + 1;\n  } else if (event.created_at >= sortedArray[start].created_at) {\n    position = start;\n  } else while (true) {\n    if (end <= start + 1) {\n      position = end;\n      break;\n    }\n    midPoint = Math.floor(start + (end - start) / 2);\n    if (sortedArray[midPoint].created_at > event.created_at) {\n      start = midPoint;\n    } else if (sortedArray[midPoint].created_at < event.created_at) {\n      end = midPoint;\n    } else {\n      position = midPoint;\n      break;\n    }\n  }\n  if (((_sortedArray$position = sortedArray[position]) === null || _sortedArray$position === void 0 ? void 0 : _sortedArray$position.id) !== event.id) {\n    return [].concat(_toConsumableArray(sortedArray.slice(0, position)), [event], _toConsumableArray(sortedArray.slice(position)));\n  }\n  return sortedArray;\n}\nfunction _insertEventIntoAscendingList(sortedArray, event) {\n  var _sortedArray$position2;\n  var start = 0;\n  var end = sortedArray.length - 1;\n  var midPoint;\n  var position = start;\n  if (end < 0) {\n    position = 0;\n  } else if (event.created_at > sortedArray[end].created_at) {\n    position = end + 1;\n  } else if (event.created_at <= sortedArray[start].created_at) {\n    position = start;\n  } else while (true) {\n    if (end <= start + 1) {\n      position = end;\n      break;\n    }\n    midPoint = Math.floor(start + (end - start) / 2);\n    if (sortedArray[midPoint].created_at < event.created_at) {\n      start = midPoint;\n    } else if (sortedArray[midPoint].created_at > event.created_at) {\n      end = midPoint;\n    } else {\n      position = midPoint;\n      break;\n    }\n  }\n  if (((_sortedArray$position2 = sortedArray[position]) === null || _sortedArray$position2 === void 0 ? void 0 : _sortedArray$position2.id) !== event.id) {\n    return [].concat(_toConsumableArray(sortedArray.slice(0, position)), [event], _toConsumableArray(sortedArray.slice(position)));\n  }\n  return sortedArray;\n}\nvar _MessageNode = /*#__PURE__*/function () {\n  function _MessageNode(message) {\n    _classCallCheck(this, _MessageNode);\n    _defineProperty(this, \"_value\", void 0);\n    _defineProperty(this, \"_next\", void 0);\n    this._value = message;\n    this._next = null;\n  }\n  _createClass(_MessageNode, [{\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(message) {\n      this._value = message;\n    }\n  }, {\n    key: \"next\",\n    get: function get() {\n      return this._next;\n    },\n    set: function set(node) {\n      this._next = node;\n    }\n  }]);\n  return _MessageNode;\n}();\nvar _MessageQueue = /*#__PURE__*/function () {\n  function _MessageQueue() {\n    _classCallCheck(this, _MessageQueue);\n    _defineProperty(this, \"_first\", void 0);\n    _defineProperty(this, \"_last\", void 0);\n    _defineProperty(this, \"_size\", void 0);\n    this._first = null;\n    this._last = null;\n    this._size = 0;\n  }\n  _createClass(_MessageQueue, [{\n    key: \"first\",\n    get: function get() {\n      return this._first;\n    },\n    set: function set(messageNode) {\n      this._first = messageNode;\n    }\n  }, {\n    key: \"last\",\n    get: function get() {\n      return this._last;\n    },\n    set: function set(messageNode) {\n      this._last = messageNode;\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this._size;\n    },\n    set: function set(v) {\n      this._size = v;\n    }\n  }, {\n    key: \"enqueue\",\n    value: function enqueue(message) {\n      var newNode = new _MessageNode(message);\n      if (this._size === 0 || !this._last) {\n        this._first = newNode;\n        this._last = newNode;\n      } else {\n        this._last.next = newNode;\n        this._last = newNode;\n      }\n      this._size++;\n      return true;\n    }\n  }, {\n    key: \"dequeue\",\n    value: function dequeue() {\n      if (this._size === 0 || !this._first) return null;\n      var prev = this._first;\n      this._first = prev.next;\n      prev.next = null;\n      this._size--;\n      return prev.value;\n    }\n  }]);\n  return _MessageQueue;\n}();\n\n// event.ts\nvar verifiedSymbol = Symbol(\"verified\");\nvar Kind = /* @__PURE__ */function (Kind3) {\n  Kind3[Kind3[\"Metadata\"] = 0] = \"Metadata\";\n  Kind3[Kind3[\"Text\"] = 1] = \"Text\";\n  Kind3[Kind3[\"RecommendRelay\"] = 2] = \"RecommendRelay\";\n  Kind3[Kind3[\"Contacts\"] = 3] = \"Contacts\";\n  Kind3[Kind3[\"EncryptedDirectMessage\"] = 4] = \"EncryptedDirectMessage\";\n  Kind3[Kind3[\"EventDeletion\"] = 5] = \"EventDeletion\";\n  Kind3[Kind3[\"Repost\"] = 6] = \"Repost\";\n  Kind3[Kind3[\"Reaction\"] = 7] = \"Reaction\";\n  Kind3[Kind3[\"BadgeAward\"] = 8] = \"BadgeAward\";\n  Kind3[Kind3[\"ChannelCreation\"] = 40] = \"ChannelCreation\";\n  Kind3[Kind3[\"ChannelMetadata\"] = 41] = \"ChannelMetadata\";\n  Kind3[Kind3[\"ChannelMessage\"] = 42] = \"ChannelMessage\";\n  Kind3[Kind3[\"ChannelHideMessage\"] = 43] = \"ChannelHideMessage\";\n  Kind3[Kind3[\"ChannelMuteUser\"] = 44] = \"ChannelMuteUser\";\n  Kind3[Kind3[\"Blank\"] = 255] = \"Blank\";\n  Kind3[Kind3[\"Report\"] = 1984] = \"Report\";\n  Kind3[Kind3[\"ZapRequest\"] = 9734] = \"ZapRequest\";\n  Kind3[Kind3[\"Zap\"] = 9735] = \"Zap\";\n  Kind3[Kind3[\"RelayList\"] = 10002] = \"RelayList\";\n  Kind3[Kind3[\"ClientAuth\"] = 22242] = \"ClientAuth\";\n  Kind3[Kind3[\"NwcRequest\"] = 23194] = \"NwcRequest\";\n  Kind3[Kind3[\"HttpAuth\"] = 27235] = \"HttpAuth\";\n  Kind3[Kind3[\"ProfileBadge\"] = 30008] = \"ProfileBadge\";\n  Kind3[Kind3[\"BadgeDefinition\"] = 30009] = \"BadgeDefinition\";\n  Kind3[Kind3[\"Article\"] = 30023] = \"Article\";\n  Kind3[Kind3[\"FileMetadata\"] = 1063] = \"FileMetadata\";\n  return Kind3;\n}(Kind || {});\nfunction getBlankEvent() {\n  var kind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 255;\n  return {\n    kind: kind,\n    content: \"\",\n    tags: [],\n    created_at: 0\n  };\n}\nfunction finishEvent(t, privateKey) {\n  var event = t;\n  event.pubkey = getPublicKey(privateKey);\n  event.id = getEventHash(event);\n  event.sig = getSignature(event, privateKey);\n  event[verifiedSymbol] = true;\n  return event;\n}\nfunction serializeEvent(evt) {\n  if (!validateEvent(evt)) throw new Error(\"can't serialize event with wrong or missing properties\");\n  return JSON.stringify([0, evt.pubkey, evt.created_at, evt.kind, evt.tags, evt.content]);\n}\nfunction getEventHash(event) {\n  var eventHash = sha256(_utf8Encoder.encode(serializeEvent(event)));\n  return bytesToHex2(eventHash);\n}\nvar isRecord = function isRecord(obj) {\n  return obj instanceof Object;\n};\nfunction validateEvent(event) {\n  if (!isRecord(event)) return false;\n  if (typeof event.kind !== \"number\") return false;\n  if (typeof event.content !== \"string\") return false;\n  if (typeof event.created_at !== \"number\") return false;\n  if (typeof event.pubkey !== \"string\") return false;\n  if (!event.pubkey.match(/^[a-f0-9]{64}$/)) return false;\n  if (!Array.isArray(event.tags)) return false;\n  for (var i = 0; i < event.tags.length; i++) {\n    var tag = event.tags[i];\n    if (!Array.isArray(tag)) return false;\n    for (var j = 0; j < tag.length; j++) {\n      if (typeof tag[j] === \"object\") return false;\n    }\n  }\n  return true;\n}\nfunction verifySignature(event) {\n  if (typeof event[verifiedSymbol] === \"boolean\") return event[verifiedSymbol];\n  var hash = getEventHash(event);\n  if (hash !== event.id) {\n    return event[verifiedSymbol] = false;\n  }\n  try {\n    return event[verifiedSymbol] = schnorr2.verify(event.sig, hash, event.pubkey);\n  } catch (err) {\n    return event[verifiedSymbol] = false;\n  }\n}\nfunction signEvent(event, key) {\n  console.warn(\"nostr-tools: `signEvent` is deprecated and will be removed or changed in the future. Please use `getSignature` instead.\");\n  return getSignature(event, key);\n}\nfunction getSignature(event, key) {\n  return bytesToHex2(schnorr2.sign(getEventHash(event), key));\n}\n\n// filter.ts\nfunction matchFilter(filter, event) {\n  if (filter.ids && filter.ids.indexOf(event.id) === -1) {\n    if (!filter.ids.some(function (prefix) {\n      return event.id.startsWith(prefix);\n    })) {\n      return false;\n    }\n  }\n  if (filter.kinds && filter.kinds.indexOf(event.kind) === -1) return false;\n  if (filter.authors && filter.authors.indexOf(event.pubkey) === -1) {\n    if (!filter.authors.some(function (prefix) {\n      return event.pubkey.startsWith(prefix);\n    })) {\n      return false;\n    }\n  }\n  var _loop = function _loop(f) {\n    if (f[0] === \"#\") {\n      var tagName = f.slice(1);\n      var values = filter[\"#\".concat(tagName)];\n      if (values && !event.tags.find(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n          t = _ref2[0],\n          v = _ref2[1];\n        return t === f.slice(1) && values.indexOf(v) !== -1;\n      })) return {\n        v: false\n      };\n    }\n  };\n  for (var f in filter) {\n    var _ret = _loop(f);\n    if (typeof _ret === \"object\") return _ret.v;\n  }\n  if (filter.since && event.created_at < filter.since) return false;\n  if (filter.until && event.created_at > filter.until) return false;\n  return true;\n}\nfunction matchFilters(filters, event) {\n  for (var i = 0; i < filters.length; i++) {\n    if (matchFilter(filters[i], event)) return true;\n  }\n  return false;\n}\nfunction mergeFilters() {\n  var result = {};\n  for (var i = 0; i < arguments.length; i++) {\n    var filter = i < 0 || arguments.length <= i ? undefined : arguments[i];\n    Object.entries(filter).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        property = _ref4[0],\n        values = _ref4[1];\n      if (property === \"kinds\" || property === \"ids\" || property === \"authors\" || property[0] === \"#\") {\n        result[property] = result[property] || [];\n        for (var v = 0; v < values.length; v++) {\n          var value = values[v];\n          if (!result[property].includes(value)) result[property].push(value);\n        }\n      }\n    });\n    if (filter.limit && (!result.limit || filter.limit > result.limit)) result.limit = filter.limit;\n    if (filter.until && (!result.until || filter.until > result.until)) result.until = filter.until;\n    if (filter.since && (!result.since || filter.since < result.since)) result.since = filter.since;\n  }\n  return result;\n}\n\n// fakejson.ts\nvar fakejson_exports = {};\n__export(fakejson_exports, {\n  getHex64: function getHex64() {\n    return _getHex;\n  },\n  getInt: function getInt() {\n    return _getInt;\n  },\n  getSubscriptionId: function getSubscriptionId() {\n    return _getSubscriptionId;\n  },\n  matchEventId: function matchEventId() {\n    return _matchEventId;\n  },\n  matchEventKind: function matchEventKind() {\n    return _matchEventKind;\n  },\n  matchEventPubkey: function matchEventPubkey() {\n    return _matchEventPubkey;\n  }\n});\nfunction _getHex(json, field) {\n  var len = field.length + 3;\n  var idx = json.indexOf(\"\\\"\".concat(field, \"\\\":\")) + len;\n  var s = json.slice(idx).indexOf(\"\\\"\") + idx + 1;\n  return json.slice(s, s + 64);\n}\nfunction _getInt(json, field) {\n  var len = field.length;\n  var idx = json.indexOf(\"\\\"\".concat(field, \"\\\":\")) + len + 3;\n  var sliced = json.slice(idx);\n  var end = Math.min(sliced.indexOf(\",\"), sliced.indexOf(\"}\"));\n  return parseInt(sliced.slice(0, end), 10);\n}\nfunction _getSubscriptionId(json) {\n  var idx = json.slice(0, 22).indexOf(\"\\\"EVENT\\\"\");\n  if (idx === -1) return null;\n  var pstart = json.slice(idx + 7 + 1).indexOf(\"\\\"\");\n  if (pstart === -1) return null;\n  var start = idx + 7 + 1 + pstart;\n  var pend = json.slice(start + 1, 80).indexOf(\"\\\"\");\n  if (pend === -1) return null;\n  var end = start + 1 + pend;\n  return json.slice(start + 1, end);\n}\nfunction _matchEventId(json, id) {\n  return id === _getHex(json, \"id\");\n}\nfunction _matchEventPubkey(json, pubkey) {\n  return pubkey === _getHex(json, \"pubkey\");\n}\nfunction _matchEventKind(json, kind) {\n  return kind === _getInt(json, \"kind\");\n}\n\n// relay.ts\nvar newListeners = function newListeners() {\n  return {\n    connect: [],\n    disconnect: [],\n    error: [],\n    notice: [],\n    auth: []\n  };\n};\nfunction relayInit(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$listTimeout = options.listTimeout,\n    listTimeout = _options$listTimeout === void 0 ? 3e3 : _options$listTimeout,\n    _options$getTimeout = options.getTimeout,\n    getTimeout = _options$getTimeout === void 0 ? 3e3 : _options$getTimeout,\n    _options$countTimeout = options.countTimeout,\n    countTimeout = _options$countTimeout === void 0 ? 3e3 : _options$countTimeout;\n  var ws;\n  var openSubs = {};\n  var listeners = newListeners();\n  var subListeners = {};\n  var pubListeners = {};\n  var connectionPromise;\n  function connectRelay() {\n    return _connectRelay.apply(this, arguments);\n  }\n  function _connectRelay() {\n    _connectRelay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!connectionPromise) {\n                _context4.next = 2;\n                break;\n              }\n              return _context4.abrupt(\"return\", connectionPromise);\n            case 2:\n              connectionPromise = new Promise(function (resolve, reject) {\n                try {\n                  ws = new WebSocket(url);\n                } catch (err) {\n                  reject(err);\n                }\n                ws.onopen = function () {\n                  listeners.connect.forEach(function (cb) {\n                    return cb();\n                  });\n                  resolve();\n                };\n                ws.onerror = function () {\n                  connectionPromise = void 0;\n                  listeners.error.forEach(function (cb) {\n                    return cb();\n                  });\n                  reject();\n                };\n                ws.onclose = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          connectionPromise = void 0;\n                          listeners.disconnect.forEach(function (cb) {\n                            return cb();\n                          });\n                        case 2:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                }));\n                var incomingMessageQueue = new _MessageQueue();\n                var handleNextInterval;\n                ws.onmessage = function (e) {\n                  incomingMessageQueue.enqueue(e.data);\n                  if (!handleNextInterval) {\n                    handleNextInterval = setInterval(handleNext, 0);\n                  }\n                };\n                function handleNext() {\n                  if (incomingMessageQueue.size === 0) {\n                    clearInterval(handleNextInterval);\n                    handleNextInterval = null;\n                    return;\n                  }\n                  var json = incomingMessageQueue.dequeue();\n                  if (!json) return;\n                  var subid = _getSubscriptionId(json);\n                  if (subid) {\n                    var so = openSubs[subid];\n                    if (so && so.alreadyHaveEvent && so.alreadyHaveEvent(_getHex(json, \"id\"), url)) {\n                      return;\n                    }\n                  }\n                  try {\n                    var data = JSON.parse(json);\n                    switch (data[0]) {\n                      case \"EVENT\":\n                        {\n                          var id2 = data[1];\n                          var event = data[2];\n                          if (validateEvent(event) && openSubs[id2] && (openSubs[id2].skipVerification || verifySignature(event)) && matchFilters(openSubs[id2].filters, event)) {\n                            var _subListeners$id;\n                            openSubs[id2];\n                            (((_subListeners$id = subListeners[id2]) === null || _subListeners$id === void 0 ? void 0 : _subListeners$id.event) || []).forEach(function (cb) {\n                              return cb(event);\n                            });\n                          }\n                          return;\n                        }\n                      case \"COUNT\":\n                        var id = data[1];\n                        var payload = data[2];\n                        if (openSubs[id]) {\n                          var _subListeners$id2;\n                          ;\n                          (((_subListeners$id2 = subListeners[id]) === null || _subListeners$id2 === void 0 ? void 0 : _subListeners$id2.count) || []).forEach(function (cb) {\n                            return cb(payload);\n                          });\n                        }\n                        return;\n                      case \"EOSE\":\n                        {\n                          var _id = data[1];\n                          if (_id in subListeners) {\n                            subListeners[_id].eose.forEach(function (cb) {\n                              return cb();\n                            });\n                            subListeners[_id].eose = [];\n                          }\n                          return;\n                        }\n                      case \"OK\":\n                        {\n                          var _id2 = data[1];\n                          var ok = data[2];\n                          var reason = data[3] || \"\";\n                          if (_id2 in pubListeners) {\n                            var _pubListeners$_id = pubListeners[_id2],\n                              resolve2 = _pubListeners$_id.resolve,\n                              reject2 = _pubListeners$_id.reject;\n                            if (ok) resolve2(null);else reject2(new Error(reason));\n                          }\n                          return;\n                        }\n                      case \"NOTICE\":\n                        var notice = data[1];\n                        listeners.notice.forEach(function (cb) {\n                          return cb(notice);\n                        });\n                        return;\n                      case \"AUTH\":\n                        {\n                          var _listeners$auth;\n                          var challenge = data[1];\n                          (_listeners$auth = listeners.auth) === null || _listeners$auth === void 0 ? void 0 : _listeners$auth.forEach(function (cb) {\n                            return cb(challenge);\n                          });\n                          return;\n                        }\n                    }\n                  } catch (err) {\n                    return;\n                  }\n                }\n              });\n              return _context4.abrupt(\"return\", connectionPromise);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _connectRelay.apply(this, arguments);\n  }\n  function connected() {\n    var _ws;\n    return ((_ws = ws) === null || _ws === void 0 ? void 0 : _ws.readyState) === 1;\n  }\n  function connect() {\n    return _connect.apply(this, arguments);\n  }\n  function _connect() {\n    _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (!connected()) {\n                _context5.next = 2;\n                break;\n              }\n              return _context5.abrupt(\"return\");\n            case 2:\n              _context5.next = 4;\n              return connectRelay();\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _connect.apply(this, arguments);\n  }\n  function trySend(_x2) {\n    return _trySend.apply(this, arguments);\n  }\n  function _trySend() {\n    _trySend = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(params) {\n      var msg;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              msg = JSON.stringify(params);\n              if (connected()) {\n                _context6.next = 6;\n                break;\n              }\n              _context6.next = 4;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 1e3);\n              });\n            case 4:\n              if (connected()) {\n                _context6.next = 6;\n                break;\n              }\n              return _context6.abrupt(\"return\");\n            case 6:\n              try {\n                ws.send(msg);\n              } catch (err) {\n                console.log(err);\n              }\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _trySend.apply(this, arguments);\n  }\n  var _sub = function _sub(filters) {\n    var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref5$verb = _ref5.verb,\n      verb = _ref5$verb === void 0 ? \"REQ\" : _ref5$verb,\n      _ref5$skipVerificatio = _ref5.skipVerification,\n      skipVerification = _ref5$skipVerificatio === void 0 ? false : _ref5$skipVerificatio,\n      _ref5$alreadyHaveEven = _ref5.alreadyHaveEvent,\n      alreadyHaveEvent = _ref5$alreadyHaveEven === void 0 ? null : _ref5$alreadyHaveEven,\n      _ref5$id = _ref5.id,\n      id = _ref5$id === void 0 ? Math.random().toString().slice(2) : _ref5$id;\n    var subid = id;\n    openSubs[subid] = {\n      id: subid,\n      filters: filters,\n      skipVerification: skipVerification,\n      alreadyHaveEvent: alreadyHaveEvent\n    };\n    trySend([verb, subid].concat(_toConsumableArray(filters)));\n    var subscription = {\n      sub: function sub(newFilters) {\n        var newOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return _sub(newFilters || filters, {\n          skipVerification: newOpts.skipVerification || skipVerification,\n          alreadyHaveEvent: newOpts.alreadyHaveEvent || alreadyHaveEvent,\n          id: subid\n        });\n      },\n      unsub: function unsub() {\n        delete openSubs[subid];\n        delete subListeners[subid];\n        trySend([\"CLOSE\", subid]);\n      },\n      on: function on(type, cb) {\n        subListeners[subid] = subListeners[subid] || {\n          event: [],\n          count: [],\n          eose: []\n        };\n        subListeners[subid][type].push(cb);\n      },\n      off: function off(type, cb) {\n        var listeners2 = subListeners[subid];\n        var idx = listeners2[type].indexOf(cb);\n        if (idx >= 0) listeners2[type].splice(idx, 1);\n      },\n      get events() {\n        return eventsGenerator(subscription);\n      }\n    };\n    return subscription;\n  };\n  function _publishEvent(event, type) {\n    return new Promise(function (resolve, reject) {\n      if (!event.id) {\n        reject(new Error(\"event \".concat(event, \" has no id\")));\n        return;\n      }\n      var id = event.id;\n      trySend([type, event]);\n      pubListeners[id] = {\n        resolve: resolve,\n        reject: reject\n      };\n    });\n  }\n  return {\n    url: url,\n    sub: _sub,\n    on: function on(type, cb) {\n      var _ws2;\n      listeners[type].push(cb);\n      if (type === \"connect\" && ((_ws2 = ws) === null || _ws2 === void 0 ? void 0 : _ws2.readyState) === 1) {\n        ;\n        cb();\n      }\n    },\n    off: function off(type, cb) {\n      var index = listeners[type].indexOf(cb);\n      if (index !== -1) listeners[type].splice(index, 1);\n    },\n    list: function list(filters, opts) {\n      return new Promise(function (resolve) {\n        var s = _sub(filters, opts);\n        var events = [];\n        var timeout = setTimeout(function () {\n          s.unsub();\n          resolve(events);\n        }, listTimeout);\n        s.on(\"eose\", function () {\n          s.unsub();\n          clearTimeout(timeout);\n          resolve(events);\n        });\n        s.on(\"event\", function (event) {\n          events.push(event);\n        });\n      });\n    },\n    get: function get(filter, opts) {\n      return new Promise(function (resolve) {\n        var s = _sub([filter], opts);\n        var timeout = setTimeout(function () {\n          s.unsub();\n          resolve(null);\n        }, getTimeout);\n        s.on(\"event\", function (event) {\n          s.unsub();\n          clearTimeout(timeout);\n          resolve(event);\n        });\n      });\n    },\n    count: function count(filters) {\n      return new Promise(function (resolve) {\n        var s = _sub(filters, _objectSpread(_objectSpread({}, _sub), {}, {\n          verb: \"COUNT\"\n        }));\n        var timeout = setTimeout(function () {\n          s.unsub();\n          resolve(null);\n        }, countTimeout);\n        s.on(\"count\", function (event) {\n          s.unsub();\n          clearTimeout(timeout);\n          resolve(event);\n        });\n      });\n    },\n    publish: function publish(event) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _publishEvent(event, \"EVENT\");\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    auth: function auth(event) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _publishEvent(event, \"AUTH\");\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    connect: connect,\n    close: function close() {\n      var _ws3;\n      listeners = newListeners();\n      subListeners = {};\n      pubListeners = {};\n      if (((_ws3 = ws) === null || _ws3 === void 0 ? void 0 : _ws3.readyState) === WebSocket.OPEN) {\n        ws.close();\n      }\n    },\n    get status() {\n      var _ws$readyState, _ws4;\n      return (_ws$readyState = (_ws4 = ws) === null || _ws4 === void 0 ? void 0 : _ws4.readyState) !== null && _ws$readyState !== void 0 ? _ws$readyState : 3;\n    }\n  };\n}\nfunction eventsGenerator(_x) {\n  return _eventsGenerator.apply(this, arguments);\n} // pool.ts\nfunction _eventsGenerator() {\n  _eventsGenerator = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(sub) {\n    var nextResolve, eventQueue, pushToQueue, event;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            eventQueue = [];\n            pushToQueue = function pushToQueue(event) {\n              if (nextResolve) {\n                nextResolve(event);\n                nextResolve = void 0;\n              } else {\n                eventQueue.push(event);\n              }\n            };\n            sub.on(\"event\", pushToQueue);\n            _context7.prev = 3;\n          case 4:\n            if (!true) {\n              _context7.next = 17;\n              break;\n            }\n            if (!(eventQueue.length > 0)) {\n              _context7.next = 10;\n              break;\n            }\n            _context7.next = 8;\n            return eventQueue.shift();\n          case 8:\n            _context7.next = 15;\n            break;\n          case 10:\n            _context7.next = 12;\n            return _awaitAsyncGenerator(new Promise(function (resolve) {\n              nextResolve = resolve;\n            }));\n          case 12:\n            event = _context7.sent;\n            _context7.next = 15;\n            return event;\n          case 15:\n            _context7.next = 4;\n            break;\n          case 17:\n            _context7.prev = 17;\n            sub.off(\"event\", pushToQueue);\n            return _context7.finish(17);\n          case 20:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[3,, 17, 20]]);\n  }));\n  return _eventsGenerator.apply(this, arguments);\n}\nvar SimplePool = /*#__PURE__*/function () {\n  function SimplePool() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, SimplePool);\n    _defineProperty(this, \"_conn\", void 0);\n    _defineProperty(this, \"_seenOn\", {});\n    _defineProperty(this, \"batchedByKey\", {});\n    _defineProperty(this, \"eoseSubTimeout\", void 0);\n    _defineProperty(this, \"getTimeout\", void 0);\n    _defineProperty(this, \"seenOnEnabled\", true);\n    _defineProperty(this, \"batchInterval\", 100);\n    this._conn = {};\n    this.eoseSubTimeout = options.eoseSubTimeout || 3400;\n    this.getTimeout = options.getTimeout || 3400;\n    this.seenOnEnabled = options.seenOnEnabled !== false;\n    this.batchInterval = options.batchInterval || 100;\n  }\n  _createClass(SimplePool, [{\n    key: \"close\",\n    value: function close(relays) {\n      var _this = this;\n      relays.forEach(function (url) {\n        var relay = _this._conn[_normalizeURL(url)];\n        if (relay) relay.close();\n      });\n    }\n  }, {\n    key: \"ensureRelay\",\n    value: function () {\n      var _ensureRelay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(url) {\n        var nm, relay;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                nm = _normalizeURL(url);\n                if (!this._conn[nm]) {\n                  this._conn[nm] = relayInit(nm, {\n                    getTimeout: this.getTimeout * 0.9,\n                    listTimeout: this.getTimeout * 0.9\n                  });\n                }\n                relay = this._conn[nm];\n                _context8.next = 5;\n                return relay.connect();\n              case 5:\n                return _context8.abrupt(\"return\", relay);\n              case 6:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n      function ensureRelay(_x3) {\n        return _ensureRelay.apply(this, arguments);\n      }\n      return ensureRelay;\n    }()\n  }, {\n    key: \"sub\",\n    value: function sub(relays, filters, opts) {\n      var _this2 = this;\n      var _knownIds = /* @__PURE__ */new Set();\n      var modifiedOpts = _objectSpread({}, opts || {});\n      modifiedOpts.alreadyHaveEvent = function (id, url) {\n        var _opts$alreadyHaveEven;\n        if (opts !== null && opts !== void 0 && (_opts$alreadyHaveEven = opts.alreadyHaveEvent) !== null && _opts$alreadyHaveEven !== void 0 && _opts$alreadyHaveEven.call(opts, id, url)) {\n          return true;\n        }\n        if (_this2.seenOnEnabled) {\n          var set = _this2._seenOn[id] || /* @__PURE__ */new Set();\n          set.add(url);\n          _this2._seenOn[id] = set;\n        }\n        return _knownIds.has(id);\n      };\n      var subs = [];\n      var eventListeners = /* @__PURE__ */new Set();\n      var eoseListeners = /* @__PURE__ */new Set();\n      var eosesMissing = relays.length;\n      var eoseSent = false;\n      var eoseTimeout = setTimeout(function () {\n        eoseSent = true;\n        var _iterator = _createForOfIteratorHelper(eoseListeners.values()),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var cb = _step.value;\n            cb();\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }, (opts === null || opts === void 0 ? void 0 : opts.eoseSubTimeout) || this.eoseSubTimeout);\n      relays.filter(function (r, i, a) {\n        return a.indexOf(r) === i;\n      }).forEach( /*#__PURE__*/function () {\n        var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(relay) {\n          var r, s, handleEose;\n          return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  handleEose = function _handleEose() {\n                    eosesMissing--;\n                    if (eosesMissing === 0) {\n                      clearTimeout(eoseTimeout);\n                      var _iterator3 = _createForOfIteratorHelper(eoseListeners.values()),\n                        _step3;\n                      try {\n                        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                          var cb = _step3.value;\n                          cb();\n                        }\n                      } catch (err) {\n                        _iterator3.e(err);\n                      } finally {\n                        _iterator3.f();\n                      }\n                    }\n                  };\n                  _context9.prev = 1;\n                  _context9.next = 4;\n                  return _this2.ensureRelay(relay);\n                case 4:\n                  r = _context9.sent;\n                  _context9.next = 11;\n                  break;\n                case 7:\n                  _context9.prev = 7;\n                  _context9.t0 = _context9[\"catch\"](1);\n                  handleEose();\n                  return _context9.abrupt(\"return\");\n                case 11:\n                  if (r) {\n                    _context9.next = 13;\n                    break;\n                  }\n                  return _context9.abrupt(\"return\");\n                case 13:\n                  s = r.sub(filters, modifiedOpts);\n                  s.on(\"event\", function (event) {\n                    _knownIds.add(event.id);\n                    var _iterator2 = _createForOfIteratorHelper(eventListeners.values()),\n                      _step2;\n                    try {\n                      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                        var cb = _step2.value;\n                        cb(event);\n                      }\n                    } catch (err) {\n                      _iterator2.e(err);\n                    } finally {\n                      _iterator2.f();\n                    }\n                  });\n                  s.on(\"eose\", function () {\n                    if (eoseSent) return;\n                    handleEose();\n                  });\n                  subs.push(s);\n                case 17:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee9, null, [[1, 7]]);\n        }));\n        return function (_x4) {\n          return _ref7.apply(this, arguments);\n        };\n      }());\n      var greaterSub = {\n        sub: function sub(filters2, opts2) {\n          subs.forEach(function (sub) {\n            return sub.sub(filters2, opts2);\n          });\n          return greaterSub;\n        },\n        unsub: function unsub() {\n          subs.forEach(function (sub) {\n            return sub.unsub();\n          });\n        },\n        on: function on(type, cb) {\n          if (type === \"event\") {\n            eventListeners.add(cb);\n          } else if (type === \"eose\") {\n            eoseListeners.add(cb);\n          }\n        },\n        off: function off(type, cb) {\n          if (type === \"event\") {\n            eventListeners.delete(cb);\n          } else if (type === \"eose\") eoseListeners.delete(cb);\n        },\n        get events() {\n          return eventsGenerator(greaterSub);\n        }\n      };\n      return greaterSub;\n    }\n  }, {\n    key: \"get\",\n    value: function get(relays, filter, opts) {\n      var _this3 = this;\n      return new Promise(function (resolve) {\n        var sub = _this3.sub(relays, [filter], opts);\n        var timeout = setTimeout(function () {\n          sub.unsub();\n          resolve(null);\n        }, _this3.getTimeout);\n        sub.on(\"event\", function (event) {\n          resolve(event);\n          clearTimeout(timeout);\n          sub.unsub();\n        });\n      });\n    }\n  }, {\n    key: \"list\",\n    value: function list(relays, filters, opts) {\n      var _this4 = this;\n      return new Promise(function (resolve) {\n        var events = [];\n        var sub = _this4.sub(relays, filters, opts);\n        sub.on(\"event\", function (event) {\n          events.push(event);\n        });\n        sub.on(\"eose\", function () {\n          sub.unsub();\n          resolve(events);\n        });\n      });\n    }\n  }, {\n    key: \"batchedList\",\n    value: function batchedList(batchKey, relays, filters) {\n      var _this5 = this;\n      return new Promise(function (resolve) {\n        if (!_this5.batchedByKey[batchKey]) {\n          _this5.batchedByKey[batchKey] = [{\n            filters: filters,\n            relays: relays,\n            resolve: resolve,\n            events: []\n          }];\n          setTimeout(function () {\n            Object.keys(_this5.batchedByKey).forEach( /*#__PURE__*/function () {\n              var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(batchKey2) {\n                var batchedRequests, filters2, relays2, sub;\n                return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n                  while (1) {\n                    switch (_context10.prev = _context10.next) {\n                      case 0:\n                        batchedRequests = _this5.batchedByKey[batchKey2];\n                        filters2 = [];\n                        relays2 = [];\n                        batchedRequests.forEach(function (br) {\n                          filters2.push.apply(filters2, _toConsumableArray(br.filters));\n                          relays2.push.apply(relays2, _toConsumableArray(br.relays));\n                        });\n                        sub = _this5.sub(relays2, [mergeFilters.apply(void 0, filters2)]);\n                        sub.on(\"event\", function (event) {\n                          batchedRequests.forEach(function (br) {\n                            return matchFilters(br.filters, event) && br.events.push(event);\n                          });\n                        });\n                        sub.on(\"eose\", function () {\n                          sub.unsub();\n                          batchedRequests.forEach(function (br) {\n                            return br.resolve(br.events);\n                          });\n                        });\n                        delete _this5.batchedByKey[batchKey2];\n                      case 8:\n                      case \"end\":\n                        return _context10.stop();\n                    }\n                  }\n                }, _callee10);\n              }));\n              return function (_x5) {\n                return _ref8.apply(this, arguments);\n              };\n            }());\n          }, _this5.batchInterval);\n        } else {\n          _this5.batchedByKey[batchKey].push({\n            filters: filters,\n            relays: relays,\n            resolve: resolve,\n            events: []\n          });\n        }\n      });\n    }\n  }, {\n    key: \"publish\",\n    value: function publish(relays, event) {\n      var _this6 = this;\n      return relays.map( /*#__PURE__*/function () {\n        var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(relay) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n            while (1) {\n              switch (_context11.prev = _context11.next) {\n                case 0:\n                  _context11.next = 2;\n                  return _this6.ensureRelay(relay);\n                case 2:\n                  r = _context11.sent;\n                  return _context11.abrupt(\"return\", r.publish(event));\n                case 4:\n                case \"end\":\n                  return _context11.stop();\n              }\n            }\n          }, _callee11);\n        }));\n        return function (_x6) {\n          return _ref9.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"seenOn\",\n    value: function seenOn(id) {\n      var _this$_seenOn$id, _this$_seenOn$id$valu;\n      return Array.from(((_this$_seenOn$id = this._seenOn[id]) === null || _this$_seenOn$id === void 0 ? void 0 : (_this$_seenOn$id$valu = _this$_seenOn$id.values) === null || _this$_seenOn$id$valu === void 0 ? void 0 : _this$_seenOn$id$valu.call(_this$_seenOn$id)) || []);\n    }\n  }]);\n  return SimplePool;\n}();\n\n// nip19.ts\nvar nip19_exports = {};\n__export(nip19_exports, {\n  BECH32_REGEX: function BECH32_REGEX() {\n    return _BECH32_REGEX;\n  },\n  decode: function decode() {\n    return _decode;\n  },\n  naddrEncode: function naddrEncode() {\n    return _naddrEncode;\n  },\n  neventEncode: function neventEncode() {\n    return _neventEncode;\n  },\n  noteEncode: function noteEncode() {\n    return _noteEncode;\n  },\n  nprofileEncode: function nprofileEncode() {\n    return _nprofileEncode;\n  },\n  npubEncode: function npubEncode() {\n    return _npubEncode;\n  },\n  nrelayEncode: function nrelayEncode() {\n    return _nrelayEncode;\n  },\n  nsecEncode: function nsecEncode() {\n    return _nsecEncode;\n  }\n});\nimport { bytesToHex as bytesToHex3, concatBytes, hexToBytes } from \"@noble/hashes/utils\";\nimport { bech32 } from \"@scure/base\";\nvar Bech32MaxSize = 5e3;\nvar _BECH32_REGEX = /[\\x21-\\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;\nfunction integerToUint8Array(number) {\n  var uint8Array = new Uint8Array(4);\n  uint8Array[0] = number >> 24 & 255;\n  uint8Array[1] = number >> 16 & 255;\n  uint8Array[2] = number >> 8 & 255;\n  uint8Array[3] = number & 255;\n  return uint8Array;\n}\nfunction _decode(nip19) {\n  var _bech32$decode = bech32.decode(nip19, Bech32MaxSize),\n    prefix = _bech32$decode.prefix,\n    words = _bech32$decode.words;\n  var data = new Uint8Array(bech32.fromWords(words));\n  switch (prefix) {\n    case \"nprofile\":\n      {\n        var _tlv$;\n        var tlv = parseTLV(data);\n        if (!((_tlv$ = tlv[0]) !== null && _tlv$ !== void 0 && _tlv$[0])) throw new Error(\"missing TLV 0 for nprofile\");\n        if (tlv[0][0].length !== 32) throw new Error(\"TLV 0 should be 32 bytes\");\n        return {\n          type: \"nprofile\",\n          data: {\n            pubkey: bytesToHex3(tlv[0][0]),\n            relays: tlv[1] ? tlv[1].map(function (d) {\n              return _utf8Decoder.decode(d);\n            }) : []\n          }\n        };\n      }\n    case \"nevent\":\n      {\n        var _tlv$2, _tlv$3, _tlv$4;\n        var _tlv = parseTLV(data);\n        if (!((_tlv$2 = _tlv[0]) !== null && _tlv$2 !== void 0 && _tlv$2[0])) throw new Error(\"missing TLV 0 for nevent\");\n        if (_tlv[0][0].length !== 32) throw new Error(\"TLV 0 should be 32 bytes\");\n        if (_tlv[2] && _tlv[2][0].length !== 32) throw new Error(\"TLV 2 should be 32 bytes\");\n        if (_tlv[3] && _tlv[3][0].length !== 4) throw new Error(\"TLV 3 should be 4 bytes\");\n        return {\n          type: \"nevent\",\n          data: {\n            id: bytesToHex3(_tlv[0][0]),\n            relays: _tlv[1] ? _tlv[1].map(function (d) {\n              return _utf8Decoder.decode(d);\n            }) : [],\n            author: (_tlv$3 = _tlv[2]) !== null && _tlv$3 !== void 0 && _tlv$3[0] ? bytesToHex3(_tlv[2][0]) : void 0,\n            kind: (_tlv$4 = _tlv[3]) !== null && _tlv$4 !== void 0 && _tlv$4[0] ? parseInt(bytesToHex3(_tlv[3][0]), 16) : void 0\n          }\n        };\n      }\n    case \"naddr\":\n      {\n        var _tlv2$, _tlv2$2, _tlv2$3;\n        var _tlv2 = parseTLV(data);\n        if (!((_tlv2$ = _tlv2[0]) !== null && _tlv2$ !== void 0 && _tlv2$[0])) throw new Error(\"missing TLV 0 for naddr\");\n        if (!((_tlv2$2 = _tlv2[2]) !== null && _tlv2$2 !== void 0 && _tlv2$2[0])) throw new Error(\"missing TLV 2 for naddr\");\n        if (_tlv2[2][0].length !== 32) throw new Error(\"TLV 2 should be 32 bytes\");\n        if (!((_tlv2$3 = _tlv2[3]) !== null && _tlv2$3 !== void 0 && _tlv2$3[0])) throw new Error(\"missing TLV 3 for naddr\");\n        if (_tlv2[3][0].length !== 4) throw new Error(\"TLV 3 should be 4 bytes\");\n        return {\n          type: \"naddr\",\n          data: {\n            identifier: _utf8Decoder.decode(_tlv2[0][0]),\n            pubkey: bytesToHex3(_tlv2[2][0]),\n            kind: parseInt(bytesToHex3(_tlv2[3][0]), 16),\n            relays: _tlv2[1] ? _tlv2[1].map(function (d) {\n              return _utf8Decoder.decode(d);\n            }) : []\n          }\n        };\n      }\n    case \"nrelay\":\n      {\n        var _tlv3$;\n        var _tlv3 = parseTLV(data);\n        if (!((_tlv3$ = _tlv3[0]) !== null && _tlv3$ !== void 0 && _tlv3$[0])) throw new Error(\"missing TLV 0 for nrelay\");\n        return {\n          type: \"nrelay\",\n          data: _utf8Decoder.decode(_tlv3[0][0])\n        };\n      }\n    case \"nsec\":\n    case \"npub\":\n    case \"note\":\n      return {\n        type: prefix,\n        data: bytesToHex3(data)\n      };\n    default:\n      throw new Error(\"unknown prefix \".concat(prefix));\n  }\n}\nfunction parseTLV(data) {\n  var result = {};\n  var rest = data;\n  while (rest.length > 0) {\n    var t = rest[0];\n    var l = rest[1];\n    if (!l) throw new Error(\"malformed TLV \".concat(t));\n    var v = rest.slice(2, 2 + l);\n    rest = rest.slice(2 + l);\n    if (v.length < l) throw new Error(\"not enough data to read on TLV \".concat(t));\n    result[t] = result[t] || [];\n    result[t].push(v);\n  }\n  return result;\n}\nfunction _nsecEncode(hex) {\n  return encodeBytes(\"nsec\", hex);\n}\nfunction _npubEncode(hex) {\n  return encodeBytes(\"npub\", hex);\n}\nfunction _noteEncode(hex) {\n  return encodeBytes(\"note\", hex);\n}\nfunction encodeBech32(prefix, data) {\n  var words = bech32.toWords(data);\n  return bech32.encode(prefix, words, Bech32MaxSize);\n}\nfunction encodeBytes(prefix, hex) {\n  var data = hexToBytes(hex);\n  return encodeBech32(prefix, data);\n}\nfunction _nprofileEncode(profile) {\n  var data = encodeTLV({\n    0: [hexToBytes(profile.pubkey)],\n    1: (profile.relays || []).map(function (url) {\n      return _utf8Encoder.encode(url);\n    })\n  });\n  return encodeBech32(\"nprofile\", data);\n}\nfunction _neventEncode(event) {\n  var kindArray;\n  if (event.kind != void 0) {\n    kindArray = integerToUint8Array(event.kind);\n  }\n  var data = encodeTLV({\n    0: [hexToBytes(event.id)],\n    1: (event.relays || []).map(function (url) {\n      return _utf8Encoder.encode(url);\n    }),\n    2: event.author ? [hexToBytes(event.author)] : [],\n    3: kindArray ? [new Uint8Array(kindArray)] : []\n  });\n  return encodeBech32(\"nevent\", data);\n}\nfunction _naddrEncode(addr) {\n  var kind = new ArrayBuffer(4);\n  new DataView(kind).setUint32(0, addr.kind, false);\n  var data = encodeTLV({\n    0: [_utf8Encoder.encode(addr.identifier)],\n    1: (addr.relays || []).map(function (url) {\n      return _utf8Encoder.encode(url);\n    }),\n    2: [hexToBytes(addr.pubkey)],\n    3: [new Uint8Array(kind)]\n  });\n  return encodeBech32(\"naddr\", data);\n}\nfunction _nrelayEncode(url) {\n  var data = encodeTLV({\n    0: [_utf8Encoder.encode(url)]\n  });\n  return encodeBech32(\"nrelay\", data);\n}\nfunction encodeTLV(tlv) {\n  var entries = [];\n  Object.entries(tlv).forEach(function (_ref10) {\n    var _ref11 = _slicedToArray(_ref10, 2),\n      t = _ref11[0],\n      vs = _ref11[1];\n    vs.forEach(function (v) {\n      var entry = new Uint8Array(v.length + 2);\n      entry.set([parseInt(t)], 0);\n      entry.set([v.length], 1);\n      entry.set(v, 2);\n      entries.push(entry);\n    });\n  });\n  return concatBytes.apply(void 0, entries);\n}\n\n// references.ts\nvar mentionRegex = /\\bnostr:((note|npub|naddr|nevent|nprofile)1\\w+)\\b|#\\[(\\d+)\\]/g;\nfunction parseReferences(evt) {\n  var references = [];\n  var _iterator4 = _createForOfIteratorHelper(evt.content.matchAll(mentionRegex)),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var ref = _step4.value;\n      if (ref[2]) {\n        try {\n          var _decode2 = _decode(ref[1]),\n            type = _decode2.type,\n            data = _decode2.data;\n          switch (type) {\n            case \"npub\":\n              {\n                references.push({\n                  text: ref[0],\n                  profile: {\n                    pubkey: data,\n                    relays: []\n                  }\n                });\n                break;\n              }\n            case \"nprofile\":\n              {\n                references.push({\n                  text: ref[0],\n                  profile: data\n                });\n                break;\n              }\n            case \"note\":\n              {\n                references.push({\n                  text: ref[0],\n                  event: {\n                    id: data,\n                    relays: []\n                  }\n                });\n                break;\n              }\n            case \"nevent\":\n              {\n                references.push({\n                  text: ref[0],\n                  event: data\n                });\n                break;\n              }\n            case \"naddr\":\n              {\n                references.push({\n                  text: ref[0],\n                  address: data\n                });\n                break;\n              }\n          }\n        } catch (err) {}\n      } else if (ref[3]) {\n        var idx = parseInt(ref[3], 10);\n        var tag = evt.tags[idx];\n        if (!tag) continue;\n        switch (tag[0]) {\n          case \"p\":\n            {\n              references.push({\n                text: ref[0],\n                profile: {\n                  pubkey: tag[1],\n                  relays: tag[2] ? [tag[2]] : []\n                }\n              });\n              break;\n            }\n          case \"e\":\n            {\n              references.push({\n                text: ref[0],\n                event: {\n                  id: tag[1],\n                  relays: tag[2] ? [tag[2]] : []\n                }\n              });\n              break;\n            }\n          case \"a\":\n            {\n              try {\n                var _tag$1$split = tag[1].split(\":\"),\n                  _tag$1$split2 = _slicedToArray(_tag$1$split, 3),\n                  kind = _tag$1$split2[0],\n                  pubkey = _tag$1$split2[1],\n                  identifier = _tag$1$split2[2];\n                references.push({\n                  text: ref[0],\n                  address: {\n                    identifier: identifier,\n                    pubkey: pubkey,\n                    kind: parseInt(kind, 10),\n                    relays: tag[2] ? [tag[2]] : []\n                  }\n                });\n              } catch (err) {}\n              break;\n            }\n        }\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  return references;\n}\n\n// nip04.ts\nvar nip04_exports = {};\n__export(nip04_exports, {\n  decrypt: function decrypt() {\n    return _decrypt;\n  },\n  encrypt: function encrypt() {\n    return _encrypt;\n  }\n});\nimport { randomBytes } from \"@noble/hashes/utils\";\nimport { secp256k1 } from \"@noble/curves/secp256k1\";\nimport { base64 } from \"@scure/base\";\nif (typeof crypto !== \"undefined\" && !crypto.subtle && crypto.webcrypto) {\n  crypto.subtle = crypto.webcrypto.subtle;\n}\nfunction _encrypt(_x7, _x8, _x9) {\n  return _encrypt2.apply(this, arguments);\n}\nfunction _encrypt2() {\n  _encrypt2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(privkey, pubkey, text) {\n    var key, normalizedKey, iv, plaintext, cryptoKey, ciphertext, ctb64, ivb64;\n    return _regeneratorRuntime.wrap(function _callee13$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n            normalizedKey = getNormalizedX(key);\n            iv = Uint8Array.from(randomBytes(16));\n            plaintext = _utf8Encoder.encode(text);\n            _context14.next = 6;\n            return crypto.subtle.importKey(\"raw\", normalizedKey, {\n              name: \"AES-CBC\"\n            }, false, [\"encrypt\"]);\n          case 6:\n            cryptoKey = _context14.sent;\n            _context14.next = 9;\n            return crypto.subtle.encrypt({\n              name: \"AES-CBC\",\n              iv: iv\n            }, cryptoKey, plaintext);\n          case 9:\n            ciphertext = _context14.sent;\n            ctb64 = base64.encode(new Uint8Array(ciphertext));\n            ivb64 = base64.encode(new Uint8Array(iv.buffer));\n            return _context14.abrupt(\"return\", \"\".concat(ctb64, \"?iv=\").concat(ivb64));\n          case 13:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee13);\n  }));\n  return _encrypt2.apply(this, arguments);\n}\nfunction _decrypt(_x10, _x11, _x12) {\n  return _decrypt2.apply(this, arguments);\n}\nfunction _decrypt2() {\n  _decrypt2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(privkey, pubkey, data) {\n    var _data$split, _data$split2, ctb64, ivb64, key, normalizedKey, cryptoKey, ciphertext, iv, plaintext, text;\n    return _regeneratorRuntime.wrap(function _callee14$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            _data$split = data.split(\"?iv=\"), _data$split2 = _slicedToArray(_data$split, 2), ctb64 = _data$split2[0], ivb64 = _data$split2[1];\n            key = secp256k1.getSharedSecret(privkey, \"02\" + pubkey);\n            normalizedKey = getNormalizedX(key);\n            _context15.next = 5;\n            return crypto.subtle.importKey(\"raw\", normalizedKey, {\n              name: \"AES-CBC\"\n            }, false, [\"decrypt\"]);\n          case 5:\n            cryptoKey = _context15.sent;\n            ciphertext = base64.decode(ctb64);\n            iv = base64.decode(ivb64);\n            _context15.next = 10;\n            return crypto.subtle.decrypt({\n              name: \"AES-CBC\",\n              iv: iv\n            }, cryptoKey, ciphertext);\n          case 10:\n            plaintext = _context15.sent;\n            text = _utf8Decoder.decode(plaintext);\n            return _context15.abrupt(\"return\", text);\n          case 13:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee14);\n  }));\n  return _decrypt2.apply(this, arguments);\n}\nfunction getNormalizedX(key) {\n  return key.slice(1, 33);\n}\n\n// nip05.ts\nvar nip05_exports = {};\n__export(nip05_exports, {\n  NIP05_REGEX: function NIP05_REGEX() {\n    return _NIP05_REGEX;\n  },\n  queryProfile: function queryProfile() {\n    return _queryProfile;\n  },\n  searchDomain: function searchDomain() {\n    return _searchDomain;\n  },\n  useFetchImplementation: function useFetchImplementation() {\n    return _useFetchImplementation;\n  }\n});\nvar _NIP05_REGEX = /^(?:([\\w.+-]+)@)?([\\w.-]+)$/;\nvar _fetch;\ntry {\n  _fetch = fetch;\n} catch (_unused) {}\nfunction _useFetchImplementation(fetchImplementation) {\n  _fetch = fetchImplementation;\n}\nfunction _searchDomain(_x13) {\n  return _searchDomain2.apply(this, arguments);\n}\nfunction _searchDomain2() {\n  _searchDomain2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(domain) {\n    var query,\n      res,\n      _args16 = arguments;\n    return _regeneratorRuntime.wrap(function _callee15$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            query = _args16.length > 1 && _args16[1] !== undefined ? _args16[1] : \"\";\n            _context16.prev = 1;\n            _context16.next = 4;\n            return _fetch(\"https://\".concat(domain, \"/.well-known/nostr.json?name=\").concat(query));\n          case 4:\n            _context16.next = 6;\n            return _context16.sent.json();\n          case 6:\n            res = _context16.sent;\n            return _context16.abrupt(\"return\", res.names);\n          case 10:\n            _context16.prev = 10;\n            _context16.t0 = _context16[\"catch\"](1);\n            return _context16.abrupt(\"return\", {});\n          case 13:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee15, null, [[1, 10]]);\n  }));\n  return _searchDomain2.apply(this, arguments);\n}\nfunction _queryProfile(_x14) {\n  return _queryProfile2.apply(this, arguments);\n}\nfunction _queryProfile2() {\n  _queryProfile2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(fullname) {\n    var match, _match2, _, _match2$, name, domain, res, _parseNIP05Result, names, relays, pubkey;\n    return _regeneratorRuntime.wrap(function _callee16$(_context17) {\n      while (1) {\n        switch (_context17.prev = _context17.next) {\n          case 0:\n            match = fullname.match(_NIP05_REGEX);\n            if (match) {\n              _context17.next = 3;\n              break;\n            }\n            return _context17.abrupt(\"return\", null);\n          case 3:\n            _match2 = _slicedToArray(match, 3), _ = _match2[0], _match2$ = _match2[1], name = _match2$ === void 0 ? \"_\" : _match2$, domain = _match2[2];\n            _context17.prev = 4;\n            _context17.next = 7;\n            return _fetch(\"https://\".concat(domain, \"/.well-known/nostr.json?name=\").concat(name));\n          case 7:\n            res = _context17.sent;\n            _context17.t0 = parseNIP05Result;\n            _context17.next = 11;\n            return res.json();\n          case 11:\n            _context17.t1 = _context17.sent;\n            _parseNIP05Result = (0, _context17.t0)(_context17.t1);\n            names = _parseNIP05Result.names;\n            relays = _parseNIP05Result.relays;\n            pubkey = names[name];\n            return _context17.abrupt(\"return\", pubkey ? {\n              pubkey: pubkey,\n              relays: relays === null || relays === void 0 ? void 0 : relays[pubkey]\n            } : null);\n          case 19:\n            _context17.prev = 19;\n            _context17.t2 = _context17[\"catch\"](4);\n            return _context17.abrupt(\"return\", null);\n          case 22:\n          case \"end\":\n            return _context17.stop();\n        }\n      }\n    }, _callee16, null, [[4, 19]]);\n  }));\n  return _queryProfile2.apply(this, arguments);\n}\nfunction parseNIP05Result(json) {\n  var result = {\n    names: {}\n  };\n  for (var _i = 0, _Object$entries = Object.entries(json.names); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      name = _Object$entries$_i[0],\n      pubkey = _Object$entries$_i[1];\n    if (typeof name === \"string\" && typeof pubkey === \"string\") {\n      result.names[name] = pubkey;\n    }\n  }\n  if (json.relays) {\n    result.relays = {};\n    for (var _i2 = 0, _Object$entries2 = Object.entries(json.relays); _i2 < _Object$entries2.length; _i2++) {\n      var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),\n        _pubkey = _Object$entries2$_i[0],\n        relays = _Object$entries2$_i[1];\n      if (typeof _pubkey === \"string\" && Array.isArray(relays)) {\n        result.relays[_pubkey] = relays.filter(function (relay) {\n          return typeof relay === \"string\";\n        });\n      }\n    }\n  }\n  return result;\n}\n\n// nip06.ts\nvar nip06_exports = {};\n__export(nip06_exports, {\n  generateSeedWords: function generateSeedWords() {\n    return _generateSeedWords;\n  },\n  privateKeyFromSeedWords: function privateKeyFromSeedWords() {\n    return _privateKeyFromSeedWords;\n  },\n  validateWords: function validateWords() {\n    return _validateWords;\n  }\n});\nimport { bytesToHex as bytesToHex4 } from \"@noble/hashes/utils\";\nimport { wordlist } from \"@scure/bip39/wordlists/english\";\nimport { generateMnemonic, mnemonicToSeedSync, validateMnemonic } from \"@scure/bip39\";\nimport { HDKey } from \"@scure/bip32\";\nfunction _privateKeyFromSeedWords(mnemonic, passphrase) {\n  var root = HDKey.fromMasterSeed(mnemonicToSeedSync(mnemonic, passphrase));\n  var privateKey = root.derive(\"m/44'/1237'/0'/0/0\").privateKey;\n  if (!privateKey) throw new Error(\"could not derive private key\");\n  return bytesToHex4(privateKey);\n}\nfunction _generateSeedWords() {\n  return generateMnemonic(wordlist);\n}\nfunction _validateWords(words) {\n  return validateMnemonic(words, wordlist);\n}\n\n// nip10.ts\nvar nip10_exports = {};\n__export(nip10_exports, {\n  parse: function parse() {\n    return _parse;\n  }\n});\nfunction _parse(event) {\n  var result = {\n    reply: void 0,\n    root: void 0,\n    mentions: [],\n    profiles: []\n  };\n  var eTags = [];\n  var _iterator5 = _createForOfIteratorHelper(event.tags),\n    _step5;\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var tag = _step5.value;\n      if (tag[0] === \"e\" && tag[1]) {\n        eTags.push(tag);\n      }\n      if (tag[0] === \"p\" && tag[1]) {\n        result.profiles.push({\n          pubkey: tag[1],\n          relays: tag[2] ? [tag[2]] : []\n        });\n      }\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  for (var eTagIndex = 0; eTagIndex < eTags.length; eTagIndex++) {\n    var eTag = eTags[eTagIndex];\n    var _eTag = _slicedToArray(eTag, 4),\n      _ = _eTag[0],\n      eTagEventId = _eTag[1],\n      eTagRelayUrl = _eTag[2],\n      eTagMarker = _eTag[3];\n    var eventPointer = {\n      id: eTagEventId,\n      relays: eTagRelayUrl ? [eTagRelayUrl] : []\n    };\n    var isFirstETag = eTagIndex === 0;\n    var isLastETag = eTagIndex === eTags.length - 1;\n    if (eTagMarker === \"root\") {\n      result.root = eventPointer;\n      continue;\n    }\n    if (eTagMarker === \"reply\") {\n      result.reply = eventPointer;\n      continue;\n    }\n    if (eTagMarker === \"mention\") {\n      result.mentions.push(eventPointer);\n      continue;\n    }\n    if (isFirstETag) {\n      result.root = eventPointer;\n      continue;\n    }\n    if (isLastETag) {\n      result.reply = eventPointer;\n      continue;\n    }\n    result.mentions.push(eventPointer);\n  }\n  return result;\n}\n\n// nip13.ts\nvar nip13_exports = {};\n__export(nip13_exports, {\n  getPow: function getPow() {\n    return _getPow;\n  },\n  minePow: function minePow() {\n    return _minePow;\n  }\n});\nfunction _getPow(hex) {\n  var count = 0;\n  for (var i = 0; i < hex.length; i++) {\n    var nibble = parseInt(hex[i], 16);\n    if (nibble === 0) {\n      count += 4;\n    } else {\n      count += Math.clz32(nibble) - 28;\n      break;\n    }\n  }\n  return count;\n}\nfunction _minePow(unsigned, difficulty) {\n  var count = 0;\n  var event = unsigned;\n  var tag = [\"nonce\", count.toString(), difficulty.toString()];\n  event.tags.push(tag);\n  while (true) {\n    var now = Math.floor(new Date().getTime() / 1e3);\n    if (now !== event.created_at) {\n      count = 0;\n      event.created_at = now;\n    }\n    tag[1] = (++count).toString();\n    event.id = getEventHash(event);\n    if (_getPow(event.id) >= difficulty) {\n      break;\n    }\n  }\n  return event;\n}\n\n// nip18.ts\nvar nip18_exports = {};\n__export(nip18_exports, {\n  finishRepostEvent: function finishRepostEvent() {\n    return _finishRepostEvent;\n  },\n  getRepostedEvent: function getRepostedEvent() {\n    return _getRepostedEvent;\n  },\n  getRepostedEventPointer: function getRepostedEventPointer() {\n    return _getRepostedEventPointer;\n  }\n});\nfunction _finishRepostEvent(t, reposted, relayUrl, privateKey) {\n  var _t$tags;\n  return finishEvent({\n    kind: 6 /* Repost */,\n    tags: [].concat(_toConsumableArray((_t$tags = t.tags) !== null && _t$tags !== void 0 ? _t$tags : []), [[\"e\", reposted.id, relayUrl], [\"p\", reposted.pubkey]]),\n    content: t.content === \"\" ? \"\" : JSON.stringify(reposted),\n    created_at: t.created_at\n  }, privateKey);\n}\nfunction _getRepostedEventPointer(event) {\n  var _lastPTag, _lastPTag2;\n  if (event.kind !== 6 /* Repost */) {\n    return void 0;\n  }\n  var lastETag;\n  var lastPTag;\n  for (var i = event.tags.length - 1; i >= 0 && (lastETag === void 0 || lastPTag === void 0); i--) {\n    var tag = event.tags[i];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], (_lastPTag = lastPTag) === null || _lastPTag === void 0 ? void 0 : _lastPTag[2]].filter(function (x) {\n      return typeof x === \"string\";\n    }),\n    author: (_lastPTag2 = lastPTag) === null || _lastPTag2 === void 0 ? void 0 : _lastPTag2[1]\n  };\n}\nfunction _getRepostedEvent(event) {\n  var _ref12 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    skipVerification = _ref12.skipVerification;\n  var pointer = _getRepostedEventPointer(event);\n  if (pointer === void 0 || event.content === \"\") {\n    return void 0;\n  }\n  var repostedEvent;\n  try {\n    repostedEvent = JSON.parse(event.content);\n  } catch (error) {\n    return void 0;\n  }\n  if (repostedEvent.id !== pointer.id) {\n    return void 0;\n  }\n  if (!skipVerification && !verifySignature(repostedEvent)) {\n    return void 0;\n  }\n  return repostedEvent;\n}\n\n// nip21.ts\nvar nip21_exports = {};\n__export(nip21_exports, {\n  NOSTR_URI_REGEX: function NOSTR_URI_REGEX() {\n    return _NOSTR_URI_REGEX;\n  },\n  parse: function parse() {\n    return parse2;\n  },\n  test: function test() {\n    return _test;\n  }\n});\nvar _NOSTR_URI_REGEX = new RegExp(\"nostr:(\".concat(_BECH32_REGEX.source, \")\"));\nfunction _test(value) {\n  return typeof value === \"string\" && new RegExp(\"^\".concat(_NOSTR_URI_REGEX.source, \"$\")).test(value);\n}\nfunction parse2(uri) {\n  var match = uri.match(new RegExp(\"^\".concat(_NOSTR_URI_REGEX.source, \"$\")));\n  if (!match) throw new Error(\"Invalid Nostr URI: \".concat(uri));\n  return {\n    uri: match[0],\n    value: match[1],\n    decoded: _decode(match[1])\n  };\n}\n\n// nip25.ts\nvar nip25_exports = {};\n__export(nip25_exports, {\n  finishReactionEvent: function finishReactionEvent() {\n    return _finishReactionEvent;\n  },\n  getReactedEventPointer: function getReactedEventPointer() {\n    return _getReactedEventPointer;\n  }\n});\nfunction _finishReactionEvent(t, reacted, privateKey) {\n  var _t$tags2, _t$content;\n  var inheritedTags = reacted.tags.filter(function (tag) {\n    return tag.length >= 2 && (tag[0] === \"e\" || tag[0] === \"p\");\n  });\n  return finishEvent(_objectSpread(_objectSpread({}, t), {}, {\n    kind: 7 /* Reaction */,\n    tags: [].concat(_toConsumableArray((_t$tags2 = t.tags) !== null && _t$tags2 !== void 0 ? _t$tags2 : []), _toConsumableArray(inheritedTags), [[\"e\", reacted.id], [\"p\", reacted.pubkey]]),\n    content: (_t$content = t.content) !== null && _t$content !== void 0 ? _t$content : \"+\"\n  }), privateKey);\n}\nfunction _getReactedEventPointer(event) {\n  if (event.kind !== 7 /* Reaction */) {\n    return void 0;\n  }\n  var lastETag;\n  var lastPTag;\n  for (var i = event.tags.length - 1; i >= 0 && (lastETag === void 0 || lastPTag === void 0); i--) {\n    var tag = event.tags[i];\n    if (tag.length >= 2) {\n      if (tag[0] === \"e\" && lastETag === void 0) {\n        lastETag = tag;\n      } else if (tag[0] === \"p\" && lastPTag === void 0) {\n        lastPTag = tag;\n      }\n    }\n  }\n  if (lastETag === void 0 || lastPTag === void 0) {\n    return void 0;\n  }\n  return {\n    id: lastETag[1],\n    relays: [lastETag[2], lastPTag[2]].filter(function (x) {\n      return x !== void 0;\n    }),\n    author: lastPTag[1]\n  };\n}\n\n// nip26.ts\nvar nip26_exports = {};\n__export(nip26_exports, {\n  createDelegation: function createDelegation() {\n    return _createDelegation;\n  },\n  getDelegator: function getDelegator() {\n    return _getDelegator;\n  }\n});\nimport { schnorr as schnorr3 } from \"@noble/curves/secp256k1\";\nimport { bytesToHex as bytesToHex5 } from \"@noble/hashes/utils\";\nimport { sha256 as sha2562 } from \"@noble/hashes/sha256\";\nfunction _createDelegation(privateKey, parameters) {\n  var conditions = [];\n  if ((parameters.kind || -1) >= 0) conditions.push(\"kind=\".concat(parameters.kind));\n  if (parameters.until) conditions.push(\"created_at<\".concat(parameters.until));\n  if (parameters.since) conditions.push(\"created_at>\".concat(parameters.since));\n  var cond = conditions.join(\"&\");\n  if (cond === \"\") throw new Error(\"refusing to create a delegation without any conditions\");\n  var sighash = sha2562(_utf8Encoder.encode(\"nostr:delegation:\".concat(parameters.pubkey, \":\").concat(cond)));\n  var sig = bytesToHex5(schnorr3.sign(sighash, privateKey));\n  return {\n    from: getPublicKey(privateKey),\n    to: parameters.pubkey,\n    cond: cond,\n    sig: sig\n  };\n}\nfunction _getDelegator(event) {\n  var tag = event.tags.find(function (tag2) {\n    return tag2[0] === \"delegation\" && tag2.length >= 4;\n  });\n  if (!tag) return null;\n  var pubkey = tag[1];\n  var cond = tag[2];\n  var sig = tag[3];\n  var conditions = cond.split(\"&\");\n  for (var i = 0; i < conditions.length; i++) {\n    var _conditions$i$split = conditions[i].split(/\\b/),\n      _conditions$i$split2 = _slicedToArray(_conditions$i$split, 3),\n      key = _conditions$i$split2[0],\n      operator = _conditions$i$split2[1],\n      value = _conditions$i$split2[2];\n    if (key === \"kind\" && operator === \"=\" && event.kind === parseInt(value)) continue;else if (key === \"created_at\" && operator === \"<\" && event.created_at < parseInt(value)) continue;else if (key === \"created_at\" && operator === \">\" && event.created_at > parseInt(value)) continue;else return null;\n  }\n  var sighash = sha2562(_utf8Encoder.encode(\"nostr:delegation:\".concat(event.pubkey, \":\").concat(cond)));\n  if (!schnorr3.verify(sig, sighash, pubkey)) return null;\n  return pubkey;\n}\n\n// nip27.ts\nvar nip27_exports = {};\n__export(nip27_exports, {\n  matchAll: function matchAll() {\n    return _matchAll;\n  },\n  regex: function regex() {\n    return _regex;\n  },\n  replaceAll: function replaceAll() {\n    return _replaceAll;\n  }\n});\nvar _regex = function _regex() {\n  return new RegExp(\"\\\\b\".concat(_NOSTR_URI_REGEX.source, \"\\\\b\"), \"g\");\n};\nfunction _matchAll(content) {\n  var matches, _iterator6, _step6, match, _match, uri, value;\n  return _regeneratorRuntime.wrap(function _matchAll$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          matches = content.matchAll(_regex());\n          _iterator6 = _createForOfIteratorHelper(matches);\n          _context12.prev = 2;\n          _iterator6.s();\n        case 4:\n          if ((_step6 = _iterator6.n()).done) {\n            _context12.next = 16;\n            break;\n          }\n          match = _step6.value;\n          _context12.prev = 6;\n          _match = _slicedToArray(match, 2), uri = _match[0], value = _match[1];\n          _context12.next = 10;\n          return {\n            uri: uri,\n            value: value,\n            decoded: _decode(value),\n            start: match.index,\n            end: match.index + uri.length\n          };\n        case 10:\n          _context12.next = 14;\n          break;\n        case 12:\n          _context12.prev = 12;\n          _context12.t0 = _context12[\"catch\"](6);\n        case 14:\n          _context12.next = 4;\n          break;\n        case 16:\n          _context12.next = 21;\n          break;\n        case 18:\n          _context12.prev = 18;\n          _context12.t1 = _context12[\"catch\"](2);\n          _iterator6.e(_context12.t1);\n        case 21:\n          _context12.prev = 21;\n          _iterator6.f();\n          return _context12.finish(21);\n        case 24:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked, null, [[2, 18, 21, 24], [6, 12]]);\n}\nfunction _replaceAll(content, replacer) {\n  return content.replaceAll(_regex(), function (uri, value) {\n    return replacer({\n      uri: uri,\n      value: value,\n      decoded: _decode(value)\n    });\n  });\n}\n\n// nip28.ts\nvar nip28_exports = {};\n__export(nip28_exports, {\n  channelCreateEvent: function channelCreateEvent() {\n    return _channelCreateEvent;\n  },\n  channelHideMessageEvent: function channelHideMessageEvent() {\n    return _channelHideMessageEvent;\n  },\n  channelMessageEvent: function channelMessageEvent() {\n    return _channelMessageEvent;\n  },\n  channelMetadataEvent: function channelMetadataEvent() {\n    return _channelMetadataEvent;\n  },\n  channelMuteUserEvent: function channelMuteUserEvent() {\n    return _channelMuteUserEvent;\n  }\n});\nvar _channelCreateEvent = function _channelCreateEvent(t, privateKey) {\n  var _t$tags3;\n  var content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finishEvent({\n    kind: 40 /* ChannelCreation */,\n    tags: _toConsumableArray((_t$tags3 = t.tags) !== null && _t$tags3 !== void 0 ? _t$tags3 : []),\n    content: content,\n    created_at: t.created_at\n  }, privateKey);\n};\nvar _channelMetadataEvent = function _channelMetadataEvent(t, privateKey) {\n  var _t$tags4;\n  var content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finishEvent({\n    kind: 41 /* ChannelMetadata */,\n    tags: [[\"e\", t.channel_create_event_id]].concat(_toConsumableArray((_t$tags4 = t.tags) !== null && _t$tags4 !== void 0 ? _t$tags4 : [])),\n    content: content,\n    created_at: t.created_at\n  }, privateKey);\n};\nvar _channelMessageEvent = function _channelMessageEvent(t, privateKey) {\n  var _t$tags5;\n  var tags = [[\"e\", t.channel_create_event_id, t.relay_url, \"root\"]];\n  if (t.reply_to_channel_message_event_id) {\n    tags.push([\"e\", t.reply_to_channel_message_event_id, t.relay_url, \"reply\"]);\n  }\n  return finishEvent({\n    kind: 42 /* ChannelMessage */,\n    tags: [].concat(tags, _toConsumableArray((_t$tags5 = t.tags) !== null && _t$tags5 !== void 0 ? _t$tags5 : [])),\n    content: t.content,\n    created_at: t.created_at\n  }, privateKey);\n};\nvar _channelHideMessageEvent = function _channelHideMessageEvent(t, privateKey) {\n  var _t$tags6;\n  var content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finishEvent({\n    kind: 43 /* ChannelHideMessage */,\n    tags: [[\"e\", t.channel_message_event_id]].concat(_toConsumableArray((_t$tags6 = t.tags) !== null && _t$tags6 !== void 0 ? _t$tags6 : [])),\n    content: content,\n    created_at: t.created_at\n  }, privateKey);\n};\nvar _channelMuteUserEvent = function _channelMuteUserEvent(t, privateKey) {\n  var _t$tags7;\n  var content;\n  if (typeof t.content === \"object\") {\n    content = JSON.stringify(t.content);\n  } else if (typeof t.content === \"string\") {\n    content = t.content;\n  } else {\n    return void 0;\n  }\n  return finishEvent({\n    kind: 44 /* ChannelMuteUser */,\n    tags: [[\"p\", t.pubkey_to_mute]].concat(_toConsumableArray((_t$tags7 = t.tags) !== null && _t$tags7 !== void 0 ? _t$tags7 : [])),\n    content: content,\n    created_at: t.created_at\n  }, privateKey);\n};\n\n// nip39.ts\nvar nip39_exports = {};\n__export(nip39_exports, {\n  useFetchImplementation: function useFetchImplementation() {\n    return useFetchImplementation2;\n  },\n  validateGithub: function validateGithub() {\n    return _validateGithub;\n  }\n});\nvar _fetch2;\ntry {\n  _fetch2 = fetch;\n} catch (_unused2) {}\nfunction useFetchImplementation2(fetchImplementation) {\n  _fetch2 = fetchImplementation;\n}\nfunction _validateGithub(_x15, _x16, _x17) {\n  return _validateGithub2.apply(this, arguments);\n} // nip42.ts\nfunction _validateGithub2() {\n  _validateGithub2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(pubkey, username, proof) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee17$(_context18) {\n      while (1) {\n        switch (_context18.prev = _context18.next) {\n          case 0:\n            _context18.prev = 0;\n            _context18.next = 3;\n            return _fetch2(\"https://gist.github.com/\".concat(username, \"/\").concat(proof, \"/raw\"));\n          case 3:\n            _context18.next = 5;\n            return _context18.sent.text();\n          case 5:\n            res = _context18.sent;\n            return _context18.abrupt(\"return\", res === \"Verifying that I control the following Nostr public key: \".concat(pubkey));\n          case 9:\n            _context18.prev = 9;\n            _context18.t0 = _context18[\"catch\"](0);\n            return _context18.abrupt(\"return\", false);\n          case 12:\n          case \"end\":\n            return _context18.stop();\n        }\n      }\n    }, _callee17, null, [[0, 9]]);\n  }));\n  return _validateGithub2.apply(this, arguments);\n}\nvar nip42_exports = {};\n__export(nip42_exports, {\n  authenticate: function authenticate() {\n    return _authenticate;\n  }\n});\nvar _authenticate = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(_ref13) {\n    var challenge, relay, sign, e;\n    return _regeneratorRuntime.wrap(function _callee12$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            challenge = _ref13.challenge, relay = _ref13.relay, sign = _ref13.sign;\n            e = {\n              kind: 22242 /* ClientAuth */,\n              created_at: Math.floor(Date.now() / 1e3),\n              tags: [[\"relay\", relay.url], [\"challenge\", challenge]],\n              content: \"\"\n            };\n            _context13.t0 = relay;\n            _context13.next = 5;\n            return sign(e);\n          case 5:\n            _context13.t1 = _context13.sent;\n            return _context13.abrupt(\"return\", _context13.t0.auth.call(_context13.t0, _context13.t1));\n          case 7:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee12);\n  }));\n  return function _authenticate(_x18) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\n// nip44.ts\nvar nip44_exports = {};\n__export(nip44_exports, {\n  decrypt: function decrypt() {\n    return decrypt2;\n  },\n  encrypt: function encrypt() {\n    return encrypt2;\n  },\n  utils: function utils() {\n    return _utils;\n  }\n});\nimport { chacha20 } from \"@noble/ciphers/chacha\";\nimport { ensureBytes, equalBytes } from \"@noble/ciphers/utils\";\nimport { secp256k1 as secp256k12 } from \"@noble/curves/secp256k1\";\nimport { hkdf } from \"@noble/hashes/hkdf\";\nimport { hmac } from \"@noble/hashes/hmac\";\nimport { sha256 as sha2563 } from \"@noble/hashes/sha256\";\nimport { concatBytes as concatBytes2, randomBytes as randomBytes2 } from \"@noble/hashes/utils\";\nimport { base64 as base642 } from \"@scure/base\";\nvar _utils = {\n  v2: {\n    maxPlaintextSize: 65536 - 128,\n    minCiphertextSize: 100,\n    maxCiphertextSize: 102400,\n    getConversationKey: function getConversationKey(privkeyA, pubkeyB) {\n      var key = secp256k12.getSharedSecret(privkeyA, \"02\" + pubkeyB);\n      return key.subarray(1, 33);\n    },\n    getMessageKeys: function getMessageKeys(conversationKey, salt) {\n      var keys = hkdf(sha2563, conversationKey, salt, \"nip44-v2\", 76);\n      return {\n        encryption: keys.subarray(0, 32),\n        nonce: keys.subarray(32, 44),\n        auth: keys.subarray(44, 76)\n      };\n    },\n    calcPadding: function calcPadding(len) {\n      if (!Number.isSafeInteger(len) || len < 0) throw new Error(\"expected positive integer\");\n      if (len <= 32) return 32;\n      var nextpower = 1 << Math.floor(Math.log2(len - 1)) + 1;\n      var chunk = nextpower <= 256 ? 32 : nextpower / 8;\n      return chunk * (Math.floor((len - 1) / chunk) + 1);\n    },\n    pad: function pad(unpadded) {\n      var unpaddedB = _utf8Encoder.encode(unpadded);\n      var len = unpaddedB.length;\n      if (len < 1 || len >= _utils.v2.maxPlaintextSize) throw new Error(\"invalid plaintext length: must be between 1b and 64KB\");\n      var paddedLen = _utils.v2.calcPadding(len);\n      var zeros = new Uint8Array(paddedLen - len);\n      var lenBuf = new Uint8Array(2);\n      new DataView(lenBuf.buffer).setUint16(0, len);\n      return concatBytes2(lenBuf, unpaddedB, zeros);\n    },\n    unpad: function unpad(padded) {\n      var unpaddedLen = new DataView(padded.buffer).getUint16(0);\n      var unpadded = padded.subarray(2, 2 + unpaddedLen);\n      if (unpaddedLen === 0 || unpadded.length !== unpaddedLen || padded.length !== 2 + _utils.v2.calcPadding(unpaddedLen)) throw new Error(\"invalid padding\");\n      return _utf8Decoder.decode(unpadded);\n    }\n  }\n};\nfunction encrypt2(key, plaintext) {\n  var _options$version, _options$salt;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var version = (_options$version = options.version) !== null && _options$version !== void 0 ? _options$version : 2;\n  if (version !== 2) throw new Error(\"unknown encryption version \" + version);\n  var salt = (_options$salt = options.salt) !== null && _options$salt !== void 0 ? _options$salt : randomBytes2(32);\n  ensureBytes(salt, 32);\n  var keys = _utils.v2.getMessageKeys(key, salt);\n  var padded = _utils.v2.pad(plaintext);\n  var ciphertext = chacha20(keys.encryption, keys.nonce, padded);\n  var mac = hmac(sha2563, keys.auth, ciphertext);\n  return base642.encode(concatBytes2(new Uint8Array([version]), salt, ciphertext, mac));\n}\nfunction decrypt2(key, ciphertext) {\n  var u = _utils.v2;\n  ensureBytes(key, 32);\n  var clen = ciphertext.length;\n  if (clen < u.minCiphertextSize || clen >= u.maxCiphertextSize) throw new Error(\"invalid ciphertext length: \" + clen);\n  if (ciphertext[0] === \"#\") throw new Error(\"unknown encryption version\");\n  var data;\n  try {\n    data = base642.decode(ciphertext);\n  } catch (error) {\n    throw new Error(\"invalid base64: \" + error.message);\n  }\n  var vers = data.subarray(0, 1)[0];\n  if (vers !== 2) throw new Error(\"unknown encryption version \" + vers);\n  var salt = data.subarray(1, 33);\n  var ciphertext_ = data.subarray(33, -32);\n  var mac = data.subarray(-32);\n  var keys = u.getMessageKeys(key, salt);\n  var calculatedMac = hmac(sha2563, keys.auth, ciphertext_);\n  if (!equalBytes(calculatedMac, mac)) throw new Error(\"invalid MAC\");\n  var padded = chacha20(keys.encryption, keys.nonce, ciphertext_);\n  return u.unpad(padded);\n}\n\n// nip47.ts\nvar nip47_exports = {};\n__export(nip47_exports, {\n  makeNwcRequestEvent: function makeNwcRequestEvent() {\n    return _makeNwcRequestEvent;\n  },\n  parseConnectionString: function parseConnectionString() {\n    return _parseConnectionString;\n  }\n});\nfunction _parseConnectionString(connectionString) {\n  var _URL = new URL(connectionString),\n    pathname = _URL.pathname,\n    searchParams = _URL.searchParams;\n  var pubkey = pathname;\n  var relay = searchParams.get(\"relay\");\n  var secret = searchParams.get(\"secret\");\n  if (!pubkey || !relay || !secret) {\n    throw new Error(\"invalid connection string\");\n  }\n  return {\n    pubkey: pubkey,\n    relay: relay,\n    secret: secret\n  };\n}\nfunction _makeNwcRequestEvent(_x19) {\n  return _makeNwcRequestEvent2.apply(this, arguments);\n} // nip57.ts\nfunction _makeNwcRequestEvent2() {\n  _makeNwcRequestEvent2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(_ref15) {\n    var pubkey, secret, invoice, content, encryptedContent, eventTemplate;\n    return _regeneratorRuntime.wrap(function _callee18$(_context19) {\n      while (1) {\n        switch (_context19.prev = _context19.next) {\n          case 0:\n            pubkey = _ref15.pubkey, secret = _ref15.secret, invoice = _ref15.invoice;\n            content = {\n              method: \"pay_invoice\",\n              params: {\n                invoice: invoice\n              }\n            };\n            _context19.next = 4;\n            return _encrypt(secret, pubkey, JSON.stringify(content));\n          case 4:\n            encryptedContent = _context19.sent;\n            eventTemplate = {\n              kind: 23194 /* NwcRequest */,\n              created_at: Math.round(Date.now() / 1e3),\n              content: encryptedContent,\n              tags: [[\"p\", pubkey]]\n            };\n            return _context19.abrupt(\"return\", finishEvent(eventTemplate, secret));\n          case 7:\n          case \"end\":\n            return _context19.stop();\n        }\n      }\n    }, _callee18);\n  }));\n  return _makeNwcRequestEvent2.apply(this, arguments);\n}\nvar nip57_exports = {};\n__export(nip57_exports, {\n  getZapEndpoint: function getZapEndpoint() {\n    return _getZapEndpoint;\n  },\n  makeZapReceipt: function makeZapReceipt() {\n    return _makeZapReceipt;\n  },\n  makeZapRequest: function makeZapRequest() {\n    return _makeZapRequest;\n  },\n  useFetchImplementation: function useFetchImplementation() {\n    return useFetchImplementation3;\n  },\n  validateZapRequest: function validateZapRequest() {\n    return _validateZapRequest;\n  }\n});\nimport { bech32 as bech322 } from \"@scure/base\";\nvar _fetch3;\ntry {\n  _fetch3 = fetch;\n} catch (_unused3) {}\nfunction useFetchImplementation3(fetchImplementation) {\n  _fetch3 = fetchImplementation;\n}\nfunction _getZapEndpoint(_x20) {\n  return _getZapEndpoint2.apply(this, arguments);\n}\nfunction _getZapEndpoint2() {\n  _getZapEndpoint2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(metadata) {\n    var lnurl, _JSON$parse, lud06, lud16, _bech322$decode, words, data, _lud16$split, _lud16$split2, name, domain, res, body;\n    return _regeneratorRuntime.wrap(function _callee19$(_context20) {\n      while (1) {\n        switch (_context20.prev = _context20.next) {\n          case 0:\n            _context20.prev = 0;\n            lnurl = \"\";\n            _JSON$parse = JSON.parse(metadata.content), lud06 = _JSON$parse.lud06, lud16 = _JSON$parse.lud16;\n            if (!lud06) {\n              _context20.next = 9;\n              break;\n            }\n            _bech322$decode = bech322.decode(lud06, 1e3), words = _bech322$decode.words;\n            data = bech322.fromWords(words);\n            lnurl = _utf8Decoder.decode(data);\n            _context20.next = 15;\n            break;\n          case 9:\n            if (!lud16) {\n              _context20.next = 14;\n              break;\n            }\n            _lud16$split = lud16.split(\"@\"), _lud16$split2 = _slicedToArray(_lud16$split, 2), name = _lud16$split2[0], domain = _lud16$split2[1];\n            lnurl = \"https://\".concat(domain, \"/.well-known/lnurlp/\").concat(name);\n            _context20.next = 15;\n            break;\n          case 14:\n            return _context20.abrupt(\"return\", null);\n          case 15:\n            _context20.next = 17;\n            return _fetch3(lnurl);\n          case 17:\n            res = _context20.sent;\n            _context20.next = 20;\n            return res.json();\n          case 20:\n            body = _context20.sent;\n            if (!(body.allowsNostr && body.nostrPubkey)) {\n              _context20.next = 23;\n              break;\n            }\n            return _context20.abrupt(\"return\", body.callback);\n          case 23:\n            _context20.next = 27;\n            break;\n          case 25:\n            _context20.prev = 25;\n            _context20.t0 = _context20[\"catch\"](0);\n          case 27:\n            return _context20.abrupt(\"return\", null);\n          case 28:\n          case \"end\":\n            return _context20.stop();\n        }\n      }\n    }, _callee19, null, [[0, 25]]);\n  }));\n  return _getZapEndpoint2.apply(this, arguments);\n}\nfunction _makeZapRequest(_ref16) {\n  var profile = _ref16.profile,\n    event = _ref16.event,\n    amount = _ref16.amount,\n    relays = _ref16.relays,\n    _ref16$comment = _ref16.comment,\n    comment = _ref16$comment === void 0 ? \"\" : _ref16$comment;\n  if (!amount) throw new Error(\"amount not given\");\n  if (!profile) throw new Error(\"profile not given\");\n  var zr = {\n    kind: 9734,\n    created_at: Math.round(Date.now() / 1e3),\n    content: comment,\n    tags: [[\"p\", profile], [\"amount\", amount.toString()], [\"relays\"].concat(_toConsumableArray(relays))]\n  };\n  if (event) {\n    zr.tags.push([\"e\", event]);\n  }\n  return zr;\n}\nfunction _validateZapRequest(zapRequestString) {\n  var zapRequest;\n  try {\n    zapRequest = JSON.parse(zapRequestString);\n  } catch (err) {\n    return \"Invalid zap request JSON.\";\n  }\n  if (!validateEvent(zapRequest)) return \"Zap request is not a valid Nostr event.\";\n  if (!verifySignature(zapRequest)) return \"Invalid signature on zap request.\";\n  var p = zapRequest.tags.find(function (_ref17) {\n    var _ref18 = _slicedToArray(_ref17, 2),\n      t = _ref18[0],\n      v = _ref18[1];\n    return t === \"p\" && v;\n  });\n  if (!p) return \"Zap request doesn't have a 'p' tag.\";\n  if (!p[1].match(/^[a-f0-9]{64}$/)) return \"Zap request 'p' tag is not valid hex.\";\n  var e = zapRequest.tags.find(function (_ref19) {\n    var _ref20 = _slicedToArray(_ref19, 2),\n      t = _ref20[0],\n      v = _ref20[1];\n    return t === \"e\" && v;\n  });\n  if (e && !e[1].match(/^[a-f0-9]{64}$/)) return \"Zap request 'e' tag is not valid hex.\";\n  var relays = zapRequest.tags.find(function (_ref21) {\n    var _ref22 = _slicedToArray(_ref21, 2),\n      t = _ref22[0],\n      v = _ref22[1];\n    return t === \"relays\" && v;\n  });\n  if (!relays) return \"Zap request doesn't have a 'relays' tag.\";\n  return null;\n}\nfunction _makeZapReceipt(_ref23) {\n  var zapRequest = _ref23.zapRequest,\n    preimage = _ref23.preimage,\n    bolt11 = _ref23.bolt11,\n    paidAt = _ref23.paidAt;\n  var zr = JSON.parse(zapRequest);\n  var tagsFromZapRequest = zr.tags.filter(function (_ref24) {\n    var _ref25 = _slicedToArray(_ref24, 1),\n      t = _ref25[0];\n    return t === \"e\" || t === \"p\" || t === \"a\";\n  });\n  var zap = {\n    kind: 9735,\n    created_at: Math.round(paidAt.getTime() / 1e3),\n    content: \"\",\n    tags: [].concat(_toConsumableArray(tagsFromZapRequest), [[\"bolt11\", bolt11], [\"description\", zapRequest]])\n  };\n  if (preimage) {\n    zap.tags.push([\"preimage\", preimage]);\n  }\n  return zap;\n}\n\n// nip98.ts\nvar nip98_exports = {};\n__export(nip98_exports, {\n  getToken: function getToken() {\n    return _getToken;\n  },\n  unpackEventFromToken: function unpackEventFromToken() {\n    return _unpackEventFromToken;\n  },\n  validateEvent: function validateEvent() {\n    return validateEvent2;\n  },\n  validateToken: function validateToken() {\n    return _validateToken;\n  }\n});\nimport { base64 as base643 } from \"@scure/base\";\nvar _authorizationScheme = \"Nostr \";\nfunction _getToken(_x21, _x22, _x23) {\n  return _getToken2.apply(this, arguments);\n}\nfunction _getToken2() {\n  _getToken2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(loginUrl, httpMethod, sign) {\n    var includeAuthorizationScheme,\n      event,\n      signedEvent,\n      authorizationScheme,\n      _args21 = arguments;\n    return _regeneratorRuntime.wrap(function _callee20$(_context21) {\n      while (1) {\n        switch (_context21.prev = _context21.next) {\n          case 0:\n            includeAuthorizationScheme = _args21.length > 3 && _args21[3] !== undefined ? _args21[3] : false;\n            if (!(!loginUrl || !httpMethod)) {\n              _context21.next = 3;\n              break;\n            }\n            throw new Error(\"Missing loginUrl or httpMethod\");\n          case 3:\n            event = getBlankEvent(27235 /* HttpAuth */);\n            event.tags = [[\"u\", loginUrl], [\"method\", httpMethod]];\n            event.created_at = Math.round(new Date().getTime() / 1e3);\n            _context21.next = 8;\n            return sign(event);\n          case 8:\n            signedEvent = _context21.sent;\n            authorizationScheme = includeAuthorizationScheme ? _authorizationScheme : \"\";\n            return _context21.abrupt(\"return\", authorizationScheme + base643.encode(_utf8Encoder.encode(JSON.stringify(signedEvent))));\n          case 11:\n          case \"end\":\n            return _context21.stop();\n        }\n      }\n    }, _callee20);\n  }));\n  return _getToken2.apply(this, arguments);\n}\nfunction _validateToken(_x24, _x25, _x26) {\n  return _validateToken2.apply(this, arguments);\n}\nfunction _validateToken2() {\n  _validateToken2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21(token, url, method) {\n    var event, valid;\n    return _regeneratorRuntime.wrap(function _callee21$(_context22) {\n      while (1) {\n        switch (_context22.prev = _context22.next) {\n          case 0:\n            _context22.next = 2;\n            return _unpackEventFromToken(token).catch(function (error) {\n              throw error;\n            });\n          case 2:\n            event = _context22.sent;\n            _context22.next = 5;\n            return validateEvent2(event, url, method).catch(function (error) {\n              throw error;\n            });\n          case 5:\n            valid = _context22.sent;\n            return _context22.abrupt(\"return\", valid);\n          case 7:\n          case \"end\":\n            return _context22.stop();\n        }\n      }\n    }, _callee21);\n  }));\n  return _validateToken2.apply(this, arguments);\n}\nfunction _unpackEventFromToken(_x27) {\n  return _unpackEventFromToken2.apply(this, arguments);\n}\nfunction _unpackEventFromToken2() {\n  _unpackEventFromToken2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee22(token) {\n    var eventB64, event;\n    return _regeneratorRuntime.wrap(function _callee22$(_context23) {\n      while (1) {\n        switch (_context23.prev = _context23.next) {\n          case 0:\n            if (token) {\n              _context23.next = 2;\n              break;\n            }\n            throw new Error(\"Missing token\");\n          case 2:\n            token = token.replace(_authorizationScheme, \"\");\n            eventB64 = _utf8Decoder.decode(base643.decode(token));\n            if (!(!eventB64 || eventB64.length === 0 || !eventB64.startsWith(\"{\"))) {\n              _context23.next = 6;\n              break;\n            }\n            throw new Error(\"Invalid token\");\n          case 6:\n            event = JSON.parse(eventB64);\n            return _context23.abrupt(\"return\", event);\n          case 8:\n          case \"end\":\n            return _context23.stop();\n        }\n      }\n    }, _callee22);\n  }));\n  return _unpackEventFromToken2.apply(this, arguments);\n}\nfunction validateEvent2(_x28, _x29, _x30) {\n  return _validateEvent.apply(this, arguments);\n}\nfunction _validateEvent() {\n  _validateEvent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee23(event, url, method) {\n    var urlTag, methodTag;\n    return _regeneratorRuntime.wrap(function _callee23$(_context24) {\n      while (1) {\n        switch (_context24.prev = _context24.next) {\n          case 0:\n            if (event) {\n              _context24.next = 2;\n              break;\n            }\n            throw new Error(\"Invalid nostr event\");\n          case 2:\n            if (verifySignature(event)) {\n              _context24.next = 4;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, signature invalid\");\n          case 4:\n            if (!(event.kind !== 27235 /* HttpAuth */)) {\n              _context24.next = 6;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, kind invalid\");\n          case 6:\n            if (event.created_at) {\n              _context24.next = 8;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, created_at invalid\");\n          case 8:\n            if (!(Math.round(new Date().getTime() / 1e3) - event.created_at > 60)) {\n              _context24.next = 10;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, expired\");\n          case 10:\n            urlTag = event.tags.find(function (t) {\n              return t[0] === \"u\";\n            });\n            if (!((urlTag === null || urlTag === void 0 ? void 0 : urlTag.length) !== 1 && (urlTag === null || urlTag === void 0 ? void 0 : urlTag[1]) !== url)) {\n              _context24.next = 13;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, url tag invalid\");\n          case 13:\n            methodTag = event.tags.find(function (t) {\n              return t[0] === \"method\";\n            });\n            if (!((methodTag === null || methodTag === void 0 ? void 0 : methodTag.length) !== 1 && (methodTag === null || methodTag === void 0 ? void 0 : methodTag[1].toLowerCase()) !== method.toLowerCase())) {\n              _context24.next = 16;\n              break;\n            }\n            throw new Error(\"Invalid nostr event, method tag invalid\");\n          case 16:\n            return _context24.abrupt(\"return\", true);\n          case 17:\n          case \"end\":\n            return _context24.stop();\n        }\n      }\n    }, _callee23);\n  }));\n  return _validateEvent.apply(this, arguments);\n}\nexport { Kind, SimplePool, eventsGenerator, finishEvent, fakejson_exports as fj, generatePrivateKey, getBlankEvent, getEventHash, getPublicKey, getSignature, matchFilter, matchFilters, mergeFilters, nip04_exports as nip04, nip05_exports as nip05, nip06_exports as nip06, nip10_exports as nip10, nip13_exports as nip13, nip18_exports as nip18, nip19_exports as nip19, nip21_exports as nip21, nip25_exports as nip25, nip26_exports as nip26, nip27_exports as nip27, nip28_exports as nip28, nip39_exports as nip39, nip42_exports as nip42, nip44_exports as nip44, nip47_exports as nip47, nip57_exports as nip57, nip98_exports as nip98, parseReferences, relayInit, serializeEvent, signEvent, utils_exports as utils, validateEvent, verifiedSymbol, verifySignature };","import _defineProperty from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/home/christian/poetry.me.uk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport \"core-js/modules/es.promise.finally.js\";\nimport { createContext, useState, useEffect, useRef, createElement, useContext, useReducer, useDebugValue, useCallback } from 'react';\nimport { atom as atom$1 } from 'jotai/vanilla';\nvar SUSPENSE_PROMISE = Symbol();\nvar isSuspensePromise = function isSuspensePromise(promise) {\n  return !!promise[SUSPENSE_PROMISE];\n};\nvar isSuspensePromiseAlreadyCancelled = function isSuspensePromiseAlreadyCancelled(suspensePromise) {\n  return !suspensePromise[SUSPENSE_PROMISE].c;\n};\nvar cancelSuspensePromise = function cancelSuspensePromise(suspensePromise) {\n  var _a;\n  var _suspensePromise$SUSP = suspensePromise[SUSPENSE_PROMISE],\n    basePromise = _suspensePromise$SUSP.b,\n    cancelPromise = _suspensePromise$SUSP.c;\n  if (cancelPromise) {\n    cancelPromise();\n    (_a = promiseAbortMap.get(basePromise)) == null ? void 0 : _a();\n  }\n};\nvar isEqualSuspensePromise = function isEqualSuspensePromise(oldSuspensePromise, newSuspensePromise) {\n  var oldOriginalPromise = oldSuspensePromise[SUSPENSE_PROMISE].o;\n  var newOriginalPromise = newSuspensePromise[SUSPENSE_PROMISE].o;\n  return oldOriginalPromise === newOriginalPromise || oldSuspensePromise === newOriginalPromise || isSuspensePromise(oldOriginalPromise) && isEqualSuspensePromise(oldOriginalPromise, newSuspensePromise);\n};\nvar createSuspensePromise = function createSuspensePromise(basePromise, promise) {\n  var suspensePromiseExtra = {\n    b: basePromise,\n    o: promise,\n    c: null\n  };\n  var suspensePromise = new Promise(function (resolve) {\n    suspensePromiseExtra.c = function () {\n      suspensePromiseExtra.c = null;\n      resolve();\n    };\n    promise.finally(suspensePromiseExtra.c);\n  });\n  suspensePromise[SUSPENSE_PROMISE] = suspensePromiseExtra;\n  return suspensePromise;\n};\nvar copySuspensePromise = function copySuspensePromise(suspensePromise) {\n  return createSuspensePromise(suspensePromise[SUSPENSE_PROMISE].b, suspensePromise[SUSPENSE_PROMISE].o);\n};\nvar promiseAbortMap = /* @__PURE__ */new WeakMap();\nvar registerPromiseAbort = function registerPromiseAbort(basePromise, abort) {\n  promiseAbortMap.set(basePromise, abort);\n};\nvar hasInitialValue = function hasInitialValue(atom) {\n  return \"init\" in atom;\n};\nvar READ_ATOM = \"r\";\nvar WRITE_ATOM = \"w\";\nvar COMMIT_ATOM = \"c\";\nvar SUBSCRIBE_ATOM = \"s\";\nvar RESTORE_ATOMS = \"h\";\nvar DEV_SUBSCRIBE_STATE = \"n\";\nvar DEV_GET_MOUNTED_ATOMS = \"l\";\nvar DEV_GET_ATOM_STATE = \"a\";\nvar DEV_GET_MOUNTED = \"m\";\nvar createStore = function createStore(initialValues) {\n  var _ref6;\n  var committedAtomStateMap = /* @__PURE__ */new WeakMap();\n  var mountedMap = /* @__PURE__ */new WeakMap();\n  var pendingMap = /* @__PURE__ */new Map();\n  var stateListeners;\n  var mountedAtoms;\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    stateListeners = /* @__PURE__ */new Set();\n    mountedAtoms = /* @__PURE__ */new Set();\n  }\n  if (initialValues) {\n    var _iterator = _createForOfIteratorHelper(initialValues),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _slicedToArray(_step.value, 2),\n          _atom2 = _step$value[0],\n          value = _step$value[1];\n        var atomState = {\n          v: value,\n          r: 0,\n          y: true,\n          // not invalidated\n          d: /* @__PURE__ */new Map()\n        };\n        if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n          Object.freeze(atomState);\n          if (!hasInitialValue(_atom2)) {\n            console.warn(\"Found initial value for derived atom which can cause unexpected behavior\", _atom2);\n          }\n        }\n        committedAtomStateMap.set(_atom2, atomState);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  var suspensePromiseCacheMap = /* @__PURE__ */new WeakMap();\n  var addSuspensePromiseToCache = function addSuspensePromiseToCache(version, atom, suspensePromise) {\n    var cache = suspensePromiseCacheMap.get(atom);\n    if (!cache) {\n      cache = /* @__PURE__ */new Map();\n      suspensePromiseCacheMap.set(atom, cache);\n    }\n    suspensePromise.then(function () {\n      if (cache.get(version) === suspensePromise) {\n        cache.delete(version);\n        if (!cache.size) {\n          suspensePromiseCacheMap.delete(atom);\n        }\n      }\n    });\n    cache.set(version, suspensePromise);\n  };\n  var cancelAllSuspensePromiseInCache = function cancelAllSuspensePromiseInCache(atom) {\n    var versionSet = /* @__PURE__ */new Set();\n    var cache = suspensePromiseCacheMap.get(atom);\n    if (cache) {\n      suspensePromiseCacheMap.delete(atom);\n      cache.forEach(function (suspensePromise, version) {\n        cancelSuspensePromise(suspensePromise);\n        versionSet.add(version);\n      });\n    }\n    return versionSet;\n  };\n  var versionedAtomStateMapMap = /* @__PURE__ */new WeakMap();\n  var getVersionedAtomStateMap = function getVersionedAtomStateMap(version) {\n    var versionedAtomStateMap = versionedAtomStateMapMap.get(version);\n    if (!versionedAtomStateMap) {\n      versionedAtomStateMap = /* @__PURE__ */new Map();\n      versionedAtomStateMapMap.set(version, versionedAtomStateMap);\n    }\n    return versionedAtomStateMap;\n  };\n  var getAtomState = function getAtomState(version, atom) {\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n      var _atomState = versionedAtomStateMap.get(atom);\n      if (!_atomState) {\n        _atomState = getAtomState(version.p, atom);\n        if (_atomState && \"p\" in _atomState && isSuspensePromiseAlreadyCancelled(_atomState.p)) {\n          _atomState = void 0;\n        }\n        if (_atomState) {\n          versionedAtomStateMap.set(atom, _atomState);\n        }\n      }\n      return _atomState;\n    }\n    return committedAtomStateMap.get(atom);\n  };\n  var setAtomState = function setAtomState(version, atom, atomState) {\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      Object.freeze(atomState);\n    }\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n      versionedAtomStateMap.set(atom, atomState);\n    } else {\n      var prevAtomState = committedAtomStateMap.get(atom);\n      committedAtomStateMap.set(atom, atomState);\n      if (!pendingMap.has(atom)) {\n        pendingMap.set(atom, prevAtomState);\n      }\n    }\n  };\n  var createReadDependencies = function createReadDependencies(version) {\n    var prevReadDependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : /* @__PURE__ */new Map();\n    var dependencies = arguments.length > 2 ? arguments[2] : undefined;\n    if (!dependencies) {\n      return prevReadDependencies;\n    }\n    var readDependencies = /* @__PURE__ */new Map();\n    var changed = false;\n    dependencies.forEach(function (atom) {\n      var _a;\n      var revision = ((_a = getAtomState(version, atom)) == null ? void 0 : _a.r) || 0;\n      readDependencies.set(atom, revision);\n      if (prevReadDependencies.get(atom) !== revision) {\n        changed = true;\n      }\n    });\n    if (prevReadDependencies.size === readDependencies.size && !changed) {\n      return prevReadDependencies;\n    }\n    return readDependencies;\n  };\n  var setAtomValue = function setAtomValue(version, atom, value, dependencies, suspensePromise) {\n    var atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (suspensePromise && (!(\"p\" in atomState) || !isEqualSuspensePromise(atomState.p, suspensePromise))) {\n        return atomState;\n      }\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n    }\n    var nextAtomState = {\n      v: value,\n      r: (atomState == null ? void 0 : atomState.r) || 0,\n      y: true,\n      // not invalidated\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    var changed = !(atomState == null ? void 0 : atomState.y);\n    if (!atomState || !(\"v\" in atomState) ||\n    // new value, or\n    !Object.is(atomState.v, value)) {\n      changed = true;\n      ++nextAtomState.r;\n      if (nextAtomState.d.has(atom)) {\n        nextAtomState.d = new Map(nextAtomState.d).set(atom, nextAtomState.r);\n      }\n    } else if (nextAtomState.d !== atomState.d && (nextAtomState.d.size !== atomState.d.size || !Array.from(nextAtomState.d.keys()).every(function (a) {\n      return atomState.d.has(a);\n    }))) {\n      changed = true;\n      Promise.resolve().then(function () {\n        flushPending(version);\n      });\n    }\n    if (atomState && !changed) {\n      return atomState;\n    }\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  var setAtomReadError = function setAtomReadError(version, atom, error, dependencies, suspensePromise) {\n    var atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (suspensePromise && (!(\"p\" in atomState) || !isEqualSuspensePromise(atomState.p, suspensePromise))) {\n        return atomState;\n      }\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n    }\n    var nextAtomState = {\n      e: error,\n      // set read error\n      r: ((atomState == null ? void 0 : atomState.r) || 0) + 1,\n      y: true,\n      // not invalidated\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  var setAtomSuspensePromise = function setAtomSuspensePromise(version, atom, suspensePromise, dependencies) {\n    var atomState = getAtomState(version, atom);\n    if (atomState && \"p\" in atomState) {\n      if (isEqualSuspensePromise(atomState.p, suspensePromise) && !isSuspensePromiseAlreadyCancelled(atomState.p)) {\n        if (!atomState.y) {\n          return _objectSpread(_objectSpread({}, atomState), {}, {\n            y: true\n          });\n        }\n        return atomState;\n      }\n      cancelSuspensePromise(atomState.p);\n    }\n    addSuspensePromiseToCache(version, atom, suspensePromise);\n    var nextAtomState = {\n      p: suspensePromise,\n      r: ((atomState == null ? void 0 : atomState.r) || 0) + 1,\n      y: true,\n      // not invalidated\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  var setAtomPromiseOrValue = function setAtomPromiseOrValue(version, atom, promiseOrValue, dependencies) {\n    if (promiseOrValue instanceof Promise) {\n      var suspensePromise = createSuspensePromise(promiseOrValue, promiseOrValue.then(function (value) {\n        setAtomValue(version, atom, value, dependencies, suspensePromise);\n      }).catch(function (e) {\n        if (e instanceof Promise) {\n          if (isSuspensePromise(e)) {\n            return e.then(function () {\n              readAtomState(version, atom, true);\n            });\n          }\n          return e;\n        }\n        setAtomReadError(version, atom, e, dependencies, suspensePromise);\n      }));\n      return setAtomSuspensePromise(version, atom, suspensePromise, dependencies);\n    }\n    return setAtomValue(version, atom, promiseOrValue, dependencies);\n  };\n  var setAtomInvalidated = function setAtomInvalidated(version, atom) {\n    var atomState = getAtomState(version, atom);\n    if (atomState) {\n      var nextAtomState = _objectSpread(_objectSpread({}, atomState), {}, {\n        // copy everything\n        y: false\n        // invalidated\n      });\n\n      setAtomState(version, atom, nextAtomState);\n    } else if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      console.warn(\"[Bug] could not invalidate non existing atom\", atom);\n    }\n  };\n  var readAtomState = function readAtomState(version, atom, force) {\n    if (!force) {\n      var _atomState2 = getAtomState(version, atom);\n      if (_atomState2) {\n        if (_atomState2.y &&\n        // not invalidated\n        \"p\" in _atomState2 && !isSuspensePromiseAlreadyCancelled(_atomState2.p)) {\n          return _atomState2;\n        }\n        _atomState2.d.forEach(function (_, a) {\n          if (a !== atom) {\n            if (!mountedMap.has(a)) {\n              readAtomState(version, a);\n            } else {\n              var aState = getAtomState(version, a);\n              if (aState && !aState.y) {\n                readAtomState(version, a);\n              }\n            }\n          }\n        });\n        if (Array.from(_atomState2.d).every(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n            a = _ref2[0],\n            r = _ref2[1];\n          var aState = getAtomState(version, a);\n          return aState && !(\"p\" in aState) &&\n          // has no suspense promise\n          aState.r === r;\n        })) {\n          if (!_atomState2.y) {\n            return _objectSpread(_objectSpread({}, _atomState2), {}, {\n              y: true\n            });\n          }\n          return _atomState2;\n        }\n      }\n    }\n    var dependencies = /* @__PURE__ */new Set();\n    try {\n      var promiseOrValue = atom.read(function (a) {\n        dependencies.add(a);\n        var aState = a === atom ? getAtomState(version, a) : readAtomState(version, a);\n        if (aState) {\n          if (\"e\" in aState) {\n            throw aState.e;\n          }\n          if (\"p\" in aState) {\n            throw aState.p;\n          }\n          return aState.v;\n        }\n        if (hasInitialValue(a)) {\n          return a.init;\n        }\n        throw new Error(\"no atom init\");\n      });\n      return setAtomPromiseOrValue(version, atom, promiseOrValue, dependencies);\n    } catch (errorOrPromise) {\n      if (errorOrPromise instanceof Promise) {\n        var suspensePromise = isSuspensePromise(errorOrPromise) && isSuspensePromiseAlreadyCancelled(errorOrPromise) ? copySuspensePromise(errorOrPromise) : createSuspensePromise(errorOrPromise, errorOrPromise);\n        return setAtomSuspensePromise(version, atom, suspensePromise, dependencies);\n      }\n      return setAtomReadError(version, atom, errorOrPromise, dependencies);\n    }\n  };\n  var readAtom = function readAtom(readingAtom, version) {\n    var atomState = readAtomState(version, readingAtom);\n    return atomState;\n  };\n  var addAtom = function addAtom(version, addingAtom) {\n    var mounted = mountedMap.get(addingAtom);\n    if (!mounted) {\n      mounted = mountAtom(version, addingAtom);\n    }\n    return mounted;\n  };\n  var canUnmountAtom = function canUnmountAtom(atom, mounted) {\n    return !mounted.l.size && (!mounted.t.size || mounted.t.size === 1 && mounted.t.has(atom));\n  };\n  var delAtom = function delAtom(version, deletingAtom) {\n    var mounted = mountedMap.get(deletingAtom);\n    if (mounted && canUnmountAtom(deletingAtom, mounted)) {\n      unmountAtom(version, deletingAtom);\n    }\n  };\n  var invalidateDependents = function invalidateDependents(version, atom) {\n    var mounted = mountedMap.get(atom);\n    mounted == null ? void 0 : mounted.t.forEach(function (dependent) {\n      if (dependent !== atom) {\n        setAtomInvalidated(version, dependent);\n        invalidateDependents(version, dependent);\n      }\n    });\n  };\n  var writeAtomState = function writeAtomState(version, atom, update) {\n    var isSync = true;\n    var writeGetter = function writeGetter(a, options) {\n      var aState = readAtomState(version, a);\n      if (\"e\" in aState) {\n        throw aState.e;\n      }\n      if (\"p\" in aState) {\n        if (options == null ? void 0 : options.unstable_promise) {\n          return aState.p.then(function () {\n            var s = getAtomState(version, a);\n            if (s && \"p\" in s && s.p === aState.p) {\n              return new Promise(function (resolve) {\n                return setTimeout(resolve);\n              }).then(function () {\n                return writeGetter(a, options);\n              });\n            }\n            return writeGetter(a, options);\n          });\n        }\n        if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n          console.info(\"Reading pending atom state in write operation. We throw a promise for now.\", a);\n        }\n        throw aState.p;\n      }\n      if (\"v\" in aState) {\n        return aState.v;\n      }\n      if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n        console.warn(\"[Bug] no value found while reading atom in write operation. This is probably a bug.\", a);\n      }\n      throw new Error(\"no value found\");\n    };\n    var setter = function setter(a, v) {\n      var promiseOrVoid2;\n      if (a === atom) {\n        if (!hasInitialValue(a)) {\n          throw new Error(\"atom not writable\");\n        }\n        var versionSet = cancelAllSuspensePromiseInCache(a);\n        versionSet.forEach(function (cancelledVersion) {\n          if (cancelledVersion !== version) {\n            setAtomPromiseOrValue(cancelledVersion, a, v);\n          }\n        });\n        var prevAtomState = getAtomState(version, a);\n        var nextAtomState = setAtomPromiseOrValue(version, a, v);\n        if (prevAtomState !== nextAtomState) {\n          invalidateDependents(version, a);\n        }\n      } else {\n        promiseOrVoid2 = writeAtomState(version, a, v);\n      }\n      if (!isSync) {\n        flushPending(version);\n      }\n      return promiseOrVoid2;\n    };\n    var promiseOrVoid = atom.write(writeGetter, setter, update);\n    isSync = false;\n    return promiseOrVoid;\n  };\n  var writeAtom = function writeAtom(writingAtom, update, version) {\n    var promiseOrVoid = writeAtomState(version, writingAtom, update);\n    flushPending(version);\n    return promiseOrVoid;\n  };\n  var isActuallyWritableAtom = function isActuallyWritableAtom(atom) {\n    return !!atom.write;\n  };\n  var mountAtom = function mountAtom(version, atom, initialDependent) {\n    var mounted = {\n      t: new Set(initialDependent && [initialDependent]),\n      l: /* @__PURE__ */new Set()\n    };\n    mountedMap.set(atom, mounted);\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      mountedAtoms.add(atom);\n    }\n    var atomState = readAtomState(void 0, atom);\n    atomState.d.forEach(function (_, a) {\n      var aMounted = mountedMap.get(a);\n      if (aMounted) {\n        aMounted.t.add(atom);\n      } else {\n        if (a !== atom) {\n          mountAtom(version, a, atom);\n        }\n      }\n    });\n    if (isActuallyWritableAtom(atom) && atom.onMount) {\n      var setAtom = function setAtom(update) {\n        return writeAtom(atom, update, version);\n      };\n      var onUnmount = atom.onMount(setAtom);\n      version = void 0;\n      if (onUnmount) {\n        mounted.u = onUnmount;\n      }\n    }\n    return mounted;\n  };\n  var unmountAtom = function unmountAtom(version, atom) {\n    var _a;\n    var onUnmount = (_a = mountedMap.get(atom)) == null ? void 0 : _a.u;\n    if (onUnmount) {\n      onUnmount();\n    }\n    mountedMap.delete(atom);\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      mountedAtoms.delete(atom);\n    }\n    var atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n      atomState.d.forEach(function (_, a) {\n        if (a !== atom) {\n          var mounted = mountedMap.get(a);\n          if (mounted) {\n            mounted.t.delete(atom);\n            if (canUnmountAtom(a, mounted)) {\n              unmountAtom(version, a);\n            }\n          }\n        }\n      });\n    } else if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      console.warn(\"[Bug] could not find atom state to unmount\", atom);\n    }\n  };\n  var mountDependencies = function mountDependencies(version, atom, atomState, prevReadDependencies) {\n    var dependencies = new Set(atomState.d.keys());\n    prevReadDependencies == null ? void 0 : prevReadDependencies.forEach(function (_, a) {\n      if (dependencies.has(a)) {\n        dependencies.delete(a);\n        return;\n      }\n      var mounted = mountedMap.get(a);\n      if (mounted) {\n        mounted.t.delete(atom);\n        if (canUnmountAtom(a, mounted)) {\n          unmountAtom(version, a);\n        }\n      }\n    });\n    dependencies.forEach(function (a) {\n      var mounted = mountedMap.get(a);\n      if (mounted) {\n        mounted.t.add(atom);\n      } else if (mountedMap.has(atom)) {\n        mountAtom(version, a, atom);\n      }\n    });\n  };\n  var flushPending = function flushPending(version) {\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n      versionedAtomStateMap.forEach(function (atomState, atom) {\n        var committedAtomState = committedAtomStateMap.get(atom);\n        if (atomState !== committedAtomState) {\n          var mounted = mountedMap.get(atom);\n          mounted == null ? void 0 : mounted.l.forEach(function (listener) {\n            return listener(version);\n          });\n        }\n      });\n      return;\n    }\n    while (pendingMap.size) {\n      var pending = Array.from(pendingMap);\n      pendingMap.clear();\n      pending.forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n          atom = _ref4[0],\n          prevAtomState = _ref4[1];\n        var atomState = getAtomState(void 0, atom);\n        if (atomState && atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n          mountDependencies(void 0, atom, atomState, prevAtomState == null ? void 0 : prevAtomState.d);\n        }\n        if (prevAtomState && !prevAtomState.y && (\n        // invalidated\n        atomState == null ? void 0 : atomState.y)) {\n          return;\n        }\n        var mounted = mountedMap.get(atom);\n        mounted == null ? void 0 : mounted.l.forEach(function (listener) {\n          return listener();\n        });\n      });\n    }\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      stateListeners.forEach(function (l) {\n        return l();\n      });\n    }\n  };\n  var commitVersionedAtomStateMap = function commitVersionedAtomStateMap(version) {\n    var versionedAtomStateMap = getVersionedAtomStateMap(version);\n    versionedAtomStateMap.forEach(function (atomState, atom) {\n      var prevAtomState = committedAtomStateMap.get(atom);\n      if (!prevAtomState || atomState.r > prevAtomState.r || atomState.y !== prevAtomState.y || atomState.r === prevAtomState.r && atomState.d !== prevAtomState.d) {\n        committedAtomStateMap.set(atom, atomState);\n        if (atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n          mountDependencies(version, atom, atomState, prevAtomState == null ? void 0 : prevAtomState.d);\n        }\n      }\n    });\n  };\n  var commitAtom = function commitAtom(_atom, version) {\n    if (version) {\n      commitVersionedAtomStateMap(version);\n    }\n    flushPending(void 0);\n  };\n  var subscribeAtom = function subscribeAtom(atom, callback, version) {\n    var mounted = addAtom(version, atom);\n    var listeners = mounted.l;\n    listeners.add(callback);\n    return function () {\n      listeners.delete(callback);\n      delAtom(version, atom);\n    };\n  };\n  var restoreAtoms = function restoreAtoms(values, version) {\n    var _iterator2 = _createForOfIteratorHelper(values),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _step2$value = _slicedToArray(_step2.value, 2),\n          _atom3 = _step2$value[0],\n          _value = _step2$value[1];\n        if (hasInitialValue(_atom3)) {\n          setAtomPromiseOrValue(version, _atom3, _value);\n          invalidateDependents(version, _atom3);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    flushPending(version);\n  };\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    var _ref5;\n    return _ref5 = {}, _defineProperty(_ref5, READ_ATOM, readAtom), _defineProperty(_ref5, WRITE_ATOM, writeAtom), _defineProperty(_ref5, COMMIT_ATOM, commitAtom), _defineProperty(_ref5, SUBSCRIBE_ATOM, subscribeAtom), _defineProperty(_ref5, RESTORE_ATOMS, restoreAtoms), _defineProperty(_ref5, DEV_SUBSCRIBE_STATE, function (l) {\n      stateListeners.add(l);\n      return function () {\n        stateListeners.delete(l);\n      };\n    }), _defineProperty(_ref5, DEV_GET_MOUNTED_ATOMS, function () {\n      return mountedAtoms.values();\n    }), _defineProperty(_ref5, DEV_GET_ATOM_STATE, function (a) {\n      return committedAtomStateMap.get(a);\n    }), _defineProperty(_ref5, DEV_GET_MOUNTED, function (a) {\n      return mountedMap.get(a);\n    }), _ref5;\n  }\n  return _ref6 = {}, _defineProperty(_ref6, READ_ATOM, readAtom), _defineProperty(_ref6, WRITE_ATOM, writeAtom), _defineProperty(_ref6, COMMIT_ATOM, commitAtom), _defineProperty(_ref6, SUBSCRIBE_ATOM, subscribeAtom), _defineProperty(_ref6, RESTORE_ATOMS, restoreAtoms), _ref6;\n};\nvar createStoreForExport = function createStoreForExport(initialValues) {\n  var store = createStore(initialValues);\n  var get = function get(atom) {\n    var atomState = store[READ_ATOM](atom);\n    if (\"e\" in atomState) {\n      throw atomState.e;\n    }\n    if (\"p\" in atomState) {\n      return void 0;\n    }\n    return atomState.v;\n  };\n  var asyncGet = function asyncGet(atom) {\n    return new Promise(function (resolve, reject) {\n      var atomState = store[READ_ATOM](atom);\n      if (\"e\" in atomState) {\n        reject(atomState.e);\n      } else if (\"p\" in atomState) {\n        resolve(atomState.p.then(function () {\n          return asyncGet(atom);\n        }));\n      } else {\n        resolve(atomState.v);\n      }\n    });\n  };\n  var set = function set(atom, update) {\n    return store[WRITE_ATOM](atom, update);\n  };\n  var sub = function sub(atom, callback) {\n    return store[SUBSCRIBE_ATOM](atom, callback);\n  };\n  return {\n    get: get,\n    asyncGet: asyncGet,\n    set: set,\n    sub: sub,\n    SECRET_INTERNAL_store: store\n  };\n};\nvar createScopeContainer = function createScopeContainer(initialValues, unstable_createStore) {\n  var store = unstable_createStore ? unstable_createStore(initialValues).SECRET_INTERNAL_store : createStore(initialValues);\n  return {\n    s: store\n  };\n};\nvar ScopeContextMap = /* @__PURE__ */new Map();\nvar getScopeContext = function getScopeContext(scope) {\n  if (!ScopeContextMap.has(scope)) {\n    ScopeContextMap.set(scope, createContext(createScopeContainer()));\n  }\n  return ScopeContextMap.get(scope);\n};\nvar Provider = function Provider(_ref7) {\n  var children = _ref7.children,\n    initialValues = _ref7.initialValues,\n    scope = _ref7.scope,\n    unstable_createStore = _ref7.unstable_createStore,\n    unstable_enableVersionedWrite = _ref7.unstable_enableVersionedWrite;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    version = _useState2[0],\n    setVersion = _useState2[1];\n  useEffect(function () {\n    var scopeContainer = scopeContainerRef.current;\n    if (scopeContainer.w) {\n      scopeContainer.s[COMMIT_ATOM](null, version);\n      delete version.p;\n      scopeContainer.v = version;\n    }\n  }, [version]);\n  var scopeContainerRef = useRef();\n  if (!scopeContainerRef.current) {\n    var scopeContainer = createScopeContainer(initialValues, unstable_createStore);\n    if (unstable_enableVersionedWrite) {\n      var retrying = 0;\n      scopeContainer.w = function (write) {\n        setVersion(function (parentVersion) {\n          var nextVersion = retrying ? parentVersion : {\n            p: parentVersion\n          };\n          write(nextVersion);\n          return nextVersion;\n        });\n      };\n      scopeContainer.v = version;\n      scopeContainer.r = function (fn) {\n        ++retrying;\n        fn();\n        --retrying;\n      };\n    }\n    scopeContainerRef.current = scopeContainer;\n  }\n  var ScopeContainerContext = getScopeContext(scope);\n  return createElement(ScopeContainerContext.Provider, {\n    value: scopeContainerRef.current\n  }, children);\n};\nfunction atom(read, write) {\n  return atom$1(read, write);\n}\nfunction useAtomValue(atom, scope) {\n  var ScopeContext = getScopeContext(scope);\n  var scopeContainer = useContext(ScopeContext);\n  var store = scopeContainer.s,\n    versionFromProvider = scopeContainer.v;\n  var getAtomValue = function getAtomValue(version2) {\n    var atomState = store[READ_ATOM](atom, version2);\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\" && !atomState.y) {\n      throw new Error(\"should not be invalidated\");\n    }\n    if (\"e\" in atomState) {\n      throw atomState.e;\n    }\n    if (\"p\" in atomState) {\n      throw atomState.p;\n    }\n    if (\"v\" in atomState) {\n      return atomState.v;\n    }\n    throw new Error(\"no atom value\");\n  };\n  var _useReducer = useReducer(function (prev, nextVersion) {\n      var nextValue = getAtomValue(nextVersion);\n      if (Object.is(prev[1], nextValue) && prev[2] === atom) {\n        return prev;\n      }\n      return [nextVersion, nextValue, atom];\n    }, versionFromProvider, function (initialVersion) {\n      var initialValue = getAtomValue(initialVersion);\n      return [initialVersion, initialValue, atom];\n    }),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    _useReducer2$ = _slicedToArray(_useReducer2[0], 3),\n    version = _useReducer2$[0],\n    valueFromReducer = _useReducer2$[1],\n    atomFromReducer = _useReducer2$[2],\n    rerenderIfChanged = _useReducer2[1];\n  var value = valueFromReducer;\n  if (atomFromReducer !== atom) {\n    rerenderIfChanged(version);\n    value = getAtomValue(version);\n  }\n  useEffect(function () {\n    var versionFromProvider2 = scopeContainer.v;\n    if (versionFromProvider2) {\n      store[COMMIT_ATOM](atom, versionFromProvider2);\n    }\n    var unsubscribe = store[SUBSCRIBE_ATOM](atom, rerenderIfChanged, versionFromProvider2);\n    rerenderIfChanged(versionFromProvider2);\n    return unsubscribe;\n  }, [store, atom, scopeContainer]);\n  useEffect(function () {\n    store[COMMIT_ATOM](atom, version);\n  });\n  useDebugValue(value);\n  return value;\n}\nfunction useSetAtom(atom, scope) {\n  var ScopeContext = getScopeContext(scope);\n  var _useContext = useContext(ScopeContext),\n    store = _useContext.s,\n    versionedWrite = _useContext.w;\n  var setAtom = useCallback(function (update) {\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\" && !(\"write\" in atom)) {\n      throw new Error(\"not writable atom\");\n    }\n    var write = function write(version) {\n      return store[WRITE_ATOM](atom, update, version);\n    };\n    return versionedWrite ? versionedWrite(write) : write();\n  }, [store, versionedWrite, atom]);\n  return setAtom;\n}\nfunction useAtom(atom, scope) {\n  if (\"scope\" in atom) {\n    console.warn(\"atom.scope is deprecated. Please do useAtom(atom, scope) instead.\");\n    scope = atom.scope;\n  }\n  return [useAtomValue(atom, scope),\n  // We do wrong type assertion here, which results in throwing an error.\n  useSetAtom(atom, scope)];\n}\nexport { Provider, getScopeContext as SECRET_INTERNAL_getScopeContext, registerPromiseAbort as SECRET_INTERNAL_registerPromiseAbort, atom, createStoreForExport as unstable_createStore, useAtom, useAtomValue, useSetAtom };","import { jsx } from 'react/jsx-runtime';\nimport { useState, useRef, useCallback, useEffect, useContext, createContext } from 'react';\nimport { relayInit, nip19 } from 'nostr-tools';\nimport { useAtom, atom } from 'jotai';\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar uniqBy = function uniqBy(arr, key) {\n  return Object.values(arr.reduce(function (map, item) {\n    var _extends2;\n    return _extends({}, map, (_extends2 = {}, _extends2[\"\" + item[key]] = item, _extends2));\n  }, {}));\n};\nvar uniqValues = function uniqValues(value, index, self) {\n  return self.indexOf(value) === index;\n};\nvar dateToUnix = function dateToUnix(_date) {\n  var date = _date || new Date();\n  return Math.floor(date.getTime() / 1000);\n};\nvar NostrContext = /*#__PURE__*/createContext({\n  isLoading: true,\n  connectedRelays: [],\n  onConnect: function onConnect() {\n    return null;\n  },\n  onDisconnect: function onDisconnect() {\n    return null;\n  },\n  publish: function publish() {\n    return null;\n  }\n});\nvar log = function log(isOn, type) {\n  var _console;\n  if (!isOn) return;\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n  (_console = console)[type].apply(_console, args);\n};\nfunction NostrProvider(_ref) {\n  var children = _ref.children,\n    relayUrls = _ref.relayUrls,\n    debug = _ref.debug;\n  var _useState = useState(true),\n    isLoading = _useState[0],\n    setIsLoading = _useState[1];\n  var _useState2 = useState([]),\n    connectedRelays = _useState2[0],\n    setConnectedRelays = _useState2[1];\n  var _useState3 = useState([]),\n    relays = _useState3[0],\n    setRelays = _useState3[1];\n  var relayUrlsRef = useRef([]);\n  var onConnectCallback = null;\n  var onDisconnectCallback = null;\n  var disconnectToRelays = useCallback(function (relayUrls) {\n    relayUrls.forEach( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(relayUrl) {\n        var _relays$find;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (_relays$find = relays.find(function (relay) {\n                  return relay.url === relayUrl;\n                })) == null ? void 0 : _relays$find.close();\n              case 2:\n                setRelays(function (prev) {\n                  return prev.filter(function (r) {\n                    return r.url !== relayUrl;\n                  });\n                });\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }, [relays]);\n  var connectToRelays = useCallback(function (relayUrls) {\n    relayUrls.forEach( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(relayUrl) {\n        var relay;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                relay = relayInit(relayUrl);\n                if (!(connectedRelays.findIndex(function (r) {\n                  return r.url === relayUrl;\n                }) >= 0)) {\n                  _context2.next = 3;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 3:\n                setRelays(function (prev) {\n                  return uniqBy([].concat(prev, [relay]), \"url\");\n                });\n                relay.connect();\n                relay.on(\"connect\", function () {\n                  log(debug, \"info\", \"\\u2705 nostr (\" + relayUrl + \"): Connected!\");\n                  setIsLoading(false);\n                  onConnectCallback == null ? void 0 : onConnectCallback(relay);\n                  setConnectedRelays(function (prev) {\n                    return uniqBy([].concat(prev, [relay]), \"url\");\n                  });\n                });\n                relay.on(\"disconnect\", function () {\n                  log(debug, \"warn\", \"\\uD83D\\uDEAA nostr (\" + relayUrl + \"): Connection closed.\");\n                  onDisconnectCallback == null ? void 0 : onDisconnectCallback(relay);\n                  setConnectedRelays(function (prev) {\n                    return prev.filter(function (r) {\n                      return r.url !== relayUrl;\n                    });\n                  });\n                });\n                relay.on(\"error\", function () {\n                  log(debug, \"error\", \"\\u274C nostr (\" + relayUrl + \"): Connection error!\");\n                });\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  }, [connectedRelays, debug, onConnectCallback, onDisconnectCallback]);\n  useEffect(function () {\n    if (relayUrlsRef.current === relayUrls) {\n      // relayUrls isn't updated, skip\n      return;\n    }\n    var relayUrlsToDisconnect = relayUrlsRef.current.filter(function (relayUrl) {\n      return !relayUrls.includes(relayUrl);\n    });\n    disconnectToRelays(relayUrlsToDisconnect);\n    connectToRelays(relayUrls);\n    relayUrlsRef.current = relayUrls;\n  }, [relayUrls, connectToRelays, disconnectToRelays]);\n  var publish = function publish(event) {\n    return connectedRelays.map(function (relay) {\n      log(debug, \"info\", \"\\u2B06\\uFE0F nostr (\" + relay.url + \"): Sending event:\", event);\n      return relay.publish(event);\n    });\n  };\n  var value = {\n    debug: debug,\n    isLoading: isLoading,\n    connectedRelays: connectedRelays,\n    publish: publish,\n    onConnect: function onConnect(_onConnectCallback) {\n      if (_onConnectCallback) {\n        onConnectCallback = _onConnectCallback;\n      }\n    },\n    onDisconnect: function onDisconnect(_onDisconnectCallback) {\n      if (_onDisconnectCallback) {\n        onDisconnectCallback = _onDisconnectCallback;\n      }\n    }\n  };\n  return jsx(NostrContext.Provider, {\n    value: value,\n    children: children\n  });\n}\nfunction useNostr() {\n  return useContext(NostrContext);\n}\nfunction useNostrEvents(_ref4) {\n  var filter = _ref4.filter,\n    _ref4$enabled = _ref4.enabled,\n    enabled = _ref4$enabled === void 0 ? true : _ref4$enabled;\n  var _useNostr = useNostr(),\n    isLoadingProvider = _useNostr.isLoading,\n    onConnect = _useNostr.onConnect,\n    debug = _useNostr.debug,\n    connectedRelays = _useNostr.connectedRelays;\n  var _useState4 = useState(true),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState([]),\n    events = _useState5[0],\n    setEvents = _useState5[1];\n  var _useState6 = useState(function () {\n      return;\n    }),\n    unsubscribe = _useState6[0],\n    setUnsubscribe = _useState6[1];\n  var onEventCallback = null;\n  var onSubscribeCallback = null;\n  var onDoneCallback = null;\n  // Lets us detect changes in the nested filter object for the useEffect hook\n  var filterBase64 = typeof window !== \"undefined\" ? window.btoa(JSON.stringify(filter)) : null;\n  var _unsubscribe = function _unsubscribe(sub, relay) {\n    log(debug, \"info\", \"\\uD83D\\uDE49 nostr (\" + relay.url + \"): Unsubscribing from filter:\", filter);\n    return sub.unsub();\n  };\n  var subscribe = useCallback(function (relay, filter) {\n    log(debug, \"info\", \"\\uD83D\\uDC42 nostr (\" + relay.url + \"): Subscribing to filter:\", filter);\n    var sub = relay.sub([filter]);\n    setIsLoading(true);\n    var unsubscribeFunc = function unsubscribeFunc() {\n      _unsubscribe(sub, relay);\n    };\n    setUnsubscribe(function () {\n      return unsubscribeFunc;\n    });\n    sub.on(\"event\", function (event) {\n      log(debug, \"info\", \"\\u2B07\\uFE0F nostr (\" + relay.url + \"): Received event:\", event);\n      onEventCallback == null ? void 0 : onEventCallback(event);\n      setEvents(function (_events) {\n        return [event].concat(_events);\n      });\n    });\n    sub.on(\"eose\", function () {\n      setIsLoading(false);\n      onDoneCallback == null ? void 0 : onDoneCallback();\n    });\n    return sub;\n  }, []);\n  useEffect(function () {\n    if (!enabled) return;\n    var relaySubs = connectedRelays.map(function (relay) {\n      var sub = subscribe(relay, filter);\n      onSubscribeCallback == null ? void 0 : onSubscribeCallback(sub, relay);\n      return {\n        sub: sub,\n        relay: relay\n      };\n    });\n    return function () {\n      relaySubs.forEach(function (_ref5) {\n        var sub = _ref5.sub,\n          relay = _ref5.relay;\n        _unsubscribe(sub, relay);\n      });\n    };\n  }, [connectedRelays, filterBase64, enabled]);\n  var uniqEvents = events.length > 0 ? uniqBy(events, \"id\") : [];\n  var sortedEvents = uniqEvents.sort(function (a, b) {\n    return b.created_at - a.created_at;\n  });\n  return {\n    isLoading: isLoading || isLoadingProvider,\n    events: sortedEvents,\n    onConnect: onConnect,\n    connectedRelays: connectedRelays,\n    unsubscribe: unsubscribe,\n    onSubscribe: function onSubscribe(_onSubscribeCallback) {\n      if (_onSubscribeCallback) {\n        onSubscribeCallback = _onSubscribeCallback;\n      }\n    },\n    onEvent: function onEvent(_onEventCallback) {\n      if (_onEventCallback) {\n        onEventCallback = _onEventCallback;\n      }\n    },\n    onDone: function onDone(_onDoneCallback) {\n      if (_onDoneCallback) {\n        onDoneCallback = _onDoneCallback;\n      }\n    }\n  };\n}\nvar QUEUE_DEBOUNCE_DURATION = 100;\nvar timer = undefined;\nvar queuedPubkeysAtom = /*#__PURE__*/atom([]);\nvar requestedPubkeysAtom = /*#__PURE__*/atom([]);\nvar fetchedProfilesAtom = /*#__PURE__*/atom({});\nfunction useProfileQueue(_ref) {\n  var pubkey = _ref.pubkey;\n  var _useState = useState(false),\n    isReadyToFetch = _useState[0],\n    setIsReadyToFetch = _useState[1];\n  var _useAtom = useAtom(queuedPubkeysAtom),\n    queuedPubkeys = _useAtom[0],\n    setQueuedPubkeys = _useAtom[1];\n  var _useAtom2 = useAtom(requestedPubkeysAtom),\n    requestedPubkeys = _useAtom2[0];\n  var alreadyRequested = !!requestedPubkeys.includes(pubkey);\n  useEffect(function () {\n    if (alreadyRequested) {\n      return;\n    }\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      setIsReadyToFetch(true);\n    }, QUEUE_DEBOUNCE_DURATION);\n    setQueuedPubkeys(function (_pubkeys) {\n      // Unique values only:\n      var arr = [].concat(_pubkeys, [pubkey]).filter(uniqValues).filter(function (_pubkey) {\n        return !requestedPubkeys.includes(_pubkey);\n      });\n      return arr;\n    });\n  }, [pubkey, setQueuedPubkeys, alreadyRequested, requestedPubkeys]);\n  return {\n    pubkeysToFetch: isReadyToFetch ? queuedPubkeys : []\n  };\n}\nfunction useProfile(_ref2) {\n  var pubkey = _ref2.pubkey,\n    _ref2$enabled = _ref2.enabled,\n    _enabled = _ref2$enabled === void 0 ? true : _ref2$enabled;\n  var _useAtom3 = useAtom(requestedPubkeysAtom),\n    setRequestedPubkeys = _useAtom3[1];\n  var _useProfileQueue = useProfileQueue({\n      pubkey: pubkey\n    }),\n    pubkeysToFetch = _useProfileQueue.pubkeysToFetch;\n  var enabled = _enabled && !!pubkeysToFetch.length;\n  var _useAtom4 = useAtom(fetchedProfilesAtom),\n    fetchedProfiles = _useAtom4[0],\n    setFetchedProfiles = _useAtom4[1];\n  var _useNostrEvents = useNostrEvents({\n      filter: {\n        kinds: [0],\n        authors: pubkeysToFetch\n      },\n      enabled: enabled\n    }),\n    onEvent = _useNostrEvents.onEvent,\n    onSubscribe = _useNostrEvents.onSubscribe,\n    isLoading = _useNostrEvents.isLoading,\n    onDone = _useNostrEvents.onDone;\n  onSubscribe(function () {\n    // Reset list\n    // (We've already opened a subscription to these pubkeys now)\n    setRequestedPubkeys(function (_pubkeys) {\n      return [].concat(_pubkeys, pubkeysToFetch).filter(uniqValues);\n    });\n  });\n  onEvent(function (rawMetadata) {\n    try {\n      var _metadata = JSON.parse(rawMetadata.content);\n      var metaPubkey = rawMetadata.pubkey;\n      if (_metadata) {\n        setFetchedProfiles(function (_profiles) {\n          var _extends2;\n          return _extends({}, _profiles, (_extends2 = {}, _extends2[metaPubkey] = _metadata, _extends2));\n        });\n      }\n    } catch (err) {\n      console.error(err, rawMetadata);\n    }\n  });\n  var metadata = fetchedProfiles[pubkey];\n  var npub = nip19.npubEncode(pubkey);\n  return {\n    isLoading: isLoading,\n    onDone: onDone,\n    data: metadata ? _extends({}, metadata, {\n      npub: npub\n    }) : undefined\n  };\n}\nexport { NostrProvider, dateToUnix, uniqBy, uniqValues, useNostr, useNostrEvents, useProfile };","export default __webpack_public_path__ + \"static/nostr-45d72f007aea3c26a601cd0e3c891e49.png\";","import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'gatsby';\nimport Layout from '../components/layout';\nimport YouTube from '../images/youtube.png';\nimport Email from '../images/email.png';\nimport SEO from '../components/seo'\n//import { relayInit } from 'nostr';\n//import { SimplePool } from 'nostr-tools/pool';\nimport { NostrProvider, useNostrEvents, dateToUnix } from 'nostr-react';\nimport NOSTR_IMG from '../images/nostr.png';\n\nconst Note = ({ content, created_at, id, kind, pubkey, sig, tags }) => {\n    // Extract image URLs from tags\n    const imageTags = tags.filter(tag => tag[0] === 'r');\n    const imageUrls = imageTags.map(tag => tag[1]);\n//<div className=\"note-pubkey\">{pubkey}</div>\n    return (\n        <div className=\"note\" key={id}>\n            <div className=\"note-header\">\n                <div className=\"note-date\">{new Date(created_at * 1000).toLocaleString()}</div>\n            </div>\n            <div className=\"note-content\">{content}</div>\n            <div className=\"note-images\">\n                {imageUrls.map((url, index) => (\n                    <img src={url} alt={`Note Image ${index + 1}`} key={index} className=\"note-image\"/>\n                ))}\n            </div>\n        </div>\n    );\n};\n\n\nconst publicKey = \"0a69cf2560597cd4dfff9a75f40261d902a91b139cdacea10d54a52b43219250\";\n//const publicKey = \"npub1pf5u7ftqt97dfhllnf6lgqnpmyp2jxcnnndvaggd2jjjksepjfgqwrpnfw\";\n\nconst relays = [\n        'wss://relay.damus.io',\n        'wss://nostr-pub.wellorder.net',\n\t\"wss://relay.nostr.bg\",\n\t\"wss://nos.lol\",\n    ];\n\n\n\n/*async function fetchRecentNotes(publicKey, callback ) {\n\n    const relays = [\n        'wss://relay.damus.io',\n        'wss://nostr-pub.wellorder.net',\n\t\"wss://relay.nostr.bg\",\n\t\"wss://nos.lol\",\n    ];\n\n    const pool = new SimplePool();\n    const subscriptionTimeout = 6000; // 10 seconds\n\n    let notes = [];\n\n    let h = pool.subscribeMany(\n        relays,\n        [\n            {\n                kinds: [1],\n                authors: [publicKey]\n            }\n        ],\n        {\n            onevent(event) {\n                if (event.pubkey === publicKey && event.kind === 1 && !event.tags.some(tag => tag[0] === 'e')) {\n                    if (!notes.some(note => note.id === event.id)) {\n                        notes.push(event);\n                    }\n                }\n\n                // Limit to 10 notes\n                if (notes.length >= 10) {\n                    h.close();\n                }\n            },\n            oneose() {\n                h.close();\n            }\n        }\n    );\n\n    // Cancel the subscription after 10 seconds\n    setTimeout(() => {\n        h.close();\n        console.log('Subscription canceled after 10 seconds.');\n        console.log('Fetched notes:', notes);\n\tcallback( notes );\n    }, subscriptionTimeout);\n}*/\n\nconst getTwoMonthsAgoTimestamp = () => {\n  const now = new Date();\n  now.setMonth(now.getMonth() - 2);\n  return now;//Math.floor(now.getTime() / 1000); // Convert to Unix timestamp\n};\n\nconst ProfileFeed = ( props ) => {\n  \tconst now = useRef( getTwoMonthsAgoTimestamp() );\n\tconst { events } = useNostrEvents({\n\t\tfilter: {\n\t\t\tauthors: [publicKey],\n\t\t\tsince: dateToUnix(now.current),\n\t\t\tkinds:[1]\n\t\t}\n\t})\n\tconst filtered = events.filter(event => {\n\t\treturn !event.tags.some(tag => tag[0] === 'e' );\n\t});\n\t\n\treturn (\n    \t\t<div style={{padding:`0 2em`}}>\n\t\t<FeedHeader email={ \"c.lacdael@poetry.me.uk\" }\n\t\t\tpublicKey={\"npub1pf5u7ftqt97dfhllnf6lgqnpmyp2jxcnnndvaggd2jjjksepjfgqwrpnfw\"} />\n\t\t{ ( filtered.length == 0 ) ? <p>Fetching NoStr posts ...</p>\n\t\t: filtered.map( (e,i) => <Note key={e.id} {...e} />  ) }\n\t\t</div>\n\t  );\n};\n\n\n\n\n\nconst FeedHeader = ({ email, publicKey }) => {\n    const copyToClipboard = (text) => {\n        navigator.clipboard.writeText(text).then(() => {\n            alert('Copied to clipboard!');\n        }, (err) => {\n            console.error('Could not copy text: ', err);\n        });\n    };\n\n    return (\n        <div className=\"feed-header\">\n\t    <img src={ NOSTR_IMG } className=\"header-icon\"/>\n            <div className=\"feed-header-tems\" >\n\t    <div className=\"feed-header-item\">\n                <strong>NoStr:&nbsp;</strong> { email}\n            </div>\n            <div className=\"feed-header-item\">\n                <strong>Pub:&nbsp; </strong><span className=\"pubkey-ellipsis\"> {publicKey}</span>\n                <button onClick={() => copyToClipboard(publicKey)} className=\"copy-button\">\n\t\t\t&#128203;\n                </button>\n            </div>\n\t\t</div>\n        </div>\n    );\n};\n\n\nconst ContactPage = ({ data }) => {\n \n  const [events, setEvents] = useState([]); \n\n  /*useEffect(() => {\n\tfetchRecentNotes(publicKey , (notes) => {\n\t   setEvents( notes ); \n\t   console.log('Final notes:', notes);\n\t});\n\t  //.catch(error => {\n\t    //console.error('Error fetching notes:', error);\n\t//});\n  }, []);*/\n\nreturn (\n    <NostrProvider relayUrls={relays} debug={true}>\n    <Layout>\n    <SEO title=\"Contact | poetry.me\" description=\"Contact the poet.\" />\n \t\t <ul className=\"breadcrumb\">\n        <li><Link to=\"/\">Home</Link></li>\n        <li>Contact</li>\n        </ul>\n      <div className=\"links\">\n                <a href=\"mailto:c.lacdael@poetry.me.uk\" _target=\"blank\" ><img src={Email} alt=\"email\" /><div>c.lacdael@poetry.me.uk</div></a>\n                <Link to=\"https://www.youtube.com/channel/UC2ZESffB6c9dyOpQTgltAOg\" target=\"_blank\"><img src={YouTube} alt=\"video channel\" /><div>*YouTube</div></Link>\n            </div>\n\n<em>*Currently looking at alternatives due to Youtube's morally indefensible activities.</em>\n\t<hr/>\n\t  <ProfileFeed events={ events } />\n   </Layout>\n  </NostrProvider>\n );\n};\n\n\nexport default ContactPage;\n","export default function _OverloadYield(t, e) {\n  this.v = t, this.k = e;\n}","import OverloadYield from \"./OverloadYield.js\";\nexport default function AsyncGenerator(e) {\n  var r, t;\n  function resume(r, t) {\n    try {\n      var n = e[r](t),\n        o = n.value,\n        u = o instanceof OverloadYield;\n      Promise.resolve(u ? o.v : o).then(function (t) {\n        if (u) {\n          var i = \"return\" === r ? \"return\" : \"next\";\n          if (!o.k || t.done) return resume(i, t);\n          t = e[i](t).value;\n        }\n        settle(n.done ? \"return\" : \"normal\", t);\n      }, function (e) {\n        resume(\"throw\", e);\n      });\n    } catch (e) {\n      settle(\"throw\", e);\n    }\n  }\n  function settle(e, n) {\n    switch (e) {\n      case \"return\":\n        r.resolve({\n          value: n,\n          done: !0\n        });\n        break;\n      case \"throw\":\n        r.reject(n);\n        break;\n      default:\n        r.resolve({\n          value: n,\n          done: !1\n        });\n    }\n    (r = r.next) ? resume(r.key, r.arg) : t = null;\n  }\n  this._invoke = function (e, n) {\n    return new Promise(function (o, u) {\n      var i = {\n        key: e,\n        arg: n,\n        resolve: o,\n        reject: u,\n        next: null\n      };\n      t ? t = t.next = i : (r = t = i, resume(e, n));\n    });\n  }, \"function\" != typeof e[\"return\"] && (this[\"return\"] = void 0);\n}\nAsyncGenerator.prototype[\"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\"] = function () {\n  return this;\n}, AsyncGenerator.prototype.next = function (e) {\n  return this._invoke(\"next\", e);\n}, AsyncGenerator.prototype[\"throw\"] = function (e) {\n  return this._invoke(\"throw\", e);\n}, AsyncGenerator.prototype[\"return\"] = function (e) {\n  return this._invoke(\"return\", e);\n};","import AsyncGenerator from \"./AsyncGenerator.js\";\nexport default function _wrapAsyncGenerator(fn) {\n  return function () {\n    return new AsyncGenerator(fn.apply(this, arguments));\n  };\n}"],"names":["isConstructor","tryToString","$TypeError","TypeError","module","exports","argument","charAt","S","index","unicode","length","fails","F","prototype","constructor","Object","getPrototypeOf","value","done","IteratorPrototype","create","createPropertyDescriptor","setToStringTag","Iterators","returnThis","this","IteratorConstructor","NAME","next","ENUMERABLE_NEXT","TO_STRING_TAG","PrototypeOfArrayIteratorPrototype","arrayIterator","isCallable","isObject","defineBuiltIn","wellKnownSymbol","IS_PURE","ITERATOR","BUGGY_SAFARI_ITERATORS","keys","test","call","hasOwn","toObject","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","$Object","ObjectPrototype","O","object","global","Promise","anObject","newPromiseCapability","C","x","promiseCapability","f","resolve","promise","classof","regexpExec","R","exec","result","re1","re2","uncurryThis","toString","regexpFlags","stickyHelpers","shared","getInternalState","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeReplace","String","replace","nativeExec","RegExp","patchedExec","indexOf","stringSlice","slice","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","undefined","string","reCopy","match","i","group","re","state","str","raw","groups","sticky","flags","source","charsAdded","strCopy","multiline","input","arguments","$RegExp","MISSED_STICKY","dotAll","a","defineProperty","target","TAG","STATIC","configurable","aConstructor","isNullOrUndefined","SPECIES","defaultConstructor","toIntegerOrInfinity","requireObjectCoercible","charCodeAt","createMethod","CONVERT_TO_STRING","$this","pos","first","second","position","size","codeAt","$","NativePromiseConstructor","getBuiltIn","speciesConstructor","promiseResolve","NativePromisePrototype","proto","real","forced","then","onFinally","isFunction","e","method","unsafe","createIteratorConstructor","createIterResultObject","toLength","isRegExp","getRegExpFlags","getMethod","advanceStringIndex","regExpExec","InternalStateModule","MATCH_ALL","REGEXP_STRING","REGEXP_STRING_ITERATOR","setInternalState","set","getterFor","RegExpPrototype","stringIndexOf","nativeMatchAll","matchAll","WORKS_WITH_NON_GLOBAL_REGEX","$RegExpStringIterator","regexp","$global","fullUnicode","type","$matchAll","matcher","rx","_awaitAsyncGenerator","OverloadYield","number","n","Number","isSafeInteger","Error","concat","bytes","b","Uint8Array","_len","lengths","Array","_key","includes","assert","bool","hash","outputLen","blockLen","exists","instance","checkFinished","destroyed","finished","output","out","min","globalThis","crypto","u8a","arr","DataView","buffer","byteOffset","byteLength","rotr","word","shift","Uint32Array","hexes","from","v","padStart","hex","hexToBytes","len","array","j","hexByte","byte","parseInt","isNaN","TextEncoder","encode","toBytes","data","arrays","r","reduce","sum","pad","forEach","Hash","key","_cloneInto","hashCons","hashC","msg","update","digest","tmp","randomBytes","bytesLength","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","Super","NewTarget","apply","SHA2","_Hash","_super","padOffset","isLE","_this","view","take","Math","subarray","process","dataView","roundClean","fill","setBigUint64","_32n","BigInt","_u32_max","wh","wl","h","l","setUint32","oview","outLen","get","_i","digestInto","res","destroy","to","_to","Maj","c","SHA256_K","IV","SHA256_W","SHA256","_SHA","A","B","D","E","G","H","offset","getUint32","W15","W2","s0","s1","T1","T2","SHA224","_SHA2","_super2","_this2","_0n","_1n","_2n","numberToHexUnpadded","num","hexToNumber","bytesToNumberBE","bytesToNumberLE","reverse","numberToBytesBE","numberToBytesLE","numberToVarBytesBE","title","expectedLength","b1","b2","bitLen","bitGet","bitSet","bitMask","u8n","u8fr","createHmacDrbg","hashLen","qByteLen","hmacFn","k","reset","_len2","_key2","reseed","seed","gen","sl","push","pred","validatorFns","bigint","val","function","boolean","isArray","field","Fp","isValid","validators","optValidators","checkField","fieldName","isOptional","checkVal","_Object$entries","entries","_Object$entries$_i","_i2","_Object$entries2","_Object$entries2$_i","_fieldName","_type","_3n","_4n","_5n","_8n","pow","power","modulo","pow2","invert","y","u","q","m","FpSqrt","P","p1div4","root","eql","sqr","c1","n2","mul","nv","sub","ONE","Q","Z","legendreC","Q1div2","neg","g","ZERO","t2","ge","tonelliShanks","FIELD_FIELDS","FpPow","p","d","FpInvertBatch","nums","lastMultiplied","acc","is0","inverted","inv","reduceRight","nLength","nBitLength","_nBitLength","nByteLength","ceil","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","getOwnPropertyDescriptors","defineProperties","validateBasic","curve","map","ORDER","MASK","BYTES","BITS","Gx","Gy","freeze","b2n","h2b","DER","Err","_Error","DERErr","_parseInt","toSig","_DER$_parseInt","sBytes","_DER$_parseInt2","s","hexFromSig","sig","shl","rhl","rl","weierstrassPoints","opts","CURVE","allowedPrivateKeyLengths","wrapPrivateKey","isTorsionFree","clearCofactor","allowInfinityPoint","fromBytes","endo","beta","splitScalar","validatePointOpts","point","isCompressed","toAffine","tail","weierstrassEquation","x2","x3","add","isWithinCurveOrder","assertGE","normPrivateKeyToScalar","error","pointPrecomputes","Map","assertPrjPoint","other","Point","px","py","pz","windowSize","_WINDOW_SIZE","delete","_this$toAffine","left","right","isOdd","X1","Y1","Z1","X2","Y2","Z2","U1","U2","b3","X3","Y3","Z3","t0","t1","t3","t4","t5","negate","equals","wnaf","wNAFCached","comp","toInv","invertBatch","fromAffine","I","unsafeLadder","_endo$splitScalar","k1neg","k1","k2neg","k2","k1p","k2p","double","scalar","fake","_endo$splitScalar2","_this$wNAF","wNAF","f1p","_this$wNAF2","f2p","constTimeNegate","_this$wNAF3","normalizeZ","BASE","multiply","multiplyUnsafe","iz","z","ax","ay","zz","cofactor","assertValidity","toRawBytes","_ref","points","privateKey","_bits","bits","condition","item","W","windows","elm","precomputeWindow","_opts","base","window","precomputes","_opts2","mask","maxNumber","shiftBy","wbits","offset1","offset2","abs","cond1","cond2","precomputesMap","transform","ProjectivePoint","weierstrass","curveDef","hmac","bits2int","bits2int_modN","lowS","CURVE_ORDER","compressedLen","uncompressedLen","modN","invN","_weierstrassPoints","cat","hasEvenY","head","y2","sqrt","numToNByteStr","isBiggerThanHalfOrder","normalizeS","slcNum","Signature","recovery","msgHash","rec","radj","prefix","fromHex","ir","u1","u2","multiplyAndAddUnsafe","hasHighS","toDERHex","toCompactHex","_DER$toSig","utils","isValidPrivateKey","randomPrivateKey","groupOrder","minLen","precompute","_setWindowSize","isProbPub","delta","ORDER_MASK","int2octets","prepSig","defaultSigOpts","some","prehash","ent","extraEntropy","h1int","seedArgs","k2sig","kBytes","ik","normS","defaultVerOpts","getPublicKey","fromPrivateKey","getSharedSecret","privateA","publicB","sign","privKey","_prepSig","drbg","verify","signature","publicKey","_Point$BASE$multiplyA","sg","_sig","fromDER","derError","fromCompact","_r","_s","message","_sig2","is","HMAC","iHash","oHash","buf","secp256k1P","secp256k1N","divNearest","sqrtMod","_6n","_11n","_22n","_23n","_44n","_88n","b6","b9","b11","b22","b44","b88","b176","b220","b223","defHash","redef","_nLength","sqrtP","lhs","rhs","div","sqrN","addN","subN","mulN","lst","cmov","Field","secp256k1","a1","a2","POW_2_128","c2","msgs","getHash","fe","TAGGED_HASH_PREFIXES","taggedHash","tag","tagP","tagH","messages","pointToBytes","numTo32b","modP","schnorrGetExtPubKey","priv","d_","lift_x","xx","challenge","args","schnorrGetPublicKey","schnorrSign","auxRand","_schnorrGetExtPubKey","t","rand","k_","_schnorrGetExtPubKey2","schnorrVerify","pub","mod","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","_arrayLikeToArray","name","_unsupportedIterableToArray","_e","err","normalCompletion","didErr","step","_e2","return","arr2","assertNumber","chain","wrap","decode","alphabet","digits","letter","join","separator","_step","_iterator","split","padding","chr","_step2","_iterator2","_step3","_iterator3","end","normalize","fn","convertRadix","carry","digit","digitBase","floor","gcd","radix2carry","convertRadix2","_step4","_iterator4","radix","radix2","revPadding","unsafeWrapper","checksum","payload","newChecksum","oldChecksum","base16","base32","base64","toUpperCase","base64url","genBase58","abc","base58","XMR_BLOCK_LEN","base58xmr","block","BECH_ALPHABET","POLYMOD_GENERATORS","bech32Polymod","pre","chk","bechChecksum","words","encodingConst","_step5","_iterator5","_i3","genBech32","encoding","ENCODING_CONST","_words","fromWords","toWords","fromWordsUnsafe","limit","lowered","toLowerCase","sepIndex","lastIndexOf","endsWith","actualLength","decodeToBytes","_decode","decodeUnsafe","bech32","utf8","TextDecoder","CODERS","wordlist","pbkdf2Init","_password","_salt","dkLen","asyncTick","password","salt","DK","PRF","PRFSalt","pbkdf2Output","prfW","pbkdf2","_pbkdf2Init","ti","Ti","setInt32","ui","_ref2","SHA512_Kh","SHA512_Kl","SHA512_W_H","SHA512_W_L","SHA512","Ah","Al","Bh","Bl","Ch","Cl","Dh","Dl","Eh","El","Fh","Fl","Gh","Gl","Hh","Hl","W15h","W15l","s0h","s0l","W2h","W2l","s1h","s1l","SUMl","SUMh","sigma1h","sigma1l","CHIh","CHIl","T1ll","T1h","T1l","sigma0h","sigma0l","MAJh","MAJl","_u64$add","All","_u64$add2","_u64$add3","_u64$add4","_u64$add5","_u64$add6","_u64$add7","_u64$add8","_u64$add9","rounded","nfkd","norm","assertEntropy","entropy","calcChecksum","bitsLeft","getCoder","entropyToMnemonic","isJapanese","validateMnemonic","mnemonic","mnemonicToEntropy","passphrase","Rho","Id","_","Pi","idxL","idxR","_arr","shifts","shiftsL","idx","shiftsR","Kl","Kr","rotl","BUF","RIPEMD160","h0","h1","h2","h3","h4","al","ar","bl","br","cl","cr","dl","dr","el","er","rGroup","hbl","hbr","rr","sr","tl","_i4","tr","ripemd160","U32_MASK64","fromBig","le","u64","_fromBig","toBig","shrSH","shrSL","rotrSH","rotrSL","rotrBH","rotrBL","rotr32H","rotr32L","rotlSH","rotlSL","rotlBH","rotlBL","add3L","add3H","low","add4L","add4H","add5H","add5L","_u64$split","_u64$split2","SHA512_224","_SHA3","SHA512_256","_super3","_this3","_SHA4","SHA384","_super4","_this4","sha256","base58check","bytesToNumber","MASTER_SECRET","BITCOIN_VERSIONS","private","public","HARDENED_OFFSET","toU32","HDKey","opt","depth","chainCode","parentFingerprint","versions","privKeyBytes","pubKey","pubHash","serialize","path","child","deriveChild","childTweak","fingerprint","added","_added","toCompactRawBytes","xpriv","privateExtendedKey","xpub","publicExtendedKey","version","base58key","keyBuffer","keyView","isPriv","json","fromExtendedKey","defaults","obj","assign","u8to16","Poly1305","Uint16Array","t6","t7","isLast","hibit","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","h5","h6","h7","h8","h9","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","finalize","opos","sigma16","sigma32","sigma16_32","sigma32_32","isAligned32","salsaBasic","_checkOpts","rounds","counterRight","counterLen","allow128bitKeys","core","extendNonceFn","blockLen32","nonce","counter","sigma","toClean","nonceLen","nc","b32","k32","n32","d32","o32","ctr","pos32","_j","chachaCore","cnt","y00","y01","y02","y03","y04","y05","y06","y07","y08","y09","y10","y11","y12","y13","y14","y15","x00","x01","x02","x03","x04","x05","x06","x07","x08","x09","x10","x11","x12","x13","x14","x15","oi","chacha20","HKDF_COUNTER","EMPTY_BUFFER","hkdf","ikm","info","prk","blocks","okm","HMACTmp","T","expand","extract","_marked","_matchAll","_e3","__defProp","__export","all","MessageNode","_MessageNode","MessageQueue","_MessageQueue","insertEventIntoAscendingList","_insertEventIntoAscendingList","insertEventIntoDescendingList","_insertEventIntoDescendingList","normalizeURL","_normalizeURL","utf8Decoder","_utf8Decoder","utf8Encoder","_utf8Encoder","url","URL","pathname","port","protocol","searchParams","sort","sortedArray","event","_sortedArray$position","midPoint","start","created_at","id","_sortedArray$position2","_value","_next","node","_first","_last","_size","messageNode","newNode","prev","verifiedSymbol","getBlankEvent","kind","content","tags","finishEvent","pubkey","getEventHash","getSignature","evt","validateEvent","JSON","stringify","serializeEvent","verifySignature","matchFilter","ids","startsWith","kinds","authors","_loop","tagName","values","find","_ret","since","until","matchFilters","filters","_getHex","_getInt","sliced","_getSubscriptionId","pstart","pend","_matchEventId","_matchEventPubkey","_matchEventKind","getHex64","getInt","getSubscriptionId","matchEventId","matchEventKind","matchEventPubkey","relayInit","ws","connectionPromise","options","_options$listTimeout","listTimeout","_options$getTimeout","getTimeout","_options$countTimeout","countTimeout","openSubs","listeners","connect","disconnect","notice","auth","subListeners","pubListeners","connectRelay","_connectRelay","_callee4","_context4","abrupt","reject","WebSocket","onopen","cb","onerror","onclose","_callee3","_context3","stop","handleNextInterval","incomingMessageQueue","handleNext","clearInterval","dequeue","subid","so","alreadyHaveEvent","parse","_subListeners$id","id2","skipVerification","_subListeners$id2","count","_id","eose","_id2","ok","reason","_pubListeners$_id","resolve2","reject2","_listeners$auth","onmessage","enqueue","setInterval","connected","_ws","readyState","_connect","_callee5","_context5","trySend","_x2","_trySend","_callee6","params","_context6","setTimeout","send","console","log","_sub","_ref5","_ref5$verb","verb","_ref5$skipVerificatio","_ref5$alreadyHaveEven","_ref5$id","random","subscription","newFilters","newOpts","unsub","on","off","listeners2","splice","events","eventsGenerator","_publishEvent","_ws2","list","timeout","clearTimeout","publish","_callee","_context","_callee2","_context2","close","_ws3","OPEN","status","_ws$readyState","_ws4","_x","_eventsGenerator","_callee7","nextResolve","eventQueue","pushToQueue","_context7","sent","finish","BECH32_REGEX","_BECH32_REGEX","naddrEncode","_naddrEncode","neventEncode","_neventEncode","noteEncode","_noteEncode","nprofileEncode","_nprofileEncode","npubEncode","_npubEncode","nrelayEncode","_nrelayEncode","nsecEncode","_nsecEncode","nip19","_bech32$decode","_tlv$","tlv","parseTLV","relays","_tlv$2","_tlv$3","_tlv$4","_tlv","author","_tlv2$","_tlv2$2","_tlv2$3","_tlv2","identifier","_tlv3$","_tlv3","rest","encodeBytes","encodeBech32","profile","encodeTLV","kindArray","uint8Array","integerToUint8Array","addr","ArrayBuffer","_ref10","_ref11","entry","_encrypt","_x7","_x8","_x9","_encrypt2","_callee13","privkey","text","normalizedKey","iv","plaintext","cryptoKey","ciphertext","ctb64","ivb64","_context14","getNormalizedX","subtle","importKey","encrypt","_decrypt","_x10","_x11","_x12","_decrypt2","_callee14","_data$split","_data$split2","_context15","decrypt","webcrypto","NIP05_REGEX","_NIP05_REGEX","queryProfile","_queryProfile","searchDomain","_searchDomain","useFetchImplementation","_useFetchImplementation","_fetch","fetch","_unused","fetchImplementation","_x13","_searchDomain2","_callee15","domain","query","_args16","_context16","names","_x14","_queryProfile2","_callee16","fullname","_match2","_match2$","_parseNIP05Result","_context17","parseNIP05Result","_pubkey","relay","_privateKeyFromSeedWords","fromMasterSeed","mnemonicToSeedSync","derive","_generateSeedWords","strength","generateMnemonic","_validateWords","generateSeedWords","privateKeyFromSeedWords","validateWords","_parse","reply","mentions","profiles","eTags","eTagIndex","eTag","_eTag","eTagEventId","eTagRelayUrl","eTagMarker","eventPointer","isFirstETag","isLastETag","_getPow","nibble","clz32","_minePow","unsigned","difficulty","now","Date","getTime","getPow","minePow","_finishRepostEvent","reposted","relayUrl","_t$tags","_getRepostedEventPointer","_lastPTag","_lastPTag2","lastETag","lastPTag","_getRepostedEvent","_ref12","pointer","repostedEvent","finishRepostEvent","getRepostedEvent","getRepostedEventPointer","NOSTR_URI_REGEX","_NOSTR_URI_REGEX","parse2","_test","uri","decoded","_finishReactionEvent","reacted","_t$tags2","_t$content","inheritedTags","_getReactedEventPointer","finishReactionEvent","getReactedEventPointer","_createDelegation","parameters","conditions","cond","sighash","_getDelegator","tag2","_conditions$i$split","_conditions$i$split2","operator","createDelegation","getDelegator","regex","_regex","replaceAll","_replaceAll","matches","_iterator6","_step6","_match","_context12","replacer","channelCreateEvent","_channelCreateEvent","channelHideMessageEvent","_channelHideMessageEvent","channelMessageEvent","_channelMessageEvent","channelMetadataEvent","_channelMetadataEvent","channelMuteUserEvent","_channelMuteUserEvent","_fetch2","_t$tags3","_t$tags4","channel_create_event_id","_t$tags5","relay_url","reply_to_channel_message_event_id","_t$tags6","channel_message_event_id","_t$tags7","pubkey_to_mute","useFetchImplementation2","validateGithub","_validateGithub","_unused2","_x15","_x16","_x17","_validateGithub2","_callee17","username","proof","_context18","authenticate","_authenticate","_ref14","_callee12","_ref13","_context13","_x18","decrypt2","encrypt2","_utils","v2","maxPlaintextSize","minCiphertextSize","maxCiphertextSize","getConversationKey","privkeyA","pubkeyB","getMessageKeys","conversationKey","encryption","calcPadding","nextpower","log2","chunk","unpadded","unpaddedB","paddedLen","zeros","lenBuf","setUint16","unpad","padded","unpaddedLen","getUint16","_options$version","_options$salt","mac","clen","vers","ciphertext_","isSame","_parseConnectionString","connectionString","_URL","secret","_makeNwcRequestEvent","_x19","_makeNwcRequestEvent2","_callee18","_ref15","invoice","encryptedContent","eventTemplate","_context19","round","makeNwcRequestEvent","parseConnectionString","_fetch3","getZapEndpoint","_getZapEndpoint","makeZapReceipt","_makeZapReceipt","makeZapRequest","_makeZapRequest","useFetchImplementation3","validateZapRequest","_validateZapRequest","_unused3","_x20","_getZapEndpoint2","_callee19","metadata","lnurl","_JSON$parse","lud06","lud16","_bech322$decode","_lud16$split","_lud16$split2","body","_context20","allowsNostr","nostrPubkey","callback","_ref16","amount","_ref16$comment","comment","zr","zapRequestString","zapRequest","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","preimage","bolt11","paidAt","tagsFromZapRequest","_ref24","zap","getToken","_getToken","unpackEventFromToken","_unpackEventFromToken","validateEvent2","validateToken","_validateToken","_authorizationScheme","_x21","_x22","_x23","_getToken2","_callee20","loginUrl","httpMethod","includeAuthorizationScheme","signedEvent","authorizationScheme","_args21","_context21","_x24","_x25","_x26","_validateToken2","_callee21","token","valid","_context22","catch","_x27","_unpackEventFromToken2","_callee22","eventB64","_context23","_x28","_x29","_x30","_validateEvent","_callee23","urlTag","methodTag","_context24","Op","hasOwnProperty","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","writable","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","makeInvokeMethod","tryCatch","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","methodName","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","asyncGeneratorStep","_throw","_extends","bind","uniqBy","_extends2","NostrContext","createContext","isLoading","connectedRelays","onConnect","onDisconnect","isOn","_console","NostrProvider","children","relayUrls","debug","_useState","useState","setIsLoading","_useState2","setConnectedRelays","_useState3","setRelays","relayUrlsRef","useRef","onConnectCallback","onDisconnectCallback","disconnectToRelays","useCallback","_relays$find","connectToRelays","_ref3","findIndex","useEffect","current","relayUrlsToDisconnect","_onConnectCallback","_onDisconnectCallback","jsx","Provider","useNostrEvents","_ref4","_ref4$enabled","enabled","_useNostr","useContext","isLoadingProvider","_useState4","_useState5","setEvents","_useState6","unsubscribe","setUnsubscribe","onEventCallback","onSubscribeCallback","onDoneCallback","filterBase64","btoa","_unsubscribe","subscribe","unsubscribeFunc","_events","relaySubs","onSubscribe","_onSubscribeCallback","onEvent","_onEventCallback","onDone","_onDoneCallback","Note","imageUrls","className","toLocaleString","src","alt","ProfileFeed","props","_date","date","setMonth","getMonth","getTwoMonthsAgoTimestamp","filtered","style","FeedHeader","email","NOSTR_IMG","onClick","navigator","clipboard","writeText","alert","description","Link","href","_target","Email","YouTube","_OverloadYield","AsyncGenerator","resume","settle","_wrapAsyncGenerator"],"sourceRoot":""}